# ä¸€ã€æ•°æ®æºå¹³å°

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æºå¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1PhuMzqEAr/?spm_id_from=333.1387.homepage.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®æºå¹³å°åŸºäºå¼€æºé¡¹ç›®Chat2DBå»ºè®¾ã€‚

AllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆé›†æˆChat2DBå¼€æºé¡¹ç›®ï¼Œå®ç°AIé©±åŠ¨æ•°æ®ç®¡ç†åŠŸèƒ½ï¼Œé€šè¿‡æ™ºèƒ½æ¨¡å‹å®ç°è‡ªç„¶è¯­è¨€ä¸SQLçš„åŒå‘è½¬æ¢ï¼Œæ”¯æŒä¸šåŠ¡äººå‘˜ç›´æ¥ç”¨è‡ªç„¶è¯­è¨€ç”Ÿæˆå¤æ‚æŸ¥è¯¢è¯­å¥ï¼Œé™ä½æ•°æ®åº“äº¤äº’é—¨æ§›ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š



**01 æ™ºèƒ½SQLç”Ÿæˆä¸ä¼˜åŒ–ï¼š**

è‡ªåŠ¨è¡¥å…¨ä»£ç å—ã€æ™ºèƒ½æç¤ºå­—æ®µã€æ‚¬æµ®æŸ¥çœ‹DDLï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚

**02 æ•°æ®å¯è§†åŒ–ä¸åˆ†æï¼š**

æ”¯æŒè‡ªå®šä¹‰æŠ¥è¡¨ï¼Œé›†æˆå¤šæ•°æ®æºç”Ÿæˆä¸°å¯Œå›¾è¡¨ç±»å‹ï¼Œå¿«é€Ÿæ´å¯Ÿæ•°æ®è§„å¾‹ã€‚

**03 å¤šæ•°æ®åº“å…¼å®¹ï¼š**

è¦†ç›–MySQLã€PostgreSQLã€Oracleç­‰ä¸»æµæ•°æ®åº“åŠè¾¾æ¢¦ã€äººå¤§é‡‘ä»“ã€OceanBaseç­‰å›½äº§æ•°æ®åº“ï¼Œæ”¯æŒæ•°æ®è¿æ¥æŸ¥è¯¢ä¸ç®¡ç†ã€‚



ğŸ”¹**Chat2DBé¡¹ç›®åœ°å€ï¼š**https://github.com/CodePhiliaX/Chat2DB

ğŸ”¹**Chat2DBå®˜æ–¹æ–‡æ¡£ï¼š**https://chat2db-ai.com/resources/docs/start-guide/getting-started



### 2.2. æ•°æ®æºå¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- æ•°æ®æºæ³¨å†Œç™»è®°
- æ•°æ®ç®¡ç†å·¥ä½œå°
- ä»ªè¡¨ç›˜å¯è§†åŒ–
- æ•°æ®åˆ†æ



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æºå¹³å°ï¼ˆChat2DBï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486699428-e93f37dc-3955-42f6-b735-290c87c44eaa.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡ï¼šæ„å»ºAIå¢å¼ºçš„æ•°æ®ç®¡ç†åŸºç¡€

#### 3.1.1. **æ“ä½œç³»ç»Ÿä¸ä¾èµ–**

- **æ¨èç³»ç»Ÿ**ï¼šCentOS 7.9/Ubuntu 20.04 LTSï¼Œéœ€é…ç½®é™æ€IPåŠSSHå…å¯†ç™»å½•ã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 11ï¼ˆå¿…é¡»é…ç½®`JAVA_HOME`ï¼Œä¾‹å¦‚`export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64`ï¼‰ã€‚
- **æ•°æ®åº“**ï¼šMySQL 8.0ï¼ˆéœ€åˆå§‹åŒ–æ•°æ®åº“å¹¶æ‰§è¡Œ`install/chat2db_mysql.sql`è„šæœ¬ï¼ŒåŒ…å«è¡¨ç»“æ„åŠåˆå§‹æ•°æ®ï¼‰ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.8.6ï¼ˆé…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿä¾èµ–ä¸‹è½½ï¼‰ã€Git 2.30+ã€Node.js 16.xï¼ˆç”¨äºå‰ç«¯æ¨¡å—ç¼–è¯‘ï¼‰ã€‚
- **AIæ¨¡å‹æœåŠ¡**ï¼šè‹¥å¯ç”¨è‡ªç„¶è¯­è¨€è½¬SQLåŠŸèƒ½ï¼Œéœ€éƒ¨ç½²LLMæœåŠ¡ï¼ˆå¦‚QianWenã€ChatGLMï¼‰ï¼Œå¹¶é…ç½®`application-prod.yml`ä¸­çš„APIç«¯ç‚¹ï¼š

```javascript
ai:
  nlp2sql:
    enabled: true
    api-url: http://llm-server:8080/v1/chat/completions
```

#### 3.1.2. **æœåŠ¡å™¨èµ„æºè§„åˆ’**

- **æµ‹è¯•ç¯å¢ƒ**ï¼š4æ ¸8Gå†…å­˜ + 100GBç£ç›˜ç©ºé—´ï¼ˆæ”¯æŒ20+å¹¶å‘æŸ¥è¯¢ï¼‰ã€‚
- **ç”Ÿäº§ç¯å¢ƒ**ï¼š16æ ¸32Gå†…å­˜ + 500GB NVMe SSDï¼ˆæ”¯æŒ100+å¹¶å‘æŸ¥è¯¢åŠå¤æ‚AIæ¨ç†ï¼‰ã€‚
- **ç½‘ç»œè¦æ±‚**ï¼šå¼€æ”¾ç«¯å£8080ï¼ˆWebæœåŠ¡ï¼‰ã€9090ï¼ˆAPIæœåŠ¡ï¼‰ã€3306ï¼ˆMySQLï¼‰ã€6379ï¼ˆRedisï¼Œå¯é€‰ï¼‰ã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…ï¼Œé›†æˆAIèƒ½åŠ›çš„æ•°æ®æºç®¡ç†æ ¸å¿ƒ

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. åˆ†æ”¯ç­–ç•¥

- **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨`dev`åˆ†æ”¯è·å–æœ€æ–°AIåŠŸèƒ½ï¼ˆå¦‚SQLä¼˜åŒ–å»ºè®®ï¼‰ã€‚
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šé€‰æ‹©`release/v2.x.x`æ ‡ç­¾ç‰ˆæœ¬ï¼ˆå¦‚`v2.8.0`ï¼‰ï¼Œé¿å…æœªç»éªŒè¯çš„ä»£ç ã€‚



### 3.4. ç¼–è¯‘æ„å»ºï¼šå‰åç«¯åˆ†ç¦»ä¸AIæ¨¡å‹é›†æˆ

#### 3.4.1. **åç«¯æœåŠ¡æ„å»º**

ğŸ’¡è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œä½¿ç”¨Mavenå®‰è£…é¡¹ç›®ä¾èµ–ï¼š

```javascript
mvn clean install -DskipTests -Pai-integration  # å¯ç”¨AIæ’ä»¶ç¼–è¯‘
```

#### 3.4.2. **å…³é”®è¾“å‡º**

- `chat2db-server/target/chat2db-server-2.8.0.jar`ï¼ˆä¸»æœåŠ¡JARåŒ…ï¼‰ã€‚
- `chat2db-plugins/target/ai-plugins.zip`ï¼ˆAIæ¨¡å‹æ’ä»¶åŒ…ï¼Œå«NLP2SQLå¼•æ“ï¼‰ã€‚

#### 3.4.3. **å‰ç«¯æ¨¡å—ç¼–è¯‘**

```javascript
cd sciencemoat-ui/ui_chat2db
npm install --registry=https://registry.npmmirror.com  # ä½¿ç”¨æ·˜å®é•œåƒåŠ é€Ÿ
npm run build:ai  # ç”Ÿæˆæ”¯æŒAIäº¤äº’çš„é™æ€èµ„æºè‡³distç›®å½•
```

#### 3.4.4. **AIæ’ä»¶çƒ­éƒ¨ç½²**

- è§£å‹`ai-plugins.zip`è‡³`/opt/chat2db/plugins`ç›®å½•ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½NLPæ¨¡å‹ã€SQLä¼˜åŒ–å™¨ç­‰æ‰©å±•ã€‚



### 3.5. **éƒ¨ç½²åŠè¿è¡Œé…ç½®ï¼šç”Ÿäº§çº§æœåŠ¡æ‰˜ç®¡**

#### 3.5.1. **SystemdæœåŠ¡æ‰˜ç®¡ï¼ˆæ¨èï¼‰**

```javascript
# /etc/systemd/system/chat2db.service
[Unit]
Description=Chat2DB AI-Enhanced Data Source Platform
After=network.target mysql.service
 
[Service]
User=chat2db
Group=chat2db
ExecStart=/usr/bin/java -Xms4g -Xmx8g -jar /opt/chat2db/chat2db-server-2.8.0.jar
Restart=on-failure
LimitNOFILE=65536
 
[Install]
WantedBy=multi-user.target
```

ğŸ’¡ **å¯åŠ¨å‘½ä»¤**ï¼š

```javascript
systemctl daemon-reload
systemctl start chat2db
systemctl enable chat2db
```

#### 3.5.2. **æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š**

- **æ•°æ®åº“è¿æ¥**ï¼šconfig/application-prod.yml

```javascript
spring:
  datasource:
    url: jdbc:mysql://mysql-master:3306/chat2db?useSSL=false
    username: chat2db_admin
    password: Encrypted@123  # å»ºè®®ä½¿ç”¨JasyptåŠ å¯†
```

- **AIæ’ä»¶è·¯å¾„**ï¼š`config/plugin.yml`

```javascript
plugin:
  directories:
    - /opt/chat2db/plugins/nlp
    - /opt/chat2db/plugins/sql-optimizer
```

#### 3.5.3. **é«˜å¯ç”¨éƒ¨ç½²**

- **é›†ç¾¤æ¨¡å¼**ï¼šé€šè¿‡Nginxè´Ÿè½½å‡è¡¡ï¼ˆé…ç½®ç¤ºä¾‹ï¼‰ï¼š

```javascript
upstream chat2db_servers {
    server 192.168.1.101:8080;
    server 192.168.1.102:8080;
}
 
server {
    listen 80;
    location / {
        proxy_pass http://chat2db_servers;
        proxy_set_header Host $host;
    }
}
```



### 3.6. **å¯é€‰é…ç½®ï¼šæ€§èƒ½ä¼˜åŒ–ä¸åŠŸèƒ½æ‰©å±•**

#### 3.6.1. **AIèƒ½åŠ›æ‰©å±•**

- **è‡ªå®šä¹‰NLPæ¨¡å‹**ï¼šå®ç°`com.chat2db.plugin.nlp.NlpEngine`æ¥å£ï¼Œæ‰“åŒ…ä¸ºJARåæ”¾å…¥æ’ä»¶ç›®å½•ã€‚
- **ç¤ºä¾‹**ï¼šæ·»åŠ è¡Œä¸šæœ¯è¯­æ”¯æŒï¼š

```javascript
public class FinanceNlpEngine implements NlpEngine {
    @Override
    public String parseToSql(String naturalLanguage, DataSourceConfig config) {
        // è§£æé‡‘èé¢†åŸŸæŸ¥è¯¢ï¼ˆå¦‚â€œæŸ¥è¯¢è¿‘30å¤©äº¤æ˜“é¢è¶…è¿‡100ä¸‡çš„å®¢æˆ·â€ï¼‰
        return "SELECT customer_id FROM transactions WHERE amount > 1000000 AND date >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)";
    }
}
```

#### 3.6.2. **æ€§èƒ½è°ƒä¼˜å‚æ•°**

- **JVMä¼˜åŒ–**ï¼š

```javascript
-XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:InitiatingHeapOccupancyPercent=35
```

- **çº¿ç¨‹æ± é…ç½®**ï¼š`application-prod.yml`

```javascript
task:
  executor:
    core-pool-size: 32
    max-pool-size: 128
    queue-capacity: 2000
```

#### 3.6.3. **å®‰å…¨åŠ å›ºæªæ–½**

- **APIé‰´æƒ**ï¼šå¯ç”¨JWTä»¤ç‰ŒéªŒè¯ï¼ˆä¿®æ”¹`security.yml`ï¼‰ï¼š

```javascript
security:
  jwt:
    secret: ${JWT_SECRET:default-secret-key}
    expiration: 86400000  # 24å°æ—¶
```

**å®¡è®¡æ—¥å¿—**ï¼šé…ç½®`logback-spring.xml`è®°å½•æ•æ„Ÿæ“ä½œï¼š

```javascript
<logger name="com.chat2db.audit" level="INFO" additivity="false">
    <appender-ref ref="AUDIT_FILE"/>
</logger>
```



### 3.7. éªŒè¯ä¸ç›‘æ§

#### 3.7.1. **å¥åº·æ£€æŸ¥æ¥å£**

```javascript
curl -I http://localhost:8080/actuator/health
# è¿”å›HTTP 200è¡¨ç¤ºæœåŠ¡æ­£å¸¸
```

#### 3.7.2. **å…³é”®æŒ‡æ ‡ç›‘æ§**

- **Prometheusé…ç½®**ï¼šå¯ç”¨`/actuator/prometheus`ç«¯ç‚¹ï¼Œç›‘æ§æŒ‡æ ‡åŒ…æ‹¬ï¼š

- `chat2db_ai_request_latency_seconds`ï¼ˆAIæ¨ç†å»¶è¿Ÿï¼‰
- `chat2db_sql_execution_count`ï¼ˆSQLæ‰§è¡Œæ¬¡æ•°ï¼‰

#### 3.7.3. **æ—¥å¿—åˆ†æ**

- ä½¿ç”¨ELKæ ˆé›†ä¸­ç®¡ç†æ—¥å¿—ï¼Œå…³é”®å­—æ®µåŒ…æ‹¬ï¼š

- `requestId`ï¼ˆè¯·æ±‚å”¯ä¸€æ ‡è¯†ï¼‰
- `dataSourceType`ï¼ˆæ•°æ®æºç±»å‹ï¼‰
- `aiModelVersion`ï¼ˆä½¿ç”¨çš„AIæ¨¡å‹ç‰ˆæœ¬ï¼‰

### 3.8. å…¸å‹é—®é¢˜å¤„ç†

#### 3.8.1. **æ’ä»¶åŠ è½½å¤±è´¥**

- **ç°è±¡**ï¼šæ—¥å¿—å‡ºç°`PluginLoadException: Model not found`ã€‚
- **è§£å†³**ï¼šæ£€æŸ¥æ’ä»¶JARæ˜¯å¦åŒ…å«`META-INF/services/com.chat2db.plugin.spi.ServiceLoader`æ–‡ä»¶ï¼Œå¹¶ç¡®è®¤æ¨¡å‹æ–‡ä»¶ï¼ˆå¦‚`.bin`ã€`.json`ï¼‰ä½äº`/opt/chat2db/plugins/nlp/models`ç›®å½•ã€‚

#### 3.8.2. **MySQLè¿æ¥æ± è€—å°½**

- **ç°è±¡**ï¼š`Too many connections`é”™è¯¯ã€‚
- **è§£å†³**ï¼šè°ƒæ•´`max-active`å‚æ•°ï¼ˆé»˜è®¤20ï¼‰å¹¶ä¼˜åŒ–SQLæŸ¥è¯¢ï¼š

```javascript
spring:
  datasource:
    hikari:
      maximum-pool-size: 100
      connection-timeout: 30000
```

#### 3.8.3. **è·¨åŸŸé—®é¢˜ï¼ˆå‰ç«¯é›†æˆï¼‰**

- **ç°è±¡**ï¼šæµè§ˆå™¨æ§åˆ¶å°æŠ¥`CORS policy`é”™è¯¯ã€‚
- **è§£å†³**ï¼šåœ¨`application-prod.yml`ä¸­é…ç½®ï¼š

```javascript
cors:
  allowed-origins: "https://your-frontend-domain.com"
  allowed-methods: "GET,POST,PUT,DELETE"
```



## 4. è®¿é—®æ•°æ®æºå¹³å°é¡µé¢

#### 4.1.1. æ•°æ®æº

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646684216-b945675b-b539-4b65-850a-6938f0f7cb3c.jpeg)

#### 4.1.2. æ”¯æŒé“¾æ¥å¤šç§æ•°æ®åº“

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1752648411824-8d834865-1011-40d3-b684-41429fa67a9c.png)

#### 4.1.3. é“¾æ¥MySQLæ•°æ®åº“

- å¯å®‰å…¨é«˜æ•ˆè¿æ¥MySQLæ•°æ®åº“ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646702661-8f98baeb-7c5e-4088-a614-47a0e624b5bb.jpeg)

#### 4.1.4. é“¾æ¥KingBaseæ•°æ®åº“

- å¯å®‰å…¨é«˜æ•ˆé“¾æ¥KingBaseæ•°æ®åº“ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646720320-793db54d-1d58-4677-95fc-188821bdeb37.jpeg)

#### 4.1.5. é“¾æ¥OceanBaseæ•°æ®åº“

- å¯å®‰å…¨é«˜æ•ˆé“¾æ¥OceaBaseæ•°æ®åº“ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646725423-a25a6fa1-a482-4142-9c41-ae13dcb96f1f.jpeg)

#### 4.1.6. å¯¼å…¥æ•°æ®åº“

- æ”¯æŒMySQLç­‰å¤šç±»å‹æ•°æ®åº“ä¸€é”®å¯¼å…¥ï¼Œå®ç°é«˜æ•ˆæ•°æ®é›†æˆä¸ç»Ÿä¸€ç®¡ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646735595-cc4399d6-dbdb-4694-ab36-bb8f18f52148.jpeg)

#### 4.1.7. å·¥ä½œå°

- Chat2DBå·¥ä½œå°æ”¯æŒå¤šæ•°æ®æºç®¡ç†ï¼Œæä¾›SQLå¼€å‘ä¸æ™ºèƒ½åˆ†æä¸€ä½“åŒ–æ“ä½œç•Œé¢ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646741123-4e864dc8-7bd8-4a2a-913f-eba76bddb388.jpeg)

#### 4.1.8. æ ¼å¼åŒ–-æ‰§è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646750939-a31b7067-0b05-45a3-9428-1e340dfc5d62.jpeg)

#### 4.1.9. æ‰§è¡ŒæˆåŠŸï¼Œè¯·é€‰æ‹©å›¾è¡¨é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646877930-92b578a4-a228-4189-a607-3e390728b82d.jpeg)

#### 4.1.10. ç¼–è¾‘ä»ªè¡¨ç›˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646894698-8247f05e-3bdb-4b03-adc1-3ddb3d02df09.jpeg)

#### 4.1.11. æ“ä½œ-ç‚¹å‡»ç¼–è¾‘ä»ªè¡¨ç›˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646907003-b6273ebd-8ba2-4a64-94c4-6f901b073491.jpeg)

#### 4.1.12. è¯åˆ¸æŒä»“-ä»ªè¡¨ç›˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646932146-9e3b99ba-1179-4145-99f5-c8a0bfe89f8d.jpeg)

#### 4.1.13. æ•°æ®ä¸­å°-ä»ªè¡¨ç›˜å±•ç¤º

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646939334-f1dc743b-9543-4a50-ad2a-a1a53c1ed332.jpeg)

#### 4.1.14. å›¢é˜Ÿç®¡ç†-é“¾æ¥ç®¡ç†-æ·»åŠ é“¾æ¥

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646961046-7c616065-4eba-4c50-aac2-16b198c6c143.jpeg)

#### 4.1.15. å›¢é˜Ÿç®¡ç†-é“¾æ¥ç®¡ç†-æ·»åŠ é“¾æ¥-MySQL

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646978564-993bffac-636e-4851-a613-25083b767a49.jpeg)

#### 4.1.16. å›¢é˜Ÿç®¡ç†-ç”¨æˆ·ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752646991437-c0e682a8-8086-48c7-be2f-45365965d6c1.jpeg)

#### 4.1.17. ç”¨æˆ·ç®¡ç†-æ·»åŠ ç”¨æˆ·

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752647003706-078ab022-c33a-4964-abd7-5c373c56aee5.jpeg)

#### 4.1.18. ç”¨æˆ·ç®¡ç†-ç¼–è¾‘ç”¨æˆ·

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752647025785-df270a12-3bdf-49e5-a33d-9a54f251f528.jpeg)

#### 4.1.19. å½’å±å›¢é˜Ÿ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752647030494-0bc08262-447c-4c5b-b43c-552962d2ee5e.jpeg)

#### 4.1.20. å½’å±é“¾æ¥

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752647040393-cdcd8235-c154-4020-adab-fcfa5501cd3b.jpeg)

#### 4.1.21. è®¾ç½®-è‡ªå®šä¹‰AI

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752647052435-f9ccb10e-8025-4baf-9e1a-dddb48a8c653.jpeg)

#### 4.1.22. è®¾ç½®-æœåŠ¡ç«¯åœ°å€

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752647076408-a69b155e-b136-4336-91a5-09925c3765d1.jpeg)



------

# äºŒã€æ•°æ®åº“åŒæ­¥å¹³å°(dbswitch)

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®åº“åŒæ­¥å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1P5byzXERH/?spm_id_from=333.1387.homepage.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®åº“åŒæ­¥å¹³å°åŸºäºå¼€æºé¡¹ç›®DBSwitchå»ºè®¾ã€‚

DBSwitchæ˜¯æ¬¾å¼€æºæ•°æ®åº“è¿ç§»å·¥å…·ï¼Œæ”¯æŒå¤šç§ä¸»æµåŠå›½äº§æ•°æ®åº“é—´çš„å…¨é‡ä¸å¢é‡è¿ç§»ï¼Œæ¶µç›–è¡¨ç»“æ„åŒæ­¥ä¸æ•°æ®åŒæ­¥ï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå…·å¤‡é«˜æ‰©å±•æ€§ä¸çµæ´»æ€§ï¼Œå¯ä¿éšœæ•°æ®è¿ç§»ä¸è®¿é—®çš„é«˜æ•ˆç¨³å®šï¼Œé™ä½ä¼ä¸šå¤šæ•°æ®åº“æ±‡èšå…¥æ¹–ä»“æˆæœ¬ï¼Œæå‡ç³»ç»Ÿå…¼å®¹æ€§ä¸å¯æ‰©å±•æ€§ã€‚



ğŸ”¹**DBSwitchå¼€æºé¡¹ç›®ï¼š****https://gitee.com/inrgihc/dbswitch**



### 2.2. æ•°æ®åº“åŒæ­¥å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å…¨åœºæ™¯æ•°æ®åŒæ­¥èƒ½åŠ›
- æ·±åº¦è¡¨ç»“æ„é€‚é…
- æ™ºèƒ½ä»»åŠ¡è°ƒåº¦ä¸è¿ç»´
- å›½äº§æ•°æ®åº“ä¸ä¸­é—´ä»¶ç”Ÿæ€
- ä¼ä¸šçº§å®‰å…¨ä¸æ‰©å±•æ€§
- é«˜æ€§èƒ½ä¸ç¨³å®šæ€§



### 2.3. æ•°æ®åº“åŒæ­¥å¹³å°æŠ€æœ¯ç‰¹ç‚¹ï¼š

**DBSwitch**ä»¥â€œå…¨åœºæ™¯åŒæ­¥+æ·±åº¦é€‚é…+æ™ºèƒ½è¿ç»´â€ä¸ºæ ¸å¿ƒï¼Œè¦†ç›–ä»ç»“æ„åŒ–æ•°æ®è¿ç§»åˆ°å›½äº§æ•°æ®åº“ç”Ÿæ€æ•´åˆçš„å®Œæ•´éœ€æ±‚ï¼Œä¸ºä¼ä¸šæä¾›é«˜æ•ˆã€å®‰å…¨ã€å¯æ‰©å±•çš„æ•°æ®åŒæ­¥è§£å†³æ–¹æ¡ˆã€‚

**DBSwitch**å·¥å…·æä¾›æºç«¯æ•°æ®åº“å‘ç›®çš„ç«¯æ•°æ®åº“çš„ç¦»çº¿æ‰¹é‡è¿ç§»åŒæ­¥åŠŸèƒ½ï¼Œæ”¯æŒæ•°æ®çš„å…¨é‡/å¢é‡/å˜åŒ–é‡æ–¹å¼åŒæ­¥ã€‚

#### 2.3.1. ç»“æ„è¿ç§»

- æ”¯æŒå­—æ®µç±»å‹ã€ä¸»é”®ä¿¡æ¯ã€å»ºè¡¨è¯­å¥ç­‰çš„è½¬æ¢ï¼Œå¹¶ç”Ÿæˆå»ºè¡¨SQLè¯­å¥ï¼›
- æ”¯æŒåŸºäºæ­£åˆ™è¡¨è¾¾å¼è½¬æ¢çš„è¡¨åä¸å­—æ®µåæ˜ å°„è½¬æ¢ã€‚



#### 2.3.2. æ•°æ®åŒæ­¥

##### 2.3.2.1. **å…¨é‡è¿ç§»**ï¼š

- åŸºäºJDBCçš„åˆ†æ‰¹æ¬¡ç¦»çº¿è¯»å–æºç«¯æ•°æ®åº“æ•°æ®ï¼›
- å¹¶åŸºäºinsert/copyæ–¹å¼å°†æ•°æ®åˆ†æ‰¹æ¬¡å†™å…¥ç›®çš„æ•°æ®åº“ã€‚

##### 2.3.2.2. **å¢é‡åŒæ­¥**ï¼š

- æ”¯æŒæŒ‡å®šå¢é‡æ ‡è¯†å­—æ®µçš„å¢é‡åŒæ­¥(é€‚ç”¨äºæ—¥å¿—è¡¨ç­‰å­˜åœ¨å¢é‡æ ‡è¯†å­—æ®µçš„åŒæ­¥åœºæ™¯)ï¼›
- æ”¯æŒæœ‰ä¸»é”®è¡¨çš„ å˜åŒ–é‡åŒæ­¥ ï¼ˆå˜åŒ–æ•°æ®è®¡ç®—Change Data Calculateï¼‰åŠŸèƒ½(åƒä¸‡çº§ä»¥ä¸Šæ•°æ®é‡çš„æ€§èƒ½å°šéœ€åœ¨ç”Ÿäº§ç¯å¢ƒéªŒè¯)ã€‚

##### 2.3.2.3. å®šæ—¶è°ƒåº¦ï¼š

- å†…ç½® CronJob å®šæ—¶ä»»åŠ¡å¼•æ“ï¼Œæ”¯æŒæ‰‹åŠ¨è§¦å‘æˆ–è‡ªåŠ¨åŒ–è°ƒåº¦ï¼Œæ»¡è¶³å‘¨æœŸæ€§æ•°æ®åŒæ­¥åœºæ™¯ã€‚



#### 2.3.3. æŠ€æœ¯ç‰¹ç‚¹

##### 2.3.3.1. **å¤š****æ•°æ®åº“æ”¯æŒ**

- è¦†ç›–RDBMS/Olapæ•°æ®åº“ï¼šMySQLã€Oracleã€SQL Serverã€PostgreSqlã€DB2ã€Sybaseã€Hiveã€Sqlite3ã€ClickHouseã€MongoDBã€ElasticSearchã€StarRocksã€GreenPlumã€Dorisã€TDEngine ç­‰ä¸»æµæ•°æ®åº“ã€‚
- æ”¯æŒå›½äº§æ•°æ®åº“ï¼šè¾¾æ¢¦æ•°æ®åº“ï¼Œäººå¤§é‡‘ä»“æ•°æ®åº“ï¼Œç¥é€šæ•°æ®åº“ï¼Œå—å¤§é€šç”¨æ•°æ®åº“ï¼Œç€šé«˜æ•°æ®åº“ï¼ŒGaussæ•°æ®åº“ï¼Œ OceanBaseæ•°æ®åº“ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1756713740314-5d70b227-f93a-4287-8af1-aaaa92fdef4f.jpeg)

##### 2.3.3.2. **é«˜æ•ˆæ•°æ®å†™å…¥**

- é€šè¿‡äºŒè¿›åˆ¶åè®®ä¸æ‰¹é‡æ“ä½œä¼˜åŒ–å†™å…¥æ€§èƒ½ï¼Œå‡å°‘ç½‘ç»œä¸ I/O å¼€é”€ã€‚

##### 2.3.3.3. **çµæ´»æ‰©å±•æ€§**

- æ¨¡å—åŒ–è®¾è®¡æ”¯æŒå¿«é€Ÿé€‚é…æ–°æ•°æ®åº“æˆ–å®šåˆ¶åŠŸèƒ½ï¼Œå¦‚æ–°å¢æ–¹è¨€å®ç°æˆ–å†™å…¥ä¼˜åŒ–ã€‚





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®åº“åŒæ­¥å¹³å°ï¼ˆDBSwitchï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486699428-e93f37dc-3955-42f6-b735-290c87c44eaa.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡ï¼šè·¨å¹³å°å…¼å®¹æ€§ä¿éšœ

#### 3.1.1. **åŸºç¡€ç¯å¢ƒè¦æ±‚**

- **æ“ä½œç³»ç»Ÿ**ï¼šæ”¯æŒLinuxï¼ˆCentOS/Ubuntuï¼‰å’ŒWindows Serverï¼Œéœ€é…ç½®JDK 1.8+ã€Maven 3.6.3+ï¼ˆå…¼å®¹JDK 17ï¼‰åŠGitã€‚
- **æ•°æ®åº“é©±åŠ¨**ï¼šé¢„ç½®Oracleã€MySQLã€PostgreSQLã€SQL Serverç­‰ä¸»æµæ•°æ®åº“çš„JDBCé©±åŠ¨åŒ…ï¼Œå•†ä¸šç‰ˆéœ€é›†æˆè¾¾æ¢¦ã€GaussDBç­‰å›½äº§æ•°æ®åº“é©±åŠ¨ã€‚
- **ç½‘ç»œé…ç½®**ï¼šå¼€æ”¾ç®¡ç†ç«¯å£ï¼ˆé»˜è®¤9088ï¼‰åŠæ•°æ®åº“è¿æ¥ç«¯å£ï¼Œé…ç½®é˜²ç«å¢™è§„åˆ™å…è®¸è·¨åº“è®¿é—®ã€‚

#### 3.1.2. **ç¯å¢ƒä¼˜åŒ–å»ºè®®**

- **Mavené•œåƒåŠ é€Ÿ**ï¼šä¿®æ”¹`settings.xml`ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒï¼Œç¼©çŸ­ä¾èµ–ä¸‹è½½æ—¶é—´ã€‚
- **Dockerå®¹å™¨åŒ–**ï¼šæä¾›é¢„æ„å»ºé•œåƒï¼ˆå¦‚`registry.cn-hangzhou.aliyuncs.com/inrgihc/dbswitch:1.9.7`ï¼‰ï¼Œæ”¯æŒå¿«é€Ÿéƒ¨ç½²æµ‹è¯•ç¯å¢ƒã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. **ç‰ˆæœ¬ç®¡ç†ç­–ç•¥**

- **æ ‡ç­¾ç®¡ç†**ï¼šä½¿ç”¨`git tag`æ ‡è®°ç¨³å®šç‰ˆæœ¬ï¼ˆå¦‚`v2.0.1`ï¼‰ï¼Œé¿å…ç›´æ¥åŸºäº`master`åˆ†æ”¯å¼€å‘ã€‚
- **å­æ¨¡å—é›†æˆ**ï¼šè‹¥éœ€æ‰©å±•CDCï¼ˆå˜æ›´æ•°æ®æ•è·ï¼‰åŠŸèƒ½ï¼Œå¯å¼•å…¥Debeziumå­æ¨¡å—å®ç°å®æ—¶åŒæ­¥ã€‚



### 3.4. ç¼–è¯‘æ„å»ºï¼šè‡ªåŠ¨åŒ–ä¸å®šåˆ¶åŒ–

#### 3.4.1. **æ ‡å‡†ç¼–è¯‘æµç¨‹**

ğŸ’¡**Linux/macOS**ï¼š

```javascript
cd dbswitch
sh ./build.sh  # æ‰§è¡ŒMavenæ¸…ç†ã€æµ‹è¯•ã€æ‰“åŒ…
```

- **Windows**ï¼šåŒå‡»`build.cmd`è„šæœ¬ï¼Œç”Ÿæˆ`target/dbswitch-release-x.x.x.tar.gz`ã€‚

#### 3.4.2. **å•†ä¸šç‰ˆå¢å¼ºæ„å»º**

- **Profileé…ç½®**ï¼šé€šè¿‡`-Pcommercial`å‚æ•°æ¿€æ´»ä¼ä¸šçº§æ¨¡å—ï¼Œä¾‹å¦‚ï¼š

```javascript
mvn clean package -Pcommercial -DskipTests
```

**æ’ä»¶æ‰©å±•**ï¼šé›†æˆAllDataä¸­å°çš„è‡ªå®šä¹‰æ’ä»¶ï¼ˆå¦‚æ•°æ®è´¨é‡æ ¡éªŒæ’ä»¶ï¼‰ï¼Œåœ¨`pom.xml`ä¸­æ·»åŠ ä¾èµ–ï¼š

```javascript
<dependency>
    <groupId>com.alldata</groupId>
    <artifactId>data-quality-plugin</artifactId>
    <version>1.0.0</version>
</dependency>
```





### 3.5. **éƒ¨ç½²åŠè¿è¡Œé…ç½®ï¼š**é«˜å¯ç”¨ä¸å®‰å…¨

#### 3.5.1. **è§£å‹éƒ¨ç½²**

- **Linux**ï¼š

```javascript
tar -zxvf dbswitch-release-2.0.1.tar.gz -C /opt/alldata/
cd /opt/alldata/dbswitch-release-2.0.1/bin
sh startup.sh  # å¯åŠ¨æœåŠ¡
```

- **Windows**ï¼šè§£å‹è‡³`D:\alldata\`ï¼Œè¿è¡Œ`startup.cmd`ã€‚

#### 3.5.2. **æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š**

- `**conf/config.yml**`ï¼ˆæ¨èYAMLæ ¼å¼ï¼‰ï¼š

```javascript
dbswitch:
  source:
    url: jdbc:mysql://192.168.1.100:3306/source_db
    username: root
    password: ENC(AES:encrypted_password)  # é›†æˆJasyptåŠ å¯†
  target:
    url: jdbc:postgresql://192.168.1.200:5432/target_db
    writer-engine-insert: false  # PostgreSQLä½¿ç”¨COPYå‘½ä»¤æå‡æ€§èƒ½
  task:
    fetch-size: 5000  # åˆ†æ‰¹è¯»å–æ•°æ®ï¼Œé¿å…OOM
    change-data-sync: true  # å¯ç”¨å¢é‡åŒæ­¥
```

#### 3.5.3. **é«˜å¯ç”¨æ–¹æ¡ˆ****ï¼š**

- **é›†ç¾¤éƒ¨ç½²**ï¼šé€šè¿‡Nginxè´Ÿè½½å‡è¡¡å¤šå°DBSwitchå®ä¾‹ï¼Œé…ç½®å¥åº·æ£€æŸ¥ï¼š

```javascript
upstream dbswitch_cluster {
    server 10.0.0.1:9088;
    server 10.0.0.2:9088;
}
server {
    listen 9088;
    location / {
        proxy_pass http://dbswitch_cluster;
    }
}
```

#### 3.5.4. **é«˜å¯ç”¨éƒ¨ç½²**

- **é›†ç¾¤æ¨¡å¼**ï¼šé€šè¿‡Nginxè´Ÿè½½å‡è¡¡ï¼ˆé…ç½®ç¤ºä¾‹ï¼‰ï¼š

```javascript
upstream datacap_servers {
    server 192.168.1.101:8080;
    server 192.168.1.102:8080;
}
 
server {
    listen 80;
    location / {
        proxy_pass http://datacap_servers;
        proxy_set_header Host $host;
    }
}
```

- **æ•°æ®æŒä¹…åŒ–**ï¼šå°†ä»»åŠ¡è°ƒåº¦è®°å½•å­˜å‚¨è‡³Redisé›†ç¾¤ï¼Œé¿å…å•ç‚¹æ•…éšœã€‚



### 3.6. **å¯é€‰é…ç½®ï¼šæ€§èƒ½ä¼˜åŒ–ä¸åŠŸèƒ½æ‰©å±•**

#### 3.6.1. **æ•°æ®è½¬æ¢è§„åˆ™**

- **å­—æ®µæ˜ å°„**ï¼šé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è½¬æ¢è¡¨å/å­—æ®µåï¼Œä¾‹å¦‚ï¼š

```javascript
regex-table-mapper:
  - from-pattern: '^tbl_'
    to-value: 't_'
```

- **æ•°æ®è„±æ•**ï¼šé›†æˆAllDataä¸­å°çš„è„±æ•ç®—æ³•ï¼Œå¯¹æ•æ„Ÿå­—æ®µï¼ˆå¦‚èº«ä»½è¯å·ï¼‰è¿›è¡ŒSHA-256å“ˆå¸Œå¤„ç†ã€‚

#### 3.6.2. **ç›‘æ§ä¸å‘Šè­¦**

- **Prometheusé›†æˆ**ï¼šæš´éœ²`/actuator/prometheus`ç«¯ç‚¹ï¼Œç›‘æ§ä»»åŠ¡æ‰§è¡Œè€—æ—¶ã€é”™è¯¯ç‡ç­‰æŒ‡æ ‡ã€‚
- **ä¼ä¸šå¾®ä¿¡å‘Šè­¦**ï¼šé€šè¿‡Webhookæ¨é€åŒæ­¥å¤±è´¥é€šçŸ¥ï¼Œé…ç½®ç¤ºä¾‹ï¼š

```javascript
alert:
  wechat:
    webhook-url: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx
    message-template: "ä»»åŠ¡ã€${taskName}ã€‘åŒæ­¥å¤±è´¥ï¼Œé”™è¯¯ï¼š${errorMsg}"
```

#### 3.6.3. **å¤šç§Ÿæˆ·æ”¯æŒ**

- **åŠ¨æ€æ•°æ®æº**ï¼šåŸºäºSpring Cloud Configå®ç°ç§Ÿæˆ·çº§é…ç½®éš”ç¦»ï¼Œæ¯ä¸ªç§Ÿæˆ·æ‹¥æœ‰ç‹¬ç«‹çš„æ•°æ®åº“è¿æ¥æ± ã€‚
- **æƒé™æ§åˆ¶**ï¼šé›†æˆSpring Security OAuth2ï¼ŒæŒ‰ç§Ÿæˆ·è§’è‰²åˆ†é…ä»»åŠ¡ç®¡ç†æƒé™ã€‚



### 3.7. éªŒè¯ä¸è°ƒä¼˜

#### 3.7.1. **åŠŸèƒ½éªŒè¯**

- **å…¨é‡åŒæ­¥æµ‹è¯•**ï¼šè¿ç§»10GBçº§MySQLè¡¨è‡³PostgreSQLï¼ŒéªŒè¯æ•°æ®ä¸€è‡´æ€§ï¼ˆé€šè¿‡`CHECKSUM TABLE`å‘½ä»¤ï¼‰ã€‚
- **å¢é‡åŒæ­¥æµ‹è¯•**ï¼šæ¨¡æ‹Ÿæºåº“æ•°æ®å˜æ›´ï¼Œæ£€æŸ¥ç›®æ ‡åº“æ˜¯å¦å®æ—¶æ›´æ–°ã€‚

#### 3.7.2. **æ€§èƒ½è°ƒä¼˜**

- **å¹¶è¡Œåº¦è°ƒæ•´**ï¼šä¿®æ”¹`task.parallel-threads`å‚æ•°ï¼ˆé»˜è®¤4ï¼‰ä»¥å……åˆ†åˆ©ç”¨CPUèµ„æºã€‚
- **æ‰¹é‡å¤§å°ä¼˜åŒ–**ï¼šæ ¹æ®ç½‘ç»œå¸¦å®½è°ƒæ•´`batch-size`ï¼ˆå»ºè®®1000-5000è¡Œ/æ‰¹ï¼‰ã€‚

#### 3.7.3. 

## 4. è®¿é—®æ•°æ®åº“åŒæ­¥å¹³å°é¡µé¢

#### 4.1.1. æ•°æ®åº“åŒæ­¥å¹³å°-ç³»ç»Ÿæ¦‚è§ˆ

- å¯ä¸€é”®å‘ˆç°å¤šæ•°æ®åº“è¿æ¥çŠ¶æ€ã€è¿ç§»ä»»åŠ¡è¿›åº¦åŠç³»ç»Ÿèµ„æºå ç”¨ç­‰å…³é”®ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421769469-c8d6a6ce-3196-4044-8321-b5ee26997e07.jpeg)

#### 4.1.2. æ•°æ®æº

- æ”¯æŒå¤šç±»å‹æ•°æ®åº“æ¥å…¥ï¼Œå¯ä¾¿æ·é…ç½®ç®¡ç†ï¼Œä¿éšœæ•°æ®ç¨³å®šé«˜æ•ˆåŒæ­¥ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421784195-64fcd0d0-485e-4fff-9aed-5fb8cfe2a0da.jpeg)

#### 4.1.3. æ•°æ®æº-æµ‹è¯•

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421825175-7d0b35a0-c6ce-428a-89c2-074c7de86e0e.jpeg)

#### 4.1.4. æ•°æ®æº-ç¼–è¾‘

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421833957-f075660e-a769-415a-a671-40383edeaf37.jpeg)

#### 4.1.5. æ•°æ®æº-ç¼–è¾‘-æ›´æ–°

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421841977-565cd280-1ec9-4841-9d66-73244afea19f.jpeg)

#### 4.1.6. æ•°æ®æº-è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421852743-b3b888d8-b558-450c-b6ec-b6e5e3428250.jpeg)

#### 4.1.7. æ•°æ®æº-è¯¦æƒ…æµ‹è¯•æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421864152-892da528-6d04-4321-abea-5938b7e9292a.jpeg)

#### 4.1.8. æ•°æ®æº-åˆ›å»ºæ•°æ®æº

- æ”¯æŒå¤šç±»å‹æ•°æ®åº“å‚æ•°é…ç½®ï¼Œä¸€é”®å¿«é€Ÿæ¥å…¥ï¼Œå®ç°é«˜æ•ˆæ•°æ®äº¤äº’ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421877903-4540cd79-615a-4e32-b13e-d4a7e40e0b53.jpeg)

#### 4.1.9. é©±åŠ¨é…ç½®

- å¯çµæ´»ç®¡ç†å¤šæ•°æ®åº“é©±åŠ¨ï¼Œæ”¯æŒä¸Šä¼ ã€åŠ è½½ä¸æ›´æ–°ï¼Œä¿éšœè¿æ¥ç¨³å®šã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757421890478-40c2b35f-240c-4b9b-9676-0e3e076cdd13.jpeg)

#### 4.1.10. é©±åŠ¨é…ç½®-æ·»åŠ 

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422107097-51a47ec9-3e6d-4d09-b85d-b739ad1dd6b6.jpeg)

#### 4.1.11. æ•°æ®å¯¼èˆª-å…ƒæ•°æ®-åŸºæœ¬ä¿¡æ¯

- å¯ç›´è§‚å±•ç¤ºè¡¨ç»“æ„ã€å­—æ®µç­‰æ ¸å¿ƒä¿¡æ¯ï¼ŒåŠ©åŠ›æ•°æ®ç®¡ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422130113-9ceabf0d-8692-4e90-9e55-b1d36aaa8011.jpeg)

#### 4.1.12. æ•°æ®å¯¼èˆª-å…ƒæ•°æ®-å­—æ®µä¿¡æ¯

- æ•°æ®å¯¼èˆªçš„å…ƒæ•°æ®å­—æ®µä¿¡æ¯åŠŸèƒ½ï¼Œèƒ½æ¸…æ™°å‘ˆç°å­—æ®µåç§°ã€ç±»å‹ã€é•¿åº¦ç­‰è¯¦æƒ…ï¼Œè¾…åŠ©ç²¾å‡†æŒæ¡æ•°æ®ç‰¹å¾ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422142510-69213463-cfc3-42cb-b152-6abdf0fec03a.jpeg)

#### 4.1.13. æ•°æ®å¯¼èˆª-å…ƒæ•°æ®-ç´¢å¼•ä¿¡æ¯

- å¯å¿«é€Ÿæ£€ç´¢ä¸åŒæ•°æ®æºçš„ç´¢å¼•è¯¦æƒ…ï¼Œå±•ç¤ºç´¢å¼•ç»“æ„ã€å…³è”å­—æ®µç­‰å…³é”®ä¿¡æ¯ï¼ŒåŠ©åŠ›é«˜æ•ˆç®¡ç†æ•°æ®ç´¢å¼•ï¼Œä¼˜åŒ–æ•°æ®æŸ¥è¯¢æ€§èƒ½ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422146349-49478ad5-058e-41db-8398-0e52d2946971.jpeg)

#### 4.1.14. æ•°æ®å¯¼èˆª-å…ƒæ•°æ®-å–æ ·ä¿¡æ¯

- å¯æŒ‰éœ€æŠ½å–æ•°æ®æ ·æœ¬ï¼Œå±•ç¤ºå­—æ®µå€¼åˆ†å¸ƒç­‰å…³é”®ä¿¡æ¯ï¼Œè¾…åŠ©ç”¨æˆ·å¿«é€Ÿäº†è§£æ•°æ®ç‰¹å¾ä¸è´¨é‡æƒ…å†µã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422172934-c4cdf1ad-9732-436a-98b3-bd4e018d17ff.jpeg)

#### 4.1.15. æ•°æ®å¯¼èˆª-SQLåœ¨çº¿

- SQLåœ¨çº¿åŠŸèƒ½æ”¯æŒå¤šæ•°æ®æºçš„SQLæŸ¥è¯¢ä¸æ‰§è¡Œï¼Œæä¾›è¯­æ³•é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨åŠç»“æœå¯è§†åŒ–å±•ç¤ºï¼ŒåŠ©åŠ›ç”¨æˆ·é«˜æ•ˆå®Œæˆæ•°æ®æ¢ç´¢ä¸åˆ†æä»»åŠ¡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422182739-fbb14d9f-60a0-49c7-ae8e-b0f6747f971c.jpeg)

#### 4.1.16. ä»»åŠ¡ç®¡ç†

- æ”¯æŒå¤šç±»å‹æ•°æ®åº“åŒæ­¥ä»»åŠ¡çš„åˆ›å»ºã€é…ç½®ä¸è°ƒåº¦ï¼Œæä¾›ä»»åŠ¡çŠ¶æ€ç›‘æ§ã€æ‰§è¡Œæ—¥å¿—æŸ¥çœ‹åŠå¼‚å¸¸å‘Šè­¦ï¼ŒåŠ©åŠ›ç”¨æˆ·é«˜æ•ˆç®¡ç†æ•°æ®åŒæ­¥æµç¨‹ï¼Œä¿éšœæ•°æ®è¿ç§»çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422201154-d85e8fca-0de4-4a8a-b66c-729a3c8f9403.jpeg)

#### 4.1.17. ä»»åŠ¡ç®¡ç†-æ—¥å¿—

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422211998-ca83de26-7064-4e2c-b236-36cfb18b8b0f.jpeg)

#### 4.1.18. ä»»åŠ¡ç®¡ç†-å¯åŠ¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422223364-f44baa95-317c-462a-a866-5d44726afc18.jpeg)

#### 4.1.19. ä»»åŠ¡ç®¡ç†-æ‰§è¡ŒæˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422235612-62f39213-8be1-496d-8b14-06bedf4d375c.jpeg)

#### 4.1.20. ä»»åŠ¡ç®¡ç†-è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422248382-9ff0ba06-5575-405f-ba54-b42d27527952.jpeg)

#### 4.1.21. ä»»åŠ¡ç®¡ç†-åˆ›å»ºä»»åŠ¡-åŸºæœ¬ä¿¡æ¯é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422259332-49dd3c6e-f149-4ecc-be61-60f7e0b9df05.jpeg)

#### 4.1.22. ä»»åŠ¡ç®¡ç†-åˆ›å»ºä»»åŠ¡-åŒæ­¥æºç«¯é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422264851-d0f6f88a-ea14-4e75-962e-8ccf736ef2c9.jpeg)

#### 4.1.23. ä»»åŠ¡ç®¡ç†-åˆ›å»ºä»»åŠ¡-ç›®æ ‡ç«¯é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422270145-f23701fc-0022-408b-bc9f-a4dc23cc9849.jpeg)

#### 4.1.24. æ”¯æŒåˆ‡æ¢åŒæ­¥æ¨¡å¼ï¼ŒåŒæ­¥è¡¨ç»“æ„/è¡¨+æ•°æ®/ä»…æ•°æ®åŒæ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1757474897286-747f39eb-17b5-4aee-914b-2fed80644f6a.png)

#### 4.1.25. ä»»åŠ¡ç®¡ç†-åˆ›å»ºä»»åŠ¡-æ˜ å°„è½¬æ¢é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422275537-4b158d64-cf11-4401-8ccf-8c3720360cc7.jpeg)

#### 4.1.26. ä»»åŠ¡ç®¡ç†-åˆ›å»ºä»»åŠ¡-é…ç½®ç¡®è®¤æäº¤

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422282552-9d0ce7ba-a9fe-4919-9619-6115b79b17a5.jpeg)

#### 4.1.27. ç›‘æ§è°ƒåº¦

- å¯å®æ—¶ç›‘æ§æ•°æ®æºè¿æ¥çŠ¶æ€ä¸ä»»åŠ¡æ‰§è¡Œæƒ…å†µï¼Œæ”¯æŒå®šæ—¶è°ƒåº¦ä¸ä¾èµ–è°ƒåº¦ï¼Œç¡®ä¿æ•°æ®åŒæ­¥ä»»åŠ¡æŒ‰è®¡åˆ’ç¨³å®šè¿è¡Œï¼Œå¹¶æä¾›å¼‚å¸¸å‘Šè­¦ä¸æ—¥å¿—è®°å½•ï¼ŒåŠ©åŠ›é«˜æ•ˆè¿ç»´ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422287783-a45b100f-3495-4760-a6d5-3343b6b2d388.jpeg)

#### 4.1.28. ç›‘æ§è°ƒåº¦-æŸ¥çœ‹æ—¥å¿—è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422297940-cea080e6-5313-4a74-aba6-ddee55de0983.jpeg)

#### 4.1.29. æ“ä½œæ—¥å¿—

- æ“ä½œæ—¥å¿—åŠŸèƒ½å¯å®Œæ•´è®°å½•æ•°æ®åŒæ­¥ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å…³é”®æ“ä½œï¼ŒåŒ…æ‹¬ä»»åŠ¡å¯åŠ¨ã€åœæ­¢ã€å¼‚å¸¸ç­‰çŠ¶æ€å˜æ›´ï¼ŒåŠ©åŠ›ç”¨æˆ·å®æ—¶ç›‘æ§ä»»åŠ¡è¿›åº¦ï¼Œå¿«é€Ÿå®šä½å¹¶è§£å†³æ½œåœ¨é—®é¢˜ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1757422301714-ec1df4e4-e868-4437-8a64-059647c8e7b9.jpeg)



------

# ä¸‰ã€æ•°æ®ä¸­æ¢å¹³å°(datacap)

 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®ä¸­æ¢å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1PhuMzqEK2/?spm_id_from=333.1387.homepage.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®ä¸­æ¢å¹³å°åŸºäºå¼€æºé¡¹ç›®DataCapå»ºè®¾ã€‚

AllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆä¸­çš„æ•°æ®ä¸­æ¢å¹³å°ï¼ˆDataCapï¼‰åŠŸèƒ½ï¼Œæ˜¯ä¸€æ¬¾ç”¨äºæ•°æ®è½¬æ¢ã€é›†æˆå’Œå¯è§†åŒ–çš„é›†æˆè½¯ä»¶ã€‚æ”¯æŒå¤šç§æ•°æ®æºã€æ–‡ä»¶ç±»å‹ã€å¤§æ•°æ®ç›¸å…³æ•°æ®åº“ã€å…³ç³»å‹æ•°æ®åº“ã€NoSQL æ•°æ®åº“ç­‰ã€‚é€šè¿‡è¯¥è½¯ä»¶å¯ä»¥å®ç°å¯¹å¤šæ•°æ®æºçš„ç®¡ç†ï¼Œä»¥åŠå¯¹æ•°æ®æºä¸‹çš„æ•°æ®è¿›è¡Œå„ç§æ“ä½œè½¬æ¢ã€‚



1ã€å°†æ‰€æœ‰æ•°æ®æºçš„æŸ¥è¯¢è¯­è¨€ç»Ÿä¸€ä¸º SQLï¼Œæ— è®ºæ˜¯å…³ç³»å‹æ•°æ®åº“ã€NoSQLã€æ–‡ä»¶ç³»ç»Ÿè¿˜æ˜¯å…¶ä»–ä¸­é—´ä»¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ SQL è¿›è¡Œæ“ä½œã€‚

2ã€æŒè¶…è¿‡ 40+ æ•°æ®æºï¼ŒåŒ…æ‹¬ ClickHouseã€MySQLã€PostgreSQLã€MongoDBã€Redisã€Elasticsearchã€Kafka ç­‰ä¸»æµæ•°æ®åº“å’Œä¸­é—´ä»¶

3ã€é€šè¿‡ JDBCã€Nativeã€HTTP ç­‰å¤šç§åè®®è¿æ¥åˆ°ä¸åŒçš„æ•°æ®æºï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’Œå…¼å®¹æ€§ã€‚

4ã€æ’ä»¶åŒ–ç³»ç»Ÿè®¾è®¡ï¼Œæ”¯æŒåœ¨çº¿å®‰è£…ã€å¸è½½ã€æ›´æ–°å’Œçƒ­éƒ¨ç½²ï¼Œæ–¹ä¾¿ç³»ç»Ÿçš„æ‰©å±•å’Œç»´æŠ¤ã€‚

5ã€æ”¯æŒæ•°æ®è½¬æ¢å’Œé›†æˆï¼Œå¯ä»¥å°†ä¸åŒæ•°æ®æºçš„æ•°æ®è½¬æ¢ä¸ºç»Ÿä¸€çš„æ ¼å¼ï¼Œå¹¶è¿›è¡Œæ•°æ®é›†æˆï¼Œå®ç°æ•°æ®çš„ç»Ÿä¸€åŒ–ç®¡ç†å’Œåˆ†æï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡Œæ•°æ®è¿ç§»å’Œæ•´åˆã€‚



ğŸ”¹**DataCapå¼€æºé¡¹ç›®ï¼š**https://github.com/devlive-community/datacap



### 2.2. æ•°æ®ä¸­æ¢å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- æ•°æ®è½¬æ¢
- æ•°æ®æŸ¥è¯¢
- æ•°æ®é›†æˆ
- æ•°æ®å¯è§†åŒ–
- æ’ä»¶æ‰©å±•ç³»ç»Ÿ





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®ä¸­æ¢å¹³å°ï¼ˆDataCapï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486699428-e93f37dc-3955-42f6-b735-290c87c44eaa.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡ï¼šæ„å»ºé«˜å¯ç”¨åŸºç¡€è®¾æ–½

#### 3.1.1. **æ“ä½œç³»ç»Ÿä¸ä¾èµ–**

- **æ¨èç³»ç»Ÿ**ï¼šCentOS 7.9/Ubuntu 20.04 LTSï¼Œéœ€é…ç½®é™æ€IPåŠSSHå…å¯†ç™»å½•ã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 11ï¼ˆå¿…é¡»é…ç½®`JAVA_HOME`ï¼Œä¾‹å¦‚`export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64`ï¼‰ã€‚
- **æ•°æ®åº“**ï¼šMySQL 8.0ï¼ˆéœ€åˆå§‹åŒ–æ•°æ®åº“å¹¶æ‰§è¡Œ`install/datacap_mysql.sql`è„šæœ¬ï¼ŒåŒ…å«è¡¨ç»“æ„åŠåˆå§‹æ•°æ®ï¼‰ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.8.6ï¼ˆé…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿä¾èµ–ä¸‹è½½ï¼‰ã€Git 2.30+ã€‚
- **å‰ç«¯ä¾èµ–**ï¼šNode.js 16.xï¼ˆç”¨äºå‰ç«¯æ¨¡å—ç¼–è¯‘ï¼‰ã€‚

#### 3.1.2. **æœåŠ¡å™¨èµ„æºè§„åˆ’**

- **æµ‹è¯•ç¯å¢ƒ**ï¼š4æ ¸8Gå†…å­˜ + 100GBç£ç›˜ç©ºé—´ã€‚
- **ç”Ÿäº§ç¯å¢ƒ**ï¼š16æ ¸32Gå†…å­˜ + 500GB NVMe SSDï¼ˆæ”¯æŒ40+æ•°æ®æºå¹¶å‘è¿æ¥ï¼‰ã€‚
- **ç½‘ç»œè¦æ±‚**ï¼šå¼€æ”¾ç«¯å£8080ï¼ˆWebæœåŠ¡ï¼‰ã€9090ï¼ˆAPIæœåŠ¡ï¼‰ã€3306ï¼ˆMySQLï¼‰ã€6379ï¼ˆRedisï¼Œå¯é€‰ï¼‰ã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. **åˆ†æ”¯é€‰æ‹©å»ºè®®**

- **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨`dev`åˆ†æ”¯è·å–æœ€æ–°åŠŸèƒ½ã€‚
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šé€‰æ‹©`release/v2.x.x`æ ‡ç­¾ç‰ˆæœ¬ï¼ˆå¦‚`v2.5.0`ï¼‰ï¼Œé¿å…æœªç»éªŒè¯çš„ä»£ç ã€‚



### 3.4. ç¼–è¯‘æ„å»ºï¼šåç«¯ä¸å‰ç«¯åˆ†ç¦»æ„å»º

#### 3.4.1. **åç«¯æœåŠ¡æ„å»º**

ğŸ’¡è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œä½¿ç”¨Mavenå®‰è£…é¡¹ç›®ä¾èµ–ï¼š

```javascript
mvn clean install -DskipTests -Pprod  # è·³è¿‡æµ‹è¯•å¹¶å¯ç”¨ç”Ÿäº§é…ç½®
```

#### 3.4.2. **å…³é”®è¾“å‡º**

- `datacap-server/target/datacap-server-2.5.0.jar`ï¼ˆä¸»æœåŠ¡JARåŒ…ï¼‰ã€‚
- `datacap-plugins/target/plugins.zip`ï¼ˆæ’ä»¶å¸‚åœºä¾èµ–åŒ…ï¼‰ã€‚

#### 3.4.3. **å‰ç«¯æ¨¡å—ç¼–è¯‘**

```javascript
cd sciencemoat-ui/ui_datacap
npm install --registry=https://registry.npmmirror.com  # ä½¿ç”¨æ·˜å®é•œåƒåŠ é€Ÿ
npm run build:prod  # ç”Ÿæˆé™æ€èµ„æºè‡³distç›®å½•
```

#### 3.4.4. **æ’ä»¶ç³»ç»Ÿçƒ­éƒ¨ç½²**

- è§£å‹`plugins.zip`è‡³`/opt/datacap/plugins`ç›®å½•ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½JDBCé©±åŠ¨ã€è½¬æ¢å™¨ç­‰æ‰©å±•ã€‚



### 3.5. **éƒ¨ç½²åŠè¿è¡Œé…ç½®ï¼šç”Ÿäº§çº§æœåŠ¡æ‰˜ç®¡**

#### 3.5.1. **SystemdæœåŠ¡æ‰˜ç®¡ï¼ˆæ¨èï¼‰**

```javascript
# /etc/systemd/system/datacap.service
[Unit]
Description=DataCap Data Integration Platform
After=network.target mysql.service
 
[Service]
User=datacap
Group=datacap
ExecStart=/usr/bin/java -Xms4g -Xmx8g -jar /opt/datacap/datacap-server-2.5.0.jar
Restart=on-failure
LimitNOFILE=65536
 
[Install]
WantedBy=multi-user.target
```

ğŸ’¡ **å¯åŠ¨å‘½ä»¤**ï¼š

```javascript
systemctl daemon-reload
systemctl start datacap
systemctl enable datacap
```

#### 3.5.2. **æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š**

- **æ•°æ®åº“è¿æ¥**ï¼šconfig/application-prod.yml

```javascript
spring:
  datasource:
    url: jdbc:mysql://mysql-master:3306/datacap?useSSL=false
    username: datacap_admin
    password: Encrypted@123  # å»ºè®®ä½¿ç”¨JasyptåŠ å¯†
```

- **æ’ä»¶è·¯å¾„**ï¼š`config/plugin.yml`

```javascript
plugin:
  directories:
    - /opt/datacap/plugins/connector
    - /opt/datacap/plugins/converter
```

#### 3.5.3. **é«˜å¯ç”¨éƒ¨ç½²**

- **é›†ç¾¤æ¨¡å¼**ï¼šé€šè¿‡Nginxè´Ÿè½½å‡è¡¡ï¼ˆé…ç½®ç¤ºä¾‹ï¼‰ï¼š

```javascript
upstream datacap_servers {
    server 192.168.1.101:8080;
    server 192.168.1.102:8080;
}
 
server {
    listen 80;
    location / {
        proxy_pass http://datacap_servers;
        proxy_set_header Host $host;
    }
}
```



### 3.6. **å¯é€‰é…ç½®ï¼šæ€§èƒ½ä¼˜åŒ–ä¸åŠŸèƒ½æ‰©å±•**

#### 3.6.1. **æ•°æ®æºæ’ä»¶æ‰©å±•**

- **è‡ªå®šä¹‰Connector**ï¼šå®ç°`com.datacap.plugin.connector.DataConnector`æ¥å£ï¼Œæ‰“åŒ…ä¸ºJARåæ”¾å…¥æ’ä»¶ç›®å½•ã€‚
- **ç¤ºä¾‹**ï¼šæ·»åŠ SAP HANAæ”¯æŒï¼š

```javascript
public class SapHanaConnector implements DataConnector {
    @Override
    public Connection getConnection(DataSourceConfig config) throws SQLException {
        return DriverManager.getConnection(
            "jdbc:sap://hana-server:30015", 
            config.getUsername(), 
            config.getPassword()
        );
    }
}
```

#### 3.6.2. **æ€§èƒ½è°ƒä¼˜å‚æ•°**

- **JVMä¼˜åŒ–**ï¼š

```javascript
-XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:InitiatingHeapOccupancyPercent=35
```

- **çº¿ç¨‹æ± é…ç½®**ï¼šapplication-prod.yml

```javascript
task:
  executor:
    core-pool-size: 16
    max-pool-size: 64
    queue-capacity: 1000
```

#### 3.6.3. **å®‰å…¨åŠ å›ºæªæ–½**

- **APIé‰´æƒ**ï¼šå¯ç”¨JWTä»¤ç‰ŒéªŒè¯ï¼ˆä¿®æ”¹`security.yml`ï¼‰ï¼š

```javascript
security:
  jwt:
    secret: ${JWT_SECRET:default-secret-key}
    expiration: 86400000  # 24å°æ—¶
```

**å®¡è®¡æ—¥å¿—**ï¼šé…ç½®`logback-spring.xml`è®°å½•æ•æ„Ÿæ“ä½œï¼š

```javascript
<logger name="com.datacap.audit" level="INFO" additivity="false">
    <appender-ref ref="AUDIT_FILE"/>
</logger>
```



### 3.7. éªŒè¯ä¸ç›‘æ§

#### 3.7.1. **å¥åº·æ£€æŸ¥æ¥å£**

```javascript
curl -I http://localhost:8080/actuator/health
# è¿”å›HTTP 200è¡¨ç¤ºæœåŠ¡æ­£å¸¸
```

#### 3.7.2. **å…³é”®æŒ‡æ ‡ç›‘æ§**

- **Prometheusé…ç½®**ï¼šå¯ç”¨`/actuator/prometheus`ç«¯ç‚¹ï¼Œç›‘æ§æŒ‡æ ‡åŒ…æ‹¬ï¼š

- `datacap_task_queue_size`ï¼ˆä»»åŠ¡ç§¯å‹æ•°ï¼‰
- `datacap_connector_latency_seconds`ï¼ˆæ•°æ®æºå“åº”æ—¶é—´ï¼‰

#### 3.7.3. **æ—¥å¿—åˆ†æ**

- ä½¿ç”¨ELKæ ˆé›†ä¸­ç®¡ç†æ—¥å¿—ï¼Œå…³é”®å­—æ®µåŒ…æ‹¬ï¼š

- `taskId`ï¼ˆä»»åŠ¡å”¯ä¸€æ ‡è¯†ï¼‰
- `dataSourceType`ï¼ˆæ•°æ®æºç±»å‹ï¼‰
- `errorStack`ï¼ˆå¼‚å¸¸å †æ ˆï¼‰

### 3.8. å…¸å‹é—®é¢˜å¤„ç†

#### 3.8.1. **æ’ä»¶åŠ è½½å¤±è´¥**

- **ç°è±¡**ï¼šæ—¥å¿—å‡ºç°`PluginLoadException: Class not found`ã€‚
- **è§£å†³**ï¼šæ£€æŸ¥æ’ä»¶JARæ˜¯å¦åŒ…å«`META-INF/services/com.datacap.plugin.spi.ServiceLoader`æ–‡ä»¶ã€‚

#### 3.8.2. **MySQLè¿æ¥æ± è€—å°½**

- **ç°è±¡**ï¼š`Too many connections`é”™è¯¯ã€‚
- **è§£å†³**ï¼šè°ƒæ•´`max-active`å‚æ•°ï¼ˆé»˜è®¤20ï¼‰å¹¶ä¼˜åŒ–SQLæŸ¥è¯¢ï¼š

```javascript
spring:
  datasource:
    hikari:
      maximum-pool-size: 50
      connection-timeout: 30000
```

#### 3.8.3. **è·¨åŸŸé—®é¢˜ï¼ˆå‰ç«¯é›†æˆï¼‰**

- **ç°è±¡**ï¼šæµè§ˆå™¨æ§åˆ¶å°æŠ¥`CORS policy`é”™è¯¯ã€‚
- **è§£å†³**ï¼šåœ¨`application-prod.yml`ä¸­é…ç½®ï¼š

```javascript
cors:
  allowed-origins: "https://your-frontend-domain.com"
  allowed-methods: "GET,POST,PUT,DELETE"
```



## 4. è®¿é—®æ•°æ®ä¸­æ¢å¹³å°é¡µé¢

#### 4.1.1. æ•°æ®ä¸­æ¢å¹³å°é¦–é¡µ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649084950-b2882081-35f6-4326-8367-633b2fa27e05.jpeg)

#### 4.1.2. æ’ä»¶å¸‚åœº-Connecttor

- æ’ä»¶å¸‚åœºæä¾›ä¸°å¯Œæ’ä»¶ï¼Œæ”¯æŒåŠŸèƒ½æ‰©å±•ä¸å®šåˆ¶ï¼Œæ»¡è¶³ä¼ä¸šå¤šæ ·åŒ–æ•°æ®éœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649092025-4387cd28-b227-412d-ae53-2350e4e8f106.jpeg)

#### 4.1.3. æ’ä»¶å¸‚åœº-Converter

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649112592-049c8f01-edc0-40f7-b639-b5985dc0e8c4.jpeg)

#### 4.1.4. æ’ä»¶å¸‚åœº-Executor

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649116337-beaf9bac-b07d-40b0-9feb-a79e96d8cc60.jpeg)

#### 4.1.5. æ’ä»¶å¸‚åœº-Scheduler

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649136203-6770d90d-9b0e-4f12-a044-c3af1c18ed20.jpeg)

#### 4.1.6. æ’ä»¶å¸‚åœº-FileSystem

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649148276-b53b49ff-6a95-45b8-a600-6b8dfae71df7.jpeg)

#### 4.1.7. æ•°æ®æº

- æ”¯æŒå¤šç±»å‹æ•°æ®åº“åŠæ–‡ä»¶å­˜å‚¨çš„é«˜æ•ˆé›†æˆä¸ç»Ÿä¸€ç®¡ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649157723-3895e24e-9a22-4549-b5e2-8e2f60ce2ba4.jpeg)

#### 4.1.8. æ•°æ®æº-åˆ›å»ºæ•°æ®æº

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649169427-bd9a03e9-6a31-4d9a-86fa-043558922e92.jpeg)

#### 4.1.9. ä¿®æ”¹æ•°æ®æº

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649173324-6d0d39e7-4cbe-4cb1-a324-7b8c6b0d0970.jpeg)

#### 4.1.10. ä¿®æ”¹æ•°æ®æº-é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649194024-bec7a2f6-8c12-4d97-8930-6f87e0d6ef38.jpeg)

#### 4.1.11. ä¿®æ”¹æ•°æ®æº-æˆæƒ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649203437-b1a03841-66fc-4b12-b6a1-f5343e277637.jpeg)

#### 4.1.12. ä¿®æ”¹æ•°æ®æº-é«˜çº§

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649207723-067aed62-95d9-4ea0-8975-f0478081991b.jpeg)

#### 4.1.13. ä¿®æ”¹æ•°æ®æº-è‡ªå®šä¹‰

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649212744-9c9f5e59-5150-4d67-9e56-9f9ffd60da82.jpeg)

#### 4.1.14. å·¥ä½œæµ

- æ”¯æŒå¯è§†åŒ–ç¼–æ’ï¼Œå®ç°æ•°æ®ä»»åŠ¡çš„è‡ªåŠ¨åŒ–è°ƒåº¦ä¸çµæ´»æ‰§è¡Œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649239109-e18686fe-97e1-40a9-aafb-4660d30979fe.jpeg)

#### 4.1.15. æ–°å»ºæµç¨‹-èŠ‚ç‚¹é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649246967-a705c2f1-4b20-4ff9-89b2-38ec7a2fee65.jpeg)

#### 4.1.16. æ–°å»ºæµç¨‹-æ•°æ®é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649250348-8a67d2b1-1e5f-4e4b-b077-0ba620ca421d.jpeg)

#### 4.1.17. æŸ¥è¯¢

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649270839-31dd75a5-e989-4b13-a9e7-fc4fb92b0ec7.jpeg)

#### 4.1.18. æ•°æ®é›†

- æ”¯æŒå¤šæºæ•°æ®é›†æˆä¸ç»Ÿä¸€ç®¡ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649276866-4af62b09-928d-48ed-9cdd-66b8fce1b4af.jpeg)

#### 4.1.19. å³å¸­æŸ¥è¯¢

- æ”¯æŒçµæ´»æ£€ç´¢åˆ†æï¼Œç§’çº§å“åº”å¤æ‚æŸ¥è¯¢ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649288613-ff1b0efb-6bc1-48c4-93e6-dc24e17949f7.jpeg)

#### 4.1.20. å³å¸­æŸ¥è¯¢-é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649297219-fbfd63b9-198b-44bf-b408-6e8c207f44f6.jpeg)

#### 4.1.21. æ•°æ®é›†-æŸ¥çœ‹è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649419445-94eb24bc-9dc7-404f-96ed-86e961c11526.jpeg)

#### 4.1.22. æ•°æ®é›†

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649429601-f8339633-c588-4bdb-9b12-9a55c54afbf8.jpeg)

#### 4.1.23. åŒæ­¥æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649438886-7ca94b95-aadf-4d13-970c-c177725938ac.jpeg)

#### 4.1.24. å†å²åŒæ­¥

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649447506-297cdffe-920f-4715-8ffd-7e5847c17e5e.jpeg)

#### 4.1.25. æ•°æ®æŠ¥è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649459809-1d9127a9-a0d3-4634-b26b-0ddc13e0c5f7.jpeg)

#### 4.1.26. æŸ¥çœ‹æŠ¥è¡¨-Blå¯è§†åŒ–ç»“æœè¡¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649632212-1b8ba14e-a88a-430f-9f8d-f85e47986c4a.jpeg)

#### 4.1.27. æŸ¥çœ‹æŠ¥è¡¨-å¯è§†åŒ–å›¾è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649654020-a5cc141b-536e-456d-bc64-25e2c32e9a21.jpeg)

#### 4.1.28. æŸ¥çœ‹æŠ¥è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649659259-4e3ea856-a042-400b-bfae-7ae4199eb811.jpeg)

#### 4.1.29. ä¿®æ”¹æŠ¥è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649674200-8064d2ef-a71e-4692-89db-a237b853263a.jpeg)

#### 4.1.30. ä»ªè¡¨ç›˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649684388-55fc04f1-549c-42cb-854e-6dae7ef5fc7c.jpeg)

#### 4.1.31. ç‚¹å‡»æŸ¥çœ‹ç»“æœæ¼”ç¤º

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649698124-d2222e17-4fbd-4efc-9a20-a7c58b6c81ed.jpeg)

#### 4.1.32. ä¿®æ”¹ä»ªè¡¨ç›˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649708975-02a42602-60b2-48a9-afd0-84a0b5bc6c38.jpeg)

#### 4.1.33. æ·»åŠ å›¾è¡¨-æŠ¥è¡¨åˆ—è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649718222-6f0fc341-5794-49e8-ac93-46e2caea0563.jpeg)

#### 4.1.34. ç³»ç»Ÿè®¾ç½®-å†å²æŸ¥è¯¢

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649730038-c811bb05-0cf4-4b5f-94d5-32d52a6306eb.jpeg)

#### 4.1.35. ç³»ç»Ÿè®¾ç½®-å†å²æŸ¥è¯¢-å¼•ç”¨è®°å½•

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649741992-65cebe39-5b66-43ab-b822-c8ee546d86a3.jpeg)

#### 4.1.36. ç³»ç»Ÿè®¾ç½®-å†å²æŸ¥è¯¢-æ˜¾ç¤ºSQL

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649768922-a483cf12-e400-45bd-a788-32aff871a927.jpeg)

#### 4.1.37. ç³»ç»Ÿè®¾ç½®-ä»£ç ç‰‡æ®µ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649772376-dfabdb48-f1c4-42d7-a8f4-4ddd9c2ed8b0.jpeg)

#### 4.1.38. ç³»ç»Ÿè®¾ç½®-è°ƒåº¦

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649778573-e4c6ba97-af49-491e-a397-6f8632ffcd62.jpeg)

#### 4.1.39. ç³»ç»Ÿè®¾ç½®-å‡½æ•°

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649794461-e9c29904-96be-4f67-b3c0-b572d888db40.jpeg)

#### 4.1.40. ä¿®æ”¹å‡½æ•°

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649806621-7ac12fa4-5dae-49cc-bd1d-1d363af4ec67.jpeg)

#### 4.1.41. ç³»ç»Ÿè®¾ç½®-æƒé™

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649811711-c35003ae-da6b-4276-a577-3b364e490022.jpeg)

#### 4.1.42. åˆ›å»ºè·¯ç”±

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649826984-fe0a56c6-b278-4ec2-b6e8-b13aed1cc227.jpeg)

#### 4.1.43. åˆ†é…èœå•

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649838869-a8d25442-d714-4811-aaec-481c628d0da3.jpeg)

#### 4.1.44. ç¼–è¾‘è·¯ç”±

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649856925-546f5723-797c-4750-b9d2-b6126dd88614.jpeg)

#### 4.1.45. ç³»ç»Ÿè®¾ç½®-èœå•

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649870852-1f99de6a-840a-4654-a306-ce0958ace363.jpeg)

#### 4.1.46. åˆ›å»ºèœå•

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649887402-2725eda8-cf97-4783-b2c8-862aca99b201.jpeg)

#### 4.1.47. ä¿®æ”¹èœå•

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649897208-6669a5a9-5641-4777-a69d-f731a3087cfa.jpeg)

#### 4.1.48. ç³»ç»Ÿè®¾ç½®-ç”¨æˆ·

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649906662-f5b6c9f0-5d8e-47f1-be06-815a481b95dd.jpeg)

#### 4.1.49. åˆ›å»ºç”¨æˆ·

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649916647-602c72d6-126a-4253-8048-562147a190f8.jpeg)

#### 4.1.50. åˆ†é…è·¯ç”±

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649928426-63a041d3-604d-4862-a924-1b047c13587a.jpeg)

#### 4.1.51. ç¼–è¾‘ç”¨æˆ·

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752649937465-208ec2b8-650c-4e97-9a85-cb3a38bd77f2.jpeg)



------

# å››ã€**æ•°æ®é›†æˆç®¡ç†(transport)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®é›†æˆç®¡ç†åŠŸèƒ½ç®€ä»‹

### 2.1. AllDataæ•°æ®ä¸­å°-æ•°æ®é›†æˆç®¡ç†ã€‚

AllDataæ•°æ®ä¸­å°çš„æ•°æ®é›†æˆç®¡ç†åŠŸèƒ½æ˜¯ä¼ä¸šå®ç°æ•°æ®äº’è”äº’é€šã€æ‰“ç ´æ•°æ®å­¤å²›çš„æ ¸å¿ƒæ¨¡å—ã€‚é€šè¿‡é«˜æ•ˆã€çµæ´»çš„æ•°æ®é›†æˆèƒ½åŠ›ï¼Œå¸®åŠ©ä¼ä¸šå°†åˆ†æ•£åœ¨å„ä¸šåŠ¡ç³»ç»Ÿã€å¤–éƒ¨å¹³å°åŠå¼‚æ„æ•°æ®æºä¸­çš„æ•°æ®ç»Ÿä¸€æ±‡èšã€æ¸…æ´—ã€è½¬æ¢å¹¶åŠ è½½è‡³ç›®æ ‡å­˜å‚¨ï¼Œä¸ºåç»­çš„æ•°æ®åˆ†æã€æŒ–æ˜å’Œä¸šåŠ¡å†³ç­–æä¾›é«˜è´¨é‡çš„æ•°æ®åŸºç¡€ã€‚ä»¥ä¸‹ä»åŠŸèƒ½æ¶æ„ã€æ ¸å¿ƒèƒ½åŠ›ã€æŠ€æœ¯ç‰¹æ€§ã€åº”ç”¨åœºæ™¯åŠä¼˜åŠ¿ä»·å€¼äº”ä¸ªç»´åº¦å±•å¼€æè¿°ã€‚



### 2.2.  æ•°æ®é›†æˆç®¡ç†æ ¸å¿ƒèƒ½åŠ›ã€‚

#### 2.2.1. **å…¨åŸŸæ•°æ®æ¥å…¥èƒ½åŠ›**

- æ”¯æŒè¶…è¿‡50ç§æ•°æ®æºçš„æ¥å…¥ï¼Œè¦†ç›–ä¼ä¸š90%ä»¥ä¸Šçš„æ•°æ®æºç±»å‹ã€‚
- æä¾›JDBCã€ODBCã€SDKç­‰å¤šç§æ¥å…¥æ–¹å¼ï¼Œå…¼å®¹ä¸»æµæ•°æ®åº“å’Œå¤§æ•°æ®å¹³å°ã€‚

#### 2.2.2. **å®æ—¶ä¸æ‰¹é‡é›†æˆèƒ½åŠ›**

- å®æ—¶é›†æˆï¼šæ”¯æŒåŸºäºCDCï¼ˆChange Data Captureï¼‰æŠ€æœ¯çš„æ•°æ®åº“å˜æ›´æ•è·ï¼Œå®ç°æ¯«ç§’çº§æ•°æ®åŒæ­¥ã€‚
- æ‰¹é‡é›†æˆï¼šæ”¯æŒå…¨é‡æ•°æ®è¿ç§»å’Œå¢é‡æ•°æ®åŒæ­¥ï¼Œæä¾›åˆ†ç‰‡å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œå¤§å¹…æå‡å¤§æ•°æ®é‡åœºæ™¯ä¸‹çš„å¤„ç†æ•ˆç‡ã€‚

#### 2.2.3. **æ™ºèƒ½æ•°æ®å¤„ç†èƒ½åŠ›**

- å†…ç½®AIé©±åŠ¨çš„æ•°æ®è´¨é‡æ£€æµ‹å¼•æ“ï¼Œè‡ªåŠ¨è¯†åˆ«æ•°æ®ä¸­çš„å¼‚å¸¸å€¼ã€ç¼ºå¤±å€¼å’Œé‡å¤å€¼ã€‚
- æä¾›æ™ºèƒ½æ•°æ®æ˜ å°„åŠŸèƒ½ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ ç®—æ³•è‡ªåŠ¨åŒ¹é…æºè¡¨å’Œç›®æ ‡è¡¨çš„å­—æ®µå…³ç³»ã€‚
- æ”¯æŒåŠ¨æ€Schemaæ¼”åŒ–ï¼Œè‡ªåŠ¨é€‚åº”æ•°æ®æºçš„ç»“æ„å˜æ›´ã€‚

#### 2.2.4. **é«˜å¯é ä¸é«˜å¯ç”¨èƒ½åŠ›**

- é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„è®¾è®¡ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•ï¼Œç¡®ä¿é«˜å¹¶å‘åœºæ™¯ä¸‹çš„ç³»ç»Ÿç¨³å®šæ€§ã€‚
- æä¾›æ•°æ®å¤‡ä»½ä¸æ¢å¤æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®åœ¨ä¼ è¾“å’Œå¤„ç†è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚
- æ”¯æŒå¤šæ´»éƒ¨ç½²å’Œæ•…éšœè‡ªåŠ¨åˆ‡æ¢ï¼Œä¿éšœä¸šåŠ¡çš„è¿ç»­æ€§ã€‚



### 2.3.  æ•°æ®é›†æˆç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ã€‚

- æ”¯æŒå¤šç§æ•°æ®æº
- å¯æ’æ‹”æ¨¡å—è®¾è®¡
- ä»»åŠ¡æ¨¡æ¿ä¸å¹¶è¡Œå¤„ç†
- æ‰§è¡Œæ—¥å¿—ä¸ç›‘æ§





### 2.4. AllDataæ•°æ®ä¸­å°æ•°æ®é›†æˆç®¡ç†æ”¯æŒå¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬ï¼š

#### 2.4.1. **å…³ç³»å‹æ•°æ®åº“**

- MySQL
- PostgreSQL
- Oracle
- å…¶ä»–æ•°æ®åº“

#### 2.4.2. **éå…³ç³»å‹æ•°æ®åº“**

- MongoDB
- ElasticSearch
- Redis
- å…¶ä»–éå…³ç³»å‹æ•°æ®åº“

#### 2.4.3. **å¤§æ•°æ®å­˜å‚¨**

- Hadoop HDFS
- Hive
- Doris
- ClickHouse
- å…¶ä»–å¤§æ•°æ®å­˜å‚¨

#### 2.4.4. **äº‘æœåŠ¡æ•°æ®æº**

- é˜¿é‡Œäº‘OSS
- è…¾è®¯äº‘COS
- AWS S3

#### 2.4.5. **å…¶ä»–æ•°æ®æº**

- Excelæ–‡ä»¶
- CSVæ–‡ä»¶
- APIæ¥å£



### 2.5. æ•°æ®æºæ”¯æŒReader/Writer 

| ç±»å‹               | æ•°æ®æº                          | Reader(è¯») | Writer(å†™) | æ–‡æ¡£                                                         |
| ------------------ | ------------------------------- | ---------- | ---------- | ------------------------------------------------------------ |
| RDBMS å…³ç³»å‹æ•°æ®åº“ | MySQL                           | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/mysqlreader/doc/mysqlreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/mysqlwriter/doc/mysqlwriter.md) |
|                    | Oracle                          | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/oraclereader/doc/oraclereader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/oraclewriter/doc/oraclewriter.md) |
|                    | OceanBase                       | âˆš          | âˆš          | [è¯»](https://open.oceanbase.com/docs/community/oceanbase-database/V3.1.0/use-datax-to-full-migration-data-to-oceanbase) ã€[å†™](https://open.oceanbase.com/docs/community/oceanbase-database/V3.1.0/use-datax-to-full-migration-data-to-oceanbase) |
|                    | SQLServer                       | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/sqlserverreader/doc/sqlserverreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/sqlserverwriter/doc/sqlserverwriter.md) |
|                    | PostgreSQL                      | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/postgresqlreader/doc/postgresqlreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/postgresqlwriter/doc/postgresqlwriter.md) |
|                    | DRDS                            | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/drdsreader/doc/drdsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/drdswriter/doc/drdswriter.md) |
|                    | Kingbase                        | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/drdsreader/doc/drdsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/drdswriter/doc/drdswriter.md) |
|                    | é€šç”¨RDBMS(æ”¯æŒæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“) | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/rdbmsreader/doc/rdbmsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/rdbmswriter/doc/rdbmswriter.md) |
| é˜¿é‡Œäº‘æ•°ä»“æ•°æ®å­˜å‚¨ | ODPS                            | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/odpsreader/doc/odpsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/odpswriter/doc/odpswriter.md) |
|                    | ADB                             |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/adbmysqlwriter/doc/adbmysqlwriter.md) |
|                    | ADS                             |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/adswriter/doc/adswriter.md) |
|                    | OSS                             | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/ossreader/doc/ossreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/osswriter/doc/osswriter.md) |
|                    | OCS                             |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/ocswriter/doc/ocswriter.md) |
|                    | Hologres                        |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/hologresjdbcwriter/doc/hologresjdbcwriter.md) |
|                    | AnalyticDB For PostgreSQL       |            | âˆš          | å†™                                                           |
| é˜¿é‡Œäº‘ä¸­é—´ä»¶       | datahub                         | âˆš          | âˆš          | è¯» ã€å†™                                                      |
|                    | SLS                             | âˆš          | âˆš          | è¯» ã€å†™                                                      |
| å›¾æ•°æ®åº“           | é˜¿é‡Œäº‘ GDB                      | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/gdbreader/doc/gdbreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/gdbwriter/doc/gdbwriter.md) |
|                    | Neo4j                           |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/neo4jwriter/doc/neo4jwriter.md) |
| NoSQLæ•°æ®å­˜å‚¨      | OTS                             | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/otsreader/doc/otsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/otswriter/doc/otswriter.md) |
|                    | Hbase0.94                       | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/hbase094xreader/doc/hbase094xreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/hbase094xwriter/doc/hbase094xwriter.md) |
|                    | Hbase1.1                        | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/hbase11xreader/doc/hbase11xreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/hbase11xwriter/doc/hbase11xwriter.md) |
|                    | Phoenix4.x                      | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/hbase11xsqlreader/doc/hbase11xsqlreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/hbase11xsqlwriter/doc/hbase11xsqlwriter.md) |
|                    | Phoenix5.x                      | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/hbase20xsqlreader/doc/hbase20xsqlreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/hbase20xsqlwriter/doc/hbase20xsqlwriter.md) |
|                    | MongoDB                         | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/mongodbreader/doc/mongodbreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/mongodbwriter/doc/mongodbwriter.md) |
|                    | Cassandra                       | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/cassandrareader/doc/cassandrareader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/cassandrawriter/doc/cassandrawriter.md) |
| æ•°ä»“æ•°æ®å­˜å‚¨       | StarRocks                       | âˆš          | âˆš          | è¯» ã€[å†™](https://github.com/alibaba/DataX/blob/master/starrockswriter/doc/starrockswriter.md) |
|                    | ApacheDoris                     |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/doriswriter/doc/doriswriter.md) |
|                    | ClickHouse                      | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/clickhousereader/doc/clickhousereader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/clickhousewriter/doc/clickhousewriter.md) |
|                    | Databend                        |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/databendwriter/doc/databendwriter.md) |
|                    | Hive                            | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/hdfsreader/doc/hdfsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/hdfswriter/doc/hdfswriter.md) |
|                    | kudu                            |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/hdfswriter/doc/hdfswriter.md) |
|                    | selectdb                        |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/selectdbwriter/doc/selectdbwriter.md) |
| æ— ç»“æ„åŒ–æ•°æ®å­˜å‚¨   | TxtFile                         | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/txtfilereader/doc/txtfilereader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/txtfilewriter/doc/txtfilewriter.md) |
|                    | FTP                             | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/ftpreader/doc/ftpreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/ftpwriter/doc/ftpwriter.md) |
|                    | HDFS                            | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/hdfsreader/doc/hdfsreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/hdfswriter/doc/hdfswriter.md) |
|                    | Elasticsearch                   |            | âˆš          | [å†™](https://github.com/alibaba/DataX/blob/master/elasticsearchwriter/doc/elasticsearchwriter.md) |
| æ—¶é—´åºåˆ—æ•°æ®åº“     | OpenTSDB                        | âˆš          |            | [è¯»](https://github.com/alibaba/DataX/blob/master/opentsdbreader/doc/opentsdbreader.md) |
|                    | TSDB                            | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/tsdbreader/doc/tsdbreader.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/tsdbwriter/doc/tsdbhttpwriter.md) |
|                    | TDengine                        | âˆš          | âˆš          | [è¯»](https://github.com/alibaba/DataX/blob/master/tdenginereader/doc/tdenginereader-CN.md) ã€[å†™](https://github.com/alibaba/DataX/blob/master/tdenginewriter/doc/tdenginewriter-CN.md) |



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®é›†æˆç®¡ç†æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750501676882-45aedf82-b207-4da2-841a-9b9b967a74e5.jpeg)



### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡**åŸºç¡€ç¯å¢ƒè¦æ±‚**ï¼š

- **JDK**ï¼š1.8æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ•°æ®åº“**ï¼šMySQL 5.7æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è5.7+ï¼‰ï¼Œä½¿ç”¨MySQL 8.xéœ€æ³¨æ„æ•°æ®å¯¼å…¥æ—¶çš„ç¼–ç æ ¼å¼é—®é¢˜
- **ç¼“å­˜**ï¼šRedis 3.0æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0æˆ–æ›´é«˜ç‰ˆæœ¬
- **å‰ç«¯ç¯å¢ƒ**ï¼šNode.js 10.15.3æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ 3.0.xæˆ–æ›´é«˜ç‰ˆæœ¬



ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–éƒ¨ä¾èµ–ä»“åº“ï¼ˆå¦‚Mavenä¸­å¤®ä»“åº“ï¼‰
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œå¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚MySQLçš„3306ã€Redisçš„6379ç­‰ï¼‰



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ **ä»£ç ç»“æ„**

- **åç«¯**ï¼šé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼ŒåŒ…å«é…ç½®ä¸­å¿ƒï¼ˆ`config`ï¼‰ã€æ³¨å†Œä¸­å¿ƒï¼ˆ`eureka`ï¼‰ã€APIç½‘å…³ï¼ˆ`gateway`ï¼‰åŠä¸šåŠ¡æ¨¡å—ï¼ˆå¦‚æ•°æ®é›†æˆæ¨¡å—`service-data-dts-parent`ï¼‰
- **å‰ç«¯**ï¼šåŸºäºVue.jsæ¡†æ¶ï¼ŒåŒ…å«æºä»£ç ç›®å½•ï¼ˆ`src`ï¼‰ã€é™æ€èµ„æºï¼ˆ`public`ï¼‰åŠé…ç½®æ–‡ä»¶ï¼ˆ`vue.config.js`ï¼‰



### 3.3. ç¼–è¯‘æ„å»º

#### 3.3.1. **åç«¯ç¼–è¯‘**

- è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡ŒMavenæ„å»ºå‘½ä»¤ï¼š

```javascript
mvn clean package -DskipTests
```

- å¦‚éœ€æŒ‡å®šç‰ˆæœ¬å‚æ•°ï¼ˆå¦‚Hadoopã€Flinkã€Sparkç‰ˆæœ¬ï¼‰ï¼Œå¯æ·»åŠ `-D`å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```javascript
mvn clean package -DskipTests -Dhadoop.version=3.3.4
```



#### 3.3.2. **å‰ç«¯æ„å»º**

- è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•ï¼Œå®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```javascript
cd moat_ui
npm install
npm run dev
```

- ç”Ÿäº§ç¯å¢ƒæ„å»ºï¼š

```javascript
npm run build:prod
```



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- åˆ›å»ºåä¸º`studio`çš„æ•°æ®åº“
- æ‰§è¡ŒSQLè„šæœ¬ï¼š

```javascript
source install/sql/alldata.sql
source install/sql/alldata-v0.x.x.sql
```

- å¯¼å…¥BIç›¸å…³SQLï¼ˆå‚è€ƒBIå¿«é€Ÿå…¥é—¨æ–‡æ¡£ï¼‰



#### 3.4.2. **åç«¯æœåŠ¡å¯åŠ¨**

ğŸ’¡ **æ ¸å¿ƒæœåŠ¡å¯åŠ¨é¡ºåº**ï¼š

- æ³¨å†Œä¸­å¿ƒï¼ˆ`DataxEurekaApplication`ï¼‰
- é…ç½®ä¸­å¿ƒï¼ˆ`DataxConfigApplication`ï¼‰
- APIç½‘å…³ï¼ˆ`DataxGatewayApplication`ï¼‰
- ç³»ç»ŸæœåŠ¡ï¼ˆ`SystemServiceApplication`ï¼‰

ğŸ’¡ **å¯é€‰æœåŠ¡**ï¼š

- æ ¹æ®éœ€æ±‚å¯åŠ¨å…¶ä»–ä¸šåŠ¡æ¨¡å—ï¼ˆå¦‚æ•°æ®é›†æˆæ¨¡å—`DataDtsServiceApplication`ï¼‰



#### 3.4.3. **å‰ç«¯éƒ¨ç½²**

- å°†æ„å»ºåçš„ç”Ÿäº§åŒ…ï¼ˆ`dist`ç›®å½•ï¼‰éƒ¨ç½²åˆ°NginxæœåŠ¡å™¨
- Nginxé…ç½®ç¤ºä¾‹ï¼š

```javascript
server {
    listen 80;
    server_name your_domain.com;
    location / {
        root /path/to/dist;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    location /api/ {
        proxy_pass http://backend_server:port/;
        proxy_set_header Host $proxy_host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```



### 3.5. å¯é€‰é…ç½®

#### 3.5.1. **æ•°æ®é›†æˆæ¨¡å—é…ç½®**

- åœ¨èœå•ç®¡ç†ä¸­æ–°å¢â€œæ•°æ®é›†æˆâ€ç›®å½•ï¼Œå¹¶æ·»åŠ ç›¸å…³å­èœå•é¡¹
- ä¸ºç®¡ç†å‘˜è§’è‰²åˆ†é…èœå•æƒé™

#### 3.5.2. **å…ƒæ•°æ®æ–‡æ¡£å¯¼å‡º**

- å¦‚é‡æ–‡æ¡£å¯¼å‡ºé—®é¢˜ï¼Œéœ€æ‰‹åŠ¨å®‰è£…ä¾èµ–ï¼š

```javascript
cd moat/common
mvn install:install-file -Dfile=aspose-words-20.3.jar \
    -DgroupId=com.aspose \
    -DartifactId=aspose-words \
    -Dversion=20.3 \
    -Dpackaging=jar
```

#### 3.5.3. **å¤šèŠ‚ç‚¹é›†ç¾¤éƒ¨ç½²**

- **16gmasterèŠ‚ç‚¹**ï¼šéƒ¨ç½²é…ç½®ä¸­å¿ƒã€ç³»ç»ŸæœåŠ¡ç­‰
- **16gslaveèŠ‚ç‚¹**ï¼šéƒ¨ç½²æ³¨å†Œä¸­å¿ƒã€å…ƒæ•°æ®æ§åˆ¶å°ç­‰
- **16gdataèŠ‚ç‚¹**ï¼šéƒ¨ç½²ç½‘å…³ã€æ•°æ®æœåŠ¡ç­‰

## 4. è®¿é—®æ•°æ®é›†æˆç®¡ç†é¡µé¢

#### 4.1.1. é…ç½®æ•°æ®æº

- jdbc:mysql://localhost:3306/studio?useUnicode=true&characterEncoding=utf8

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750670313680-0f642c8a-91b4-4bbe-b55a-c872d6a280dd.png)

#### 4.1.2. é…ç½®æ‰§è¡Œå™¨

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669961037-1c4acada-188c-4e3f-81b8-a65a2923306e.png)

#### 4.1.3. é…ç½®ä»»åŠ¡æ¨¡ç‰ˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669971016-cf9742ab-008a-42d7-9b90-e95ad6c42458.png)

#### 4.1.4. é…ç½®å•ä»»åŠ¡

- æŒ‰æ­¥éª¤é€‰æ‹©æ•°æ®æŠ½å–åº“ï¼Œæ•°æ®åˆå¹¶åº“ï¼Œæ˜ å°„å­—æ®µï¼Œæ„å»ºdataxçš„å¯æ‰§è¡Œjsonæ–‡ä»¶ï¼Œé€‰æ‹©ä»»åŠ¡æ¨¡ç‰ˆï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ä»»åŠ¡å°±åˆ›å»ºå®Œæˆäº†ï¼Œå¯ä»¥åœ¨ä»»åŠ¡è¯¦æƒ…é‡ŒæŸ¥çœ‹ã€‚

##### 4.1.4.1. æ„å»ºsource

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669976422-7e0bad46-692d-49de-83c5-daa874abf7bf.png)

##### 4.1.4.2. æ„å»ºSink

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669981585-b6e84953-798c-429e-979e-62d15e73a06c.png)

##### 4.1.4.3. å­—æ®µæ˜ å°„

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669985575-42a1e91b-277b-4625-a32c-befd7a572fff.png)

##### 4.1.4.4. æ„å»ºåŒæ­¥ä»»åŠ¡Json

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669990907-e9319fa2-68f8-4b2f-b691-bd23f24d1568.png)

##### 4.1.4.5. é€‰æ‹©å®šæ—¶è°ƒåº¦ä»»åŠ¡æ¨¡ç‰ˆï¼Œé…ç½®åŒæ­¥ä»»åŠ¡è°ƒåº¦

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669994647-cc2ffbf3-297d-4f90-a2bb-c4ecf88da209.png)

#### 4.1.5. æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750669999297-31984da9-c24c-4a71-a15e-d462fa907c71.png)

#### 4.1.6. æœ€åå¯ä»¥è¿è¡Œçš„jsonæ–‡ä»¶

```javascript
{
  "job": {
    "setting": {
      "speed": {
        "channel": 1,
        "bytes": 0
      },
      "errorLimit": {
        "record": 100
      },
      "restore": {
        "maxRowNumForCheckpoint": 0,
        "isRestore": false,
        "restoreColumnName": "",
        "restoreColumnIndex": 0
      },
      "log": {
        "isLogger": false,
        "level": "debug",
        "path": "",
        "pattern": ""
      }
    },
    "content": [
      {
        "reader": {
          "name": "mysqlreader",
          "parameter": {
            "username": "root",
            "password": "k32G0hokmB8YLhm0",
            "column": [
              "ACCOUNT_ID",
              "ACCOUNT_PARENT",
              "ACCOUNT_DESCRIPTION",
              "ACCOUNT_TYPE",
              "ACCOUNT_ROLLUP",
              "CUSTOM_MEMBERS"
            ],
            "splitPk": "",
            "connection": [
              {
                "table": [
                  "account"
                ],
                "jdbcUrl": [
                  "jdbc:mysql://8g009:33196/studio?useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&serverTimezone=GMT%2B8"
                ]
              }
            ]
          }
        },
        "writer": {
          "name": "mysqlwriter",
          "parameter": {
            "username": "root",
            "password": "k32G0hokmB8YLhm0",
            "writeMode": "insert",
            "column": [
              "ACCOUNT_ID",
              "ACCOUNT_PARENT",
              "ACCOUNT_DESCRIPTION",
              "ACCOUNT_TYPE",
              "ACCOUNT_ROLLUP",
              "CUSTOM_MEMBERS"
            ],
            "connection": [
              {
                "table": [
                  "account_sink"
                ],
                "jdbcUrl": "jdbc:mysql://8g009:33196/studio?useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&serverTimezone=GMT%2B8"
              }
            ]
          }
        }
      }
    ]
  }
}
```



#### 4.1.7. åŒæ­¥ç»“æœ

##### 4.1.7.1. æºè¡¨åŒæ­¥æƒ…å†µï¼šstudio.accountè¡¨ 26æ¡æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740800682298-acaca677-09b5-4a47-9a13-e6afac885b04.png)

##### 4.1.7.2. ç›®çš„è¡¨åŒæ­¥æƒ…å†µï¼šstudio.account_sinkè¡¨ 26æ¡æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740800720621-1c53ac92-da58-4a9e-a2e5-f2e52e600701.png)



#### 4.1.8. é—®é¢˜è®°å½•ï¼š

- ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œæ·»åŠ ?useUnicode=true&characterEncoding=utf8è§£å†³ã€‚





## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **å‰ç«¯å¯åŠ¨é—®é¢˜**

- **ç°è±¡**ï¼šNode.jsç‰ˆæœ¬ä¸å…¼å®¹å¯¼è‡´å¯åŠ¨å¤±è´¥
- **è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨nvmç®¡ç†Node.jsç‰ˆæœ¬ï¼Œå®‰è£…å¹¶åˆ‡æ¢è‡³v10.15.3ç‰ˆæœ¬

### 5.2. **æ•°æ®é›†æˆèœå•ç¼ºå¤±**

- **ç°è±¡**ï¼šâ€œæ•°æ®é›†æˆâ€èœå•ä¸å¯è§
- **è§£å†³æ–¹æ¡ˆ**ï¼šè¿›å…¥ç³»ç»Ÿç®¡ç† > èœå•ç®¡ç†ï¼Œæ–°å¢â€œæ•°æ®é›†æˆâ€ç›®å½•å¹¶é…ç½®ç›®å½•ä¸‹çš„å„é¡¹èœå•

### 5.3. **æ•°æ®æºè¿æ¥å¤±è´¥**

- **ç°è±¡**ï¼šæ— æ³•è¿æ¥åˆ°MySQLã€Redisç­‰æ•°æ®æº
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶ï¼ˆå¦‚`application-common-dev.yml`ï¼‰ä¸­çš„è¿æ¥ä¿¡æ¯ï¼Œç¡®ä¿IPã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç æ­£ç¡®

### 5.4. **ä»»åŠ¡è°ƒåº¦å¤±è´¥**

- **ç°è±¡**ï¼šæ•°æ®é›†æˆä»»åŠ¡æ— æ³•æŒ‰æ—¶æ‰§è¡Œ
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥ä»»åŠ¡è°ƒåº¦é…ç½®ï¼Œç¡®ä¿Cronè¡¨è¾¾å¼æ­£ç¡®ï¼Œå¹¶æ£€æŸ¥ç›¸å…³æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ



------



# äº”ã€æ•°æ®é›†æˆå¹³å°(tis)

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®é›†æˆå¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1SS3NzCEm8/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®é›†æˆå¹³å°åŸºäºå¼€æºé¡¹ç›®Tiså»ºè®¾ã€‚

æ•°æ®é›†æˆå¹³å°ï¼ˆTisï¼‰é›†æˆäº†FlinkX-CDCã€DataXç­‰å¤§æ•°æ®ç»„ä»¶ï¼Œæä¾›ä¸€ç«™å¼æ•°æ®é›†æˆæœåŠ¡ã€‚æ”¯æŒå¤šç§æ•°æ®æºï¼Œæ¶µç›–MySQLã€Oracleã€ElasticSearchç­‰ï¼Œå…¼å®¹å›½äº§æ•°æ®åº“ï¼Œæ»¡è¶³å¤šæºå¼‚æ„æ•°æ®é›†æˆéœ€æ±‚ã€‚

æ•°æ®é›†æˆå¹³å°æä¾›å¯è§†åŒ–æ“ä½œç•Œé¢ï¼Œç®€åŒ–æ•°æ®é›†æˆæµç¨‹ï¼Œé™ä½æ“ä½œéš¾åº¦ã€‚åŒæ—¶ï¼Œå…·å¤‡å®æ—¶ä¸æ‰¹é‡é›†æˆèƒ½åŠ›ï¼Œç¡®ä¿æ•°æ®åŠæ—¶å‡†ç¡®ã€‚æ­¤å¤–ï¼Œè¿˜æ”¯æŒæ’ä»¶åŒ–æ‰©å±•ï¼Œç”¨æˆ·å¯æŒ‰éœ€å¼€å‘æ–°æ’ä»¶ï¼Œå¢å¼ºå¹³å°çµæ´»æ€§ã€‚åŠ©åŠ›ä¼ä¸šé«˜æ•ˆå®Œæˆæ•°æ®é›†æˆä»»åŠ¡ï¼Œä¸ºæ•°æ®ä¸­å°å»ºè®¾æä¾›æœ‰åŠ›æ”¯æ’‘ã€‚

ğŸ”¹Tiså¼€æºé¡¹ç›®ï¼šhttps://github.com/datavane/tis

ğŸ”¹Tisæ–‡æ¡£åœ°å€ï¼šhttps://tis.pub/docs/

### 2.2. æ•°æ®é›†æˆå¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- ä¸€ç«™å¼å¼€ç®±å³ç”¨
- é¢†åŸŸæŠ½è±¡ç®€åŒ–å¤æ‚åº¦
- å¤šæ•°æ®æºæ”¯æŒ
- åŠŸèƒ½æ¨¡å—ä¸°å¯Œ
- é«˜æ•ˆæ•°æ®åŒæ­¥èƒ½åŠ›
- ä¸è°ƒåº¦ç³»ç»Ÿæ•´åˆ
- å®æ—¶ä¸æ‰¹é‡é›†æˆ
- å¯è§†åŒ–æ“ä½œç•Œé¢



## 3. æ•°æ®é›†æˆå¹³å°-æ•°æ®åŒæ­¥èƒ½åŠ›

Hiveæ•°æ®åº“æ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡åŒæ­¥+åˆ†åŒºåŒæ­¥)

MySQLæ•°æ®åº“æ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡+å¢é‡åŒæ­¥)

Oracleæ•°æ®åº“æ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡+å¢é‡åŒæ­¥)

å›½äº§æ•°æ®åº“è¾¾æ¢¦æ•°æ®æºDaMengæ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡åŒæ­¥)

å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“æ•°æ®æºKingBaseæ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡+å¢é‡åŒæ­¥)

### 3.1. æ”¯æŒæ•°æ®åº“å¦‚ä¸‹ï¼š

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741753279136-bcec6610-5134-4727-b407-cce419497aec.png)





## 4. AllDataæ•°æ®ä¸­å°-æ•°æ®é›†æˆå¹³å°ï¼ˆTisï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486699428-e93f37dc-3955-42f6-b735-290c87c44eaa.jpeg)

### 4.1. ç¯å¢ƒå‡†å¤‡

- **æ“ä½œç³»ç»Ÿ**ï¼šæ¨èä½¿ç”¨Linuxå‘è¡Œç‰ˆï¼ˆå¦‚Ubuntuæˆ–CentOSï¼‰ï¼Œå› ä¸ºå¤§å¤šæ•°å¤§æ•°æ®æŠ€æœ¯å’Œåˆ†å¸ƒå¼ç³»ç»Ÿéƒ½é’ˆå¯¹Unix-likeç³»ç»Ÿè¿›è¡Œäº†ä¼˜åŒ–ã€‚
- **Javaç¯å¢ƒ**ï¼šè‡³å°‘JDK 11åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œé…ç½®ç¯å¢ƒå˜é‡`JAVA_HOME`ï¼Œå¹¶å°†`$JAVA_HOME/bin`æ·»åŠ åˆ°`PATH`ã€‚
- **Mavenç¯å¢ƒ**ï¼šMaven 3.6.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé…ç½®ç¯å¢ƒå˜é‡`MAVEN_HOME`ï¼Œå¹¶å°†`$MAVEN_HOME/bin`æ·»åŠ åˆ°`PATH`ã€‚
- **Git**ï¼šç”¨äºå…‹éš†é¡¹ç›®ä»£ç ã€‚
- **æ•°æ®åº“**ï¼šæ”¯æŒMySQLã€PostgreSQLç­‰å…³ç³»å‹æ•°æ®åº“ï¼Œéœ€æå‰åˆ›å»ºæ•°æ®åº“å¹¶é…ç½®å¥½ç”¨æˆ·æƒé™ã€‚
- **å…¶ä»–ä¾èµ–**ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦å®‰è£…Node.jsã€Pythonç­‰ã€‚



### 4.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



### 4.3. ç¼–è¯‘æ„å»º

#### 4.3.1. **å®‰è£…ä¾èµ–**

ğŸ’¡è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œä½¿ç”¨Mavenå®‰è£…é¡¹ç›®ä¾èµ–ï¼š

```javascript
mvn clean install -DskipTests
```

- `-DskipTests`å‚æ•°ç”¨äºè·³è¿‡æµ‹è¯•ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚å¦‚æœéœ€è¦è¿è¡Œæµ‹è¯•ï¼Œå¯ä»¥å»æ‰è¯¥å‚æ•°ã€‚

#### 4.3.2. **ç¼–è¯‘æ„å»º**

- ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶åŒ…æˆ–å¯æ‰§è¡Œæ–‡ä»¶é€šå¸¸ä½äº`target`ç›®å½•ä¸‹ã€‚



### 4.4. **å‰ç«¯éƒ¨ç½²åŠå®‰è£…**

#### 4.4.1. **é…ç½®æ•°æ®åº“è¿æ¥**ï¼š

ğŸ’¡åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼ˆå¦‚`application.properties`æˆ–`application.yml`ï¼‰ï¼Œæ ¹æ®æ‚¨çš„ç¯å¢ƒé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š

```javascript
spring.datasource.url=jdbc:mysql://localhost:3306/tis?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC
spring.datasource.username=your_username
spring.datasource.password=your_password
```

#### 4.4.2. **é…ç½®å…¶ä»–å‚æ•°**ï¼š

#### ğŸ’¡æ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œé…ç½®å…¶ä»–å¿…è¦çš„å‚æ•°ï¼Œå¦‚æ—¥å¿—è·¯å¾„ã€æœåŠ¡å™¨ç«¯å£ç­‰ã€‚

#### 4.4.3. **å¯åŠ¨é¡¹ç›®**ï¼š

ğŸ’¡ä½¿ç”¨Mavenå¯åŠ¨Tisé¡¹ç›®ï¼š

```javascript
cd /opt/tis-uber
./bin/tis start
cd /opt/tis-uber/web-start/conf/tis-web-config
vi config.properties

// --------config.properties start----------
project.name=TIS

runtime=daily
tis.datasource.type=mysql
tis.datasource.url=your_mysql_ip
tis.datasource.port=3306
tis.datasource.username=root
tis.datasource.password=123456
tis.datasource.dbname=tis

zk.host=127.0.0.1:2181/tis/cloud
assemble.host=127.0.0.1
tis.host=127.0.0.1
deploy.mode=standalone
// --------config.properties end----------
```

#### 4.4.4. **è®¿é—®é¡¹ç›®**ï¼š

- é¡¹ç›®å¯åŠ¨åï¼Œæ‚¨å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®Tisçš„Webç•Œé¢ã€‚
- é€šè¿‡é¡µé¢è®¿é—®ï¼Œéœ€å¯åŠ¨ui_moatå’Œui_tisã€‚



### 4.5. åŠŸèƒ½éªŒè¯ä¸ä½¿ç”¨

#### 4.5.1. **æ•°æ®æºç®¡ç†**ï¼š

- ç™»å½•Tiså¹³å°åï¼Œé¦–å…ˆè¿›è¡Œæ•°æ®æºç®¡ç†ï¼Œæ·»åŠ éœ€è¦é›†æˆçš„æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿç­‰æ•°æ®æºã€‚

#### 4.5.2. **ä»»åŠ¡é…ç½®**ï¼š

- é…ç½®æ•°æ®é›†æˆä»»åŠ¡ï¼ŒåŒ…æ‹¬æ•°æ®æŠ½å–ã€è½¬æ¢ã€åŠ è½½ç­‰ç¯èŠ‚ã€‚
- Tisæ”¯æŒå¤šç§æ•°æ®æºçš„Sourceå’ŒSinkç»„ä»¶ï¼Œæ•°æ®æºæ”¯æŒKingBase, Hive, MongoDB, MySQL, DaMeng, Kafka, MariaDB, PostgreSQL, SqlServer, TDFS, Oracleï¼›
- æ•°æ®ç›®çš„æ”¯æŒSqlServer, Doris, Spark, StarRocks, MySQL, Aliyun-ODPS, PostgreSQL, Hive, ClickHouse, MongoDB, Kafka, Oracle, TDFS, KingBase, ElasticSearch, DaMeng, MariaDBã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750472047984-18d6bb03-e9c1-482e-bcd9-9c96dd0e7e26.png)

#### 4.5.3. **ä»»åŠ¡è°ƒåº¦ä¸ç›‘æ§**ï¼š

- é…ç½®ä»»åŠ¡çš„è°ƒåº¦ç­–ç•¥ï¼Œå¦‚å®šæ—¶è°ƒåº¦ã€ä¾èµ–è°ƒåº¦ç­‰ã€‚é€šè¿‡Tiså¹³å°ç›‘æ§ä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€å’Œæ—¥å¿—ï¼Œç¡®ä¿ä»»åŠ¡æ­£å¸¸è¿è¡Œã€‚



## 5. è®¿é—®å®æ—¶å¼€å‘IDEé¡µé¢

#### 5.1.1. è¿›å…¥æ•°æ®é›†æˆå¹³å°

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744145492-da0bb7c4-ee5f-4c22-9f34-d7623436d589.png)

#### 5.1.2. æ•°æ®åŒæ­¥ä»»åŠ¡ä¸­å¿ƒ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744292644-e99ed8df-1b39-4da9-a61b-8fd26de51cb3.png)

#### 5.1.3. æ•°æ®åŒæ­¥ä»»åŠ¡ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741745997182-c95eb77b-f19e-492c-bc35-8800e1edb8b2.png)

#### 5.1.4. æ•°æ®åº“ç®¡ç†ä¸­å¿ƒ

##### 5.1.4.1. Mysql8æ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744479420-15b03dd8-43ac-4e2a-9dc7-482e1bc71908.png)

##### 5.1.4.2. Oracle 19cæ ¡éªŒé€šè¿‡

###### ![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744504561-493251c6-28c4-42f0-aecd-83fafdfaeff6.png)

##### 5.1.4.3. Doris 2.0.7æ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744526087-f17b8e89-a2a5-40e5-87a2-9113e0e508e9.png)

##### 5.1.4.4. Hive2.4.2æ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744558618-6e154f45-fc6a-4493-bbd7-304685ed3227.png)

##### 5.1.4.5. è¾¾æ¢¦å›½äº§æ•°æ®åº“æ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744591021-6ca599fb-5ef7-4794-a65b-885df18e5eec.png)

##### 5.1.4.6. äººå¤§é‡‘ä»“å›½äº§æ•°æ®åº“æ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744615338-b17d572c-5bd4-4aa3-b99d-0d594fd8f11e.png)

##### 5.1.4.7. æ”¯æŒå…¶ä»–æ•°æ®æºæ‰©å±•

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741744667607-4c584bec-53c3-4e5c-9bef-0dc09be99866.png)

#### 5.1.5. æ•°æ®åŒæ­¥è®¾ç½®

åŒ…å«ä¸šåŠ¡çº¿ç®¡ç†ã€DataXæ‰§è¡Œå™¨ã€Flink Clusterã€æ’ä»¶é…ç½®ã€æ“ä½œæ—¥å¿—ã€ç³»ç»Ÿå¼‚å¸¸

##### 5.1.5.1. ä¸šåŠ¡éƒ¨é—¨ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741746093550-3d4d0c5a-942a-4e57-9fe9-bee49794c124.png)

##### 5.1.5.2. æ’ä»¶é…ç½®ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741746127849-3212daa8-be89-428b-b368-339e3c09bb74.png)

##### 5.1.5.3. æ“ä½œæ—¥å¿—ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741746776147-712cb5cf-c9ce-4276-b970-09718120514d.png)

##### 5.1.5.4. æ“ä½œæ—¥å¿—è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741746798579-57a6e840-f165-49ac-a5be-80edf23df14b.png)

##### 5.1.5.5. å¼‚å¸¸æ—¥å¿—ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741746825134-9b211ce5-cd56-4d6f-808b-a1390acdbc9e.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741746840394-1d48a855-381f-4d93-9875-09110a69db97.png)

#### 5.1.6. Hiveæ•°æ®åº“åŒæ­¥èƒ½åŠ›æ¼”ç¤º

##### 5.1.6.1. ç¬¬ä¸€æ­¥é…ç½®åŸºæœ¬ä¿¡æ¯ä¸æ’ä»¶

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747236371-d78ce660-9355-4af3-b215-2dbd6c72ca7f.png)

##### 5.1.6.2. Readerè®¾ç½®ï¼Œé…ç½®Hiveæ•°æ®æºReaderï¼ŒDorisæ•°æ®ç›®çš„Writer

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747286507-1f56f603-0493-4b1a-95df-910e4e4e6bfd.png)

#### 5.1.7. Hiveå…ƒæ•°æ®ä¸­å¿ƒé…ç½®ï¼Œé…ç½®HiveMetaStore

##### 5.1.7.1. é…ç½®é€‰æ‹©åˆ†åŒºè¡¨ï¼ˆäºŒé€‰ä¸€ï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747362739-d100a7b9-49e9-4ab3-a5d4-72fdf4c9376d.png)

##### 5.1.7.2. é…ç½®é€‰æ‹©å…¨é‡è¡¨ï¼ˆäºŒé€‰ä¸€ï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747558374-d8aeec84-299f-4cc4-9de2-84530bb2f5a9.png)

##### 5.1.7.3. æ·»åŠ HiveServer2ï¼Œæ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747391535-552240aa-5f1e-4e20-bd18-6b39309c4cc1.png)

##### 5.1.7.4. æ·»åŠ HDFSï¼Œæ ¡éªŒé€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747500244-90e44a56-dc84-4424-abea-01a73c057954.png)

##### 5.1.7.5. Readeré€‰æ‹©å¯¼å…¥è¡¨ï¼Œå¯ä»¥å¤šé€‰è¿›è¡Œæ•´åº“å¤šè¡¨æ‰¹é‡åŒæ­¥ï¼Œå¯ä»¥å•è¡¨åŒæ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747602464-e8622b68-62db-47ea-a8c8-56cff897907d.png)

##### 5.1.7.6. æ‰¹é‡è®¾ç½®è¡¨ï¼Œå¯¹è¡¨çš„åŒæ­¥å­—æ®µï¼Œè¡¨çš„ä¸»é”®è¿›è¡Œç­›é€‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747654347-37176428-d109-4dba-93ee-b29154343a03.png)

##### 5.1.7.7. é€‰æ‹©ä¸»é”®ä¸åŒæ­¥å­—æ®µ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747671935-01469cd5-ae60-480b-8592-f24def46c070.png)

##### 5.1.7.8. é€‰æ‹©Dorisç›®çš„è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747692286-7ce0913a-393a-48ce-852d-1263c1a1d296.png)

##### 5.1.7.9. è¡¨æ˜ å°„ï¼Œæ”¯æŒè‡ªå®šä¹‰ç›®çš„è¡¨å

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747741967-8388595b-7c4a-4da8-9ed2-7dbdc180c690.png)

##### 5.1.7.10. ç¡®è®¤åŒæ­¥ä»»åŠ¡ä¿¡æ¯ï¼Œåˆ›å»ºåŒæ­¥ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747771101-cbb28b28-7b5c-4d62-a266-b3f720f31b1d.png)

##### 5.1.7.11. æŸ¥çœ‹è‡ªåŠ¨åŒ–ç”Ÿæˆçš„DataXè„šæœ¬

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747798419-673c2d7e-374c-4858-ae74-35de802e6823.png)

##### 5.1.7.12. æŸ¥çœ‹è‡ªåŠ¨ç”Ÿæˆçš„Table DDLè„šæœ¬

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747842066-6865c44f-3aec-41a7-8f2a-bd5bc60fc082.png)

##### 5.1.7.13. åˆ›å»ºåŒæ­¥ä»»åŠ¡å®ä¾‹æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747862012-b5617d23-eff2-4e52-a771-71deed7f9a7e.png)

##### 5.1.7.14. æŸ¥çœ‹ä»»åŠ¡ä¸»æ§å°

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747874636-3c68154f-cc54-485a-b04b-6870a84deddb.png)

##### 5.1.7.15. ä»»åŠ¡ç®¡ç†ï¼Œå¯ä»¥å¯¹ä»»åŠ¡è¿›è¡Œé‡æ–°é…ç½®ä¸ä¿®æ”¹

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747936401-4f8eb7ac-11c4-4f31-91f9-4bc30ee7bdf2.png)

##### 5.1.7.16. è§¦å‘æ„å»ºHiveåˆ°Dorisçš„åŒæ­¥ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747975638-af34607c-7000-4569-bece-2ab6f06fc35f.png)

##### 5.1.7.17. Hiveè¡¨åŒæ­¥æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748098772-9747e815-9786-439b-83d2-9ecbf6dd1947.png)

##### 5.1.7.18. æŸ¥çœ‹æ“ä½œå†å²

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741747998819-46283f7c-c15a-4075-be41-52674280b3a6.png)

##### 5.1.7.19. æŸ¥çœ‹Hiveè¡¨ï¼ŒHiveè¡¨é‡å¤æ•°æ®æœ‰25æ¡ï¼Œä¸»é”®å”¯ä¸€çš„åªæœ‰5æ¡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748224030-345c1433-9f13-41b1-afe5-eb9589822e11.png)

##### 5.1.7.20. æŸ¥çœ‹åŒæ­¥ç»“æœDorisè¡¨ï¼Œä¸»é”®è®¾ç½®ä¸ºtransaction_idï¼ŒåŒæ­¥ç»“æœä¿è¯5æ¡ï¼Œç²¾å‡†å‡†ç¡®åŒæ­¥æ— è¯¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748057258-4dee364f-53d0-416b-9a66-ba9f20af5cb1.png)

#### 5.1.8. MySQLæ•°æ®åº“åŒæ­¥èƒ½åŠ›æ¼”ç¤º

åŒæ­¥æµç¨‹ä¸ä¸Šè¯‰ç±»ä¼¼ï¼ŒåŒ…å«å¢é‡åŒæ­¥çš„æµç¨‹ï¼Œåç»­è¡¥å……æ–‡æ¡£ã€‚

##### 5.1.8.1. åˆ›å»ºMysqlåˆ°Dorisçš„åŒæ­¥ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748364455-c5ced41b-09a4-406e-9aec-6bd494e59f26.png)

##### 5.1.8.2. åŒæ­¥çš„æ˜¯Mysqlå¤šè¡¨åŒæ­¥åˆ°Doris

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748398920-f9fd2b5e-c473-415f-b6ca-9d1abf84dc2d.png)

##### 5.1.8.3. ç”Ÿæˆçš„åŒæ­¥è„šæœ¬

```javascript
		"content":[
			{
				"reader":{
					"parameter":{
						"password":"k32G0hokmB8YLhm0",
						"connection":[
							{
								"querySql":[
									"SELECT `ACCOUNT_ID`,`ACCOUNT_PARENT`,`ACCOUNT_DESCRIPTION`,`ACCOUNT_TYPE`,`ACCOUNT_ROLLUP`,`CUSTOM_MEMBERS` FROM account_sink "
								],
								"jdbcUrl":[
									"jdbc:mysql://8g009:33196/studio?autoReconnect=true&useUnicode=yes&useCursorFetch=true&useSSL=false&serverTimezone=Asia%2FShanghai&useCompression=true&characterEncoding=utf8"
								]
							}
						],
						"dataxName":"mysql8_2_doris_task",
						"username":"root"
					},
					"name":"mysqlreader"
				},
				"writer":{
					"parameter":{
						"password":"",
						"database":"doris_mysql_db",
						"loadProps":{
							"column_separator":"\\x01",
							"line_delimiter":"\\x02"
						},
						"maxBatchByteSize":104857600,
						"column":[
							"ACCOUNT_ID",
							"ACCOUNT_PARENT",
							"ACCOUNT_DESCRIPTION",
							"ACCOUNT_TYPE",
							"ACCOUNT_ROLLUP",
							"CUSTOM_MEMBERS"
						],
						"jdbcUrl":"jdbc:mysql://8g003:9030/doris_mysql_db",
						"table":"account_sink",
						"feLoadUrl":[
							"8g003:18030"
						],
						"maxBatchRows":10000,
						"dataxName":"mysql8_2_doris_task",
						"username":"root"
					},
					"name":"dorisWriter"
				},
				"dataxName":"mysql8_2_doris_task"
			}
		],
		"setting":{
			"errorLimit":{
				"record":1,
				"percentage":0.02
			},
			"speed":{
				"channel":3
			}
		}
	}
}
```

##### 5.1.8.4. ç”Ÿæˆçš„Doris DDLè„šæœ¬

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748493686-de60ae79-c255-4bd6-bce4-87cf79c3fdac.png)

##### 5.1.8.5. æ‰§è¡Œç»“æœï¼ŒæˆåŠŸåŒæ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748514345-5a7b101c-712a-4d65-88e3-3edbe2ce1805.png)

##### 5.1.8.6. æŸ¥çœ‹Mysqlæºè¡¨accountçš„æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748612503-3d63d9ae-fa47-4b7d-8201-390674af6453.png)

##### 5.1.8.7. é¢„è§ˆDorisç›®çš„è¡¨account_sinkçš„æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748585640-7844c3dd-38bc-4f83-a071-00d09c7b29c1.png)



#### 5.1.9. Mysqlå¢é‡åŒæ­¥åˆ°Dorisè¿›è¡Œé…ç½®å¢é‡åŒæ­¥

##### 5.1.9.1. åˆ›å»ºå¢é‡é€šé“

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748823423-a374eb44-3039-409e-b40e-408e1ce14fed.png)

##### 5.1.9.2. å¢åŠ flinkå¼•æ“ï¼Œå¢é‡å¼•æ“é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748834681-6a31da6d-f220-40fc-800b-b631c32e571d.png)

##### 5.1.9.3. æµ‹è¯•Flinké›†ç¾¤è¿æ¥

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748872822-39ac4854-8376-4b31-aa3c-4e9cbf98b455.png)

##### 5.1.9.4. é…ç½®å¢é‡åŒæ­¥çš„Source/Sink

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748898149-42051a39-4518-4009-9e19-623bf3f8633a.png)

##### 5.1.9.5. è‡ªåŠ¨ç”ŸæˆåŒæ­¥ç¨‹åºï¼Œå¯ä»¥é€‰SQLä¸DStream

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748924545-8ebb8411-9c40-4c1a-8fdf-b9bc1491401c.png)

##### 5.1.9.6. éƒ¨ç½²å¢é‡åŒæ­¥ä»»åŠ¡æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748983374-7b704c08-e36e-4f76-bdd7-81f22d0fe17b.png)

##### 5.1.9.7. è¿›å…¥Mysqlå¢é‡åŒæ­¥é€šé“

##### ![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741748996024-cfa37584-dfae-464e-93e8-1d4c1f956917.png)

#### 5.1.10. Mysqlå¢é‡åŒæ­¥ä»»åŠ¡æˆåŠŸè¿è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749025767-206ead21-b827-47c7-87e8-2e4cea742dc7.png)

##### 5.1.10.1. æŸ¥çœ‹Mysqlå¢é‡åŒæ­¥é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749048986-99b49d04-8ec8-4704-9206-bf66322b3c09.png)

##### 5.1.10.2. é€šè¿‡Flink UIæŸ¥çœ‹å®æ—¶CDCä»»åŠ¡è¿è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749072857-0e551b9b-670d-401e-9066-383f2bbe47b8.png)

##### 5.1.10.3. å¢é‡åŒæ­¥ç»“æœ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749149041-622ee80c-ef7d-4ea4-9d39-975648e32cb2.png)

##### 5.1.10.4. Mysqlæµ‹è¯•accountå¢åŠ 4æ¡æ•°æ®ï¼Œæºè¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740561575638-4e982a07-c55a-46e4-af48-bf3eaf384068.png)

##### 5.1.10.5. Dorisæ£€æŸ¥å¢é‡åŒæ­¥ç»“æœï¼Œç»“æœè¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740561575652-fa86f10e-2886-457f-aa58-97285742bf05.png)

å¦‚å›¾ï¼ŒæˆåŠŸåŒæ­¥äº†4æ¡æ•°æ®ã€‚

#### 5.1.11. Oracleæ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º

åŒæ­¥æµç¨‹ä¸ä¸Šè¯‰ç±»ä¼¼ï¼ŒåŒ…å«å¢é‡åŒæ­¥çš„æµç¨‹ï¼Œåç»­è¡¥å……æ–‡æ¡£ã€‚

#### 5.1.12. è¾¾æ¢¦å›½äº§æ•°æ®åº“åŒæ­¥èƒ½åŠ›æ¼”ç¤º

##### 5.1.12.1. æ–°å¢å›½äº§æ•°æ®åº“è¾¾æ¢¦æ•°æ®æº

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749240111-9caee2d3-1a59-4964-ad0e-55cb4a18a28a.png)

##### 5.1.12.2. é€‰æ‹©å›½äº§æ•°æ®åº“è¾¾æ¢¦æ•°æ®æºReaderä¸Dorisçš„Writer

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749291818-18b7e4c2-26bc-4b9c-8cf8-7637c43849d4.png)

##### 5.1.12.3. å›½äº§æ•°æ®åº“è¾¾æ¢¦æ•°æ®æºé…ç½®Reader

##### ![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749353023-1cada92b-6ce3-4c17-8d62-96a6f01f5b20.png)

##### 5.1.12.4. æ–°å»ºæ•°æ®æºè¿æ¥ï¼ˆå¯é€‰ï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºæ•°æ®æºï¼Œæ–°å»ºæ•°æ®æºè¿æ¥ï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749340475-3f9135f8-a9a5-49b6-99a3-c5743cb0a7c8.png)

##### 5.1.12.5. é€‰æ‹©å›½äº§æ•°æ®åº“è¾¾æ¢¦çš„æºè¡¨dameng_db.TestTable

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749434888-1864cdf1-5f72-4a72-b233-55a66bd829df.png)

##### 5.1.12.6. æ‰¹é‡å›½äº§æ•°æ®åº“è¾¾æ¢¦çš„æºè¡¨-è®¾ç½®è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749458681-d14d95e9-6bd6-497b-8f71-604e749a36fc.png)

##### 5.1.12.7. é€‰æ‹©åŒæ­¥æ•°æ®å­—æ®µ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749489316-e7eca1cc-e295-466f-b419-412ad827d392.png)

##### 5.1.12.8. é€‰æ‹©Dorisç›®æ ‡è¡¨å­˜å‚¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749507147-426419b7-aa5a-4765-8155-a19acd6a9a68.png)

##### 5.1.12.9. å›½äº§æ•°æ®åº“è¾¾æ¢¦è¡¨æ˜ å°„åˆ°Doris

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749520726-cd34f4e1-3e2d-413b-9544-207d6a3c977d.png)

##### 5.1.12.10. è‡ªåŠ¨ç”Ÿæˆè¡¨åŒæ­¥è„šæœ¬

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749546760-636702d9-f143-4dce-bdd0-52af6ed12fed.png)

##### 5.1.12.11. åˆ›å»ºå›½äº§æ•°æ®åº“è¾¾æ¢¦åŒæ­¥åˆ°Dorisçš„ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749582612-2a09d8e1-2de4-436a-9453-4585279a4875.png)

##### 5.1.12.12. æŸ¥çœ‹å›½äº§æ•°æ®åº“è¾¾æ¢¦åŒæ­¥åˆ°Dorisä»»åŠ¡è¯¦æƒ…

##### ![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749594398-a8673e49-447c-47ee-b61f-daddcd43f1e7.png)

##### 5.1.12.13. è§¦å‘å›½äº§æ•°æ®åº“è¾¾æ¢¦åŒæ­¥åˆ°Dorisä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741749626228-6f30f55c-07b4-4858-841d-0a7c497984be.png)



##### 5.1.12.14. æŸ¥çœ‹å›½äº§æ•°æ®åº“è¾¾æ¢¦TestTableè¡¨æ•°æ®ï¼Œ1000æ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750019092-29b22f88-4143-48c0-be67-fa59b6022faa.png)

##### 5.1.12.15. åŒæ­¥å›½äº§æ•°æ®åº“DaMengæˆåŠŸåˆ›å»ºDorisè¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750488935-b811b4cf-3dac-4030-8f00-881cac6d29b7.png)

##### 5.1.12.16. æˆåŠŸåŒæ­¥1000æ¡æ•°æ®ï¼ŒéªŒè¯é€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750451394-4e27805e-3d1f-401e-8154-34c7e8a1128c.png)

##### 5.1.12.17. æŸ¥çœ‹åŒæ­¥ç»“æœï¼ŒæŸ¥çœ‹Doris testè¡¨æ•°æ®ï¼Œ1000æ¡éªŒè¯é€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750550565-a71f9bac-da2c-4f4e-8422-d0165bf9b767.png)

#### 5.1.13. äººå¤§é‡‘ä»“å›½äº§æ•°æ®åº“åŒæ­¥èƒ½åŠ›æ¼”ç¤º

åŒæ­¥æµç¨‹ä¸ä¸Šè¯‰ç±»ä¼¼ï¼ŒåŒ…å«å¢é‡åŒæ­¥çš„æµç¨‹ï¼Œåç»­è¡¥å……æ–‡æ¡£ã€‚



##### 5.1.13.1. æ–°å¢å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseæ•°æ®æº

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750647050-54e0b6d2-54c4-4faa-a1b1-544c5a7db09c.png)

##### 5.1.13.2. é€‰æ‹©å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBase Readerä¸Dorisçš„Writer

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750669625-d595b847-3da2-4ea6-bf96-99f1baa17d31.png)

##### 5.1.13.3. é…ç½®å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBase Reader

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750679832-341093f0-b395-46dd-bbd1-fec40731eb01.png)

##### 5.1.13.4. æ–°å»ºæ•°æ®æºè¿æ¥ï¼ˆå¯é€‰ï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºæ•°æ®æºï¼Œæ–°å»ºæ•°æ®æºè¿æ¥ï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750712304-36c3e310-848e-4cd8-9b0a-d68119330ffa.png)

##### 5.1.13.5. é€‰æ‹©å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseçš„æºè¡¨test

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750698374-a4834799-f951-430c-b0f5-9b5b8f716577.png)

##### 5.1.13.6. æ‰¹é‡å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseçš„æºè¡¨-è®¾ç½®è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750725967-78bfd826-5a67-464e-b261-70e766d99445.png)

##### 5.1.13.7. é€‰æ‹©åŒæ­¥å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBase-æ•°æ®å­—æ®µ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750762214-11827762-85d9-4fe3-b08a-83ad8caf51a9.png)

##### 5.1.13.8. é€‰æ‹©Dorisç›®æ ‡è¡¨å­˜å‚¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750787430-42dc6d25-7e00-4933-907f-556fe45e4696.png)

##### 5.1.13.9. å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseæ˜ å°„åˆ°Doris

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750808931-67c187c8-b0dc-4f64-b396-2767bd06b3ac.png)

##### 5.1.13.10. è‡ªåŠ¨ç”Ÿæˆè¡¨åŒæ­¥è„šæœ¬

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750842071-2c6bc57b-3daa-461b-ad18-cdbc5d010158.png)

##### 5.1.13.11. åˆ›å»ºå›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseåŒæ­¥åˆ°Dorisçš„ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750870371-b32b71c1-9a00-4d5b-9efb-759088468517.png)

##### 5.1.13.12. æŸ¥çœ‹å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseåŒæ­¥åˆ°Dorisä»»åŠ¡è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750897014-612f37f8-e728-4e67-bdc6-3ef09abf3504.png)

##### 5.1.13.13. è§¦å‘å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseåŒæ­¥åˆ°Dorisä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741750910857-c0085c98-8464-4bbf-bd1f-fe190845f62b.png)

##### 5.1.13.14. æŸ¥çœ‹å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseæºè¡¨testæ•°æ®ï¼Œåˆè®¡17æ¡æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751025178-ab3efdd1-34a4-48a3-ad5c-313ba23aaa0e.png)

##### 5.1.13.15. æŸ¥çœ‹åŒæ­¥åˆ°Dorisç›®çš„è¡¨çš„æ•°æ®ï¼ŒåŒæ­¥é€šè¿‡ï¼Œ17æ¡æ•°æ®éªŒè¯æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751170399-17affb84-4555-4c5a-9fb2-742850c2f132.png)



#### 5.1.14. å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseå¢é‡åŒæ­¥åˆ°Dorisèƒ½åŠ›æ¼”ç¤º

##### 5.1.14.1. å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“å®æ—¶åŒæ­¥åˆ°Dorisä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751236252-ae565fc9-d075-4503-9a93-8accadaad183.png)

##### 5.1.14.2. é…ç½®å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“çš„å¢é‡å¼•æ“

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751274314-010206fa-9708-4d62-a3ca-e4b4b22941a5.png)

##### 5.1.14.3. é…ç½®å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“çš„SourceFactoryä¸å¢é‡åŒæ­¥Factory

##### ![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751606122-ab1f2de8-352e-476b-ab77-4dc1eb6eaacf.png)

##### 5.1.14.4. è‡ªåŠ¨ç”Ÿæˆå›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“çš„å®æ—¶ä»»åŠ¡ä»£ç 

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751332296-2d6d5805-3447-445d-920b-3273adb9cad0.png)

##### 5.1.14.5. éƒ¨ç½²å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“çš„å®æ—¶å¢é‡åŒæ­¥ä»»åŠ¡ï¼Œéƒ¨ç½²æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741751385452-0b390b16-de84-431d-b754-3a4a200e0109.png)

##### 5.1.14.6. å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“çš„å®æ—¶å¢é‡åŒæ­¥ä»»åŠ¡è¿è¡ŒæˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741752011778-322b370f-0367-4933-a284-2ec9c6bd2d19.png)

##### 5.1.14.7. å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“KingBaseè¡¨testæ•°æ®ä¸º17æ¡ï¼Œæµ‹è¯•å¢åŠ 7æ¡æ•°æ®ï¼Œæºæ•°æ®å¢åŠ åˆ°24æ¡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741752187392-81431ff9-2de7-4cb1-bf32-034cc5e4f589.png)

##### 5.1.14.8. å®æ—¶åŒæ­¥ç»“æœéªŒè¯ï¼ŒDorisç»“æœè¡¨testæ•°æ®ç”±17æ¡å¢åŠ åˆ°24æ¡ï¼ŒéªŒè¯é€šè¿‡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741752280111-08444cff-a4a4-412a-8ce7-6c3d2e1da872.png)





------

# äº”ã€**æ•°æ®é›†æˆå¹³å°-KafkaåŒæ­¥åˆ°Dorisèƒ½åŠ›æ¼”ç¤º**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 

## 2. æ•°æ®é›†æˆå¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1SS3NzCEm8/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®é›†æˆå¹³å°åŸºäºå¼€æºé¡¹ç›®Tiså»ºè®¾ã€‚

æ•°æ®é›†æˆå¹³å°ï¼ˆTisï¼‰é›†æˆäº†FlinkX-CDCã€DataXç­‰å¤§æ•°æ®ç»„ä»¶ï¼Œæä¾›ä¸€ç«™å¼æ•°æ®é›†æˆæœåŠ¡ã€‚æ”¯æŒå¤šç§æ•°æ®æºï¼Œæ¶µç›–MySQLã€Oracleã€ElasticSearchç­‰ï¼Œå…¼å®¹å›½äº§æ•°æ®åº“ï¼Œæ»¡è¶³å¤šæºå¼‚æ„æ•°æ®é›†æˆéœ€æ±‚ã€‚

æ•°æ®é›†æˆå¹³å°æä¾›å¯è§†åŒ–æ“ä½œç•Œé¢ï¼Œç®€åŒ–æ•°æ®é›†æˆæµç¨‹ï¼Œé™ä½æ“ä½œéš¾åº¦ã€‚åŒæ—¶ï¼Œå…·å¤‡å®æ—¶ä¸æ‰¹é‡é›†æˆèƒ½åŠ›ï¼Œç¡®ä¿æ•°æ®åŠæ—¶å‡†ç¡®ã€‚æ­¤å¤–ï¼Œè¿˜æ”¯æŒæ’ä»¶åŒ–æ‰©å±•ï¼Œç”¨æˆ·å¯æŒ‰éœ€å¼€å‘æ–°æ’ä»¶ï¼Œå¢å¼ºå¹³å°çµæ´»æ€§ã€‚åŠ©åŠ›ä¼ä¸šé«˜æ•ˆå®Œæˆæ•°æ®é›†æˆä»»åŠ¡ï¼Œä¸ºæ•°æ®ä¸­å°å»ºè®¾æä¾›æœ‰åŠ›æ”¯æ’‘ã€‚

ğŸ”¹Tiså¼€æºé¡¹ç›®ï¼šhttps://github.com/datavane/tis

ğŸ”¹Tisæ–‡æ¡£åœ°å€ï¼šhttps://tis.pub/docs/

### 2.2. æ•°æ®é›†æˆå¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- ä¸€ç«™å¼å¼€ç®±å³ç”¨
- é¢†åŸŸæŠ½è±¡ç®€åŒ–å¤æ‚åº¦
- å¤šæ•°æ®æºæ”¯æŒ
- åŠŸèƒ½æ¨¡å—ä¸°å¯Œ
- é«˜æ•ˆæ•°æ®åŒæ­¥èƒ½åŠ›
- ä¸è°ƒåº¦ç³»ç»Ÿæ•´åˆ
- å®æ—¶ä¸æ‰¹é‡é›†æˆ
- å¯è§†åŒ–æ“ä½œç•Œé¢



## 3. æ•°æ®é›†æˆå¹³å°-æ•°æ®åŒæ­¥èƒ½åŠ›

Hiveæ•°æ®åº“æ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡åŒæ­¥+åˆ†åŒºåŒæ­¥)

MySQLæ•°æ®åº“æ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡+å¢é‡åŒæ­¥)

Oracleæ•°æ®åº“æ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡+å¢é‡åŒæ­¥)

å›½äº§æ•°æ®åº“è¾¾æ¢¦æ•°æ®æºDaMengæ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡åŒæ­¥)

å›½äº§æ•°æ®åº“äººå¤§é‡‘ä»“æ•°æ®æºKingBaseæ•°æ®åŒæ­¥èƒ½åŠ›æ¼”ç¤º(å…¨é‡+å¢é‡åŒæ­¥)

Kafkaå®æ—¶åŒæ­¥èƒ½åŠ›æ¼”ç¤ºï¼ˆå¢é‡å®æ—¶åŒæ­¥ï¼‰

### 3.1. æ”¯æŒæ•°æ®åº“å¦‚ä¸‹ï¼š

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741753279136-bcec6610-5134-4727-b407-cce419497aec.png)

## 4ã€åˆ›å»ºKafkaåŒæ­¥ä»»åŠ¡

### 4.1 è¿›å…¥ä¸»é¡µ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750057658-70b509dd-cbc4-4831-af54-abe639454650.png)

### 4.2 åˆ›å»ºkafkaé€šé“

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750067206-38160e25-aa02-4024-86bb-3592fa4768e6.png)

### 4.3 å¯è§†åŒ–é…ç½®kafkaåˆ°doris

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750076812-7acfcc01-06f7-42fb-9d5e-074669242cf5.png)

### 4.4 é…ç½®kafka reader

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750084866-30aaa0a6-6e0b-4dcc-b169-cbc69838a0e6.png)

### 4.5 é€šè¿‡Kafka Readeråˆ°å…¥è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750101193-c21533bd-1117-4cf2-98e8-098019d45d2d.png)

### 4.6 æ‰¹é‡é…ç½®Kafkaè¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750104162-5b7e7e55-419e-480b-8bef-85b1725709cb.png)

### 4.7 é…ç½®Doris Writerè¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750125648-1a781bab-d05f-42a6-aa5c-ddae7bb9539d.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750129052-86b416bc-10a4-4f1f-863b-a5f9043677b8.png)

### 4.8 æˆåŠŸåˆ›å»ºKafkaåˆ°DorisåŒæ­¥å®ä¾‹

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750143523-7d74822d-2886-46d0-8b06-bbe657fb23d9.png)

### 4.9 è¿›å…¥å®æ—¶åŒæ­¥é€šé“

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750153764-6905af7c-086c-4183-a163-279c1480db8c.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750157083-a9b1a3a1-69b1-4a25-a5b9-98ed5f170f70.png)

### 4.10 é…ç½®Flinkå®æ—¶åŒæ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750169671-4a27e6fb-4ee0-4541-8838-05564953b5f9.png)

### 4.11 å®æ—¶åŒæ­¥é…ç½®Source/Sink

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750176934-ddafde41-58b0-4d67-97eb-311977de3304.png)

### 4.12 è‡ªåŠ¨ç”ŸæˆåŒæ­¥å®æ—¶åŒæ­¥ä»£ç 

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750185761-6ea84f21-b4fa-4638-8505-7d3757052dc3.png)

### 4.13 éƒ¨ç½²å®æ—¶ä»»åŠ¡æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750194207-36e9cef2-a729-4add-93f4-090f6513357e.png)

### 4.14 æ£€æŸ¥å®æ—¶ä»»åŠ¡æ­£å¸¸è¿è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750207772-9f28cf23-e05a-4d53-a7e2-b395e9c1cb9a.png)

### 4.15 æ£€æŸ¥Flink Runtimeé¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755750222881-582f578e-6404-410a-a19d-9f0a1661d0b0.png)

### 4.16 æŸ¥çœ‹ç»“æœè¡¨æ•°æ®ï¼ŒæˆåŠŸå†™å…¥Dorisæ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755749968813-2080abf4-ca84-4215-b16a-178e089781dd.png)



------



# å…­ã€**æ•°æ®åŒæ­¥å¹³å°(seatunweb)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®åŒæ­¥å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV16M3LzpERG/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®åŒæ­¥å¹³å°åŸºäºå¼€æºé¡¹ç›®SeaTunnelå»ºè®¾ã€‚

æ•°æ®åŒæ­¥å¹³å°ï¼ˆSeaTunnelï¼‰åŸºäºå¼€æºé¡¹ç›®æ„å»ºï¼Œæ˜¯é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼æ•°æ®é›†æˆæ¡†æ¶ã€‚æ”¯æŒä¸Šç™¾ç§æ•°æ®æºï¼Œå…¼å®¹ç¦»çº¿ã€å®æ—¶ã€å…¨é‡/å¢é‡åŒæ­¥ç­‰åœºæ™¯ï¼Œå…·å¤‡é«˜ååã€ä½æ—¶å»¶ç‰¹ç‚¹ï¼Œæ¯å¤©å¯ç¨³å®šé«˜æ•ˆåŒæ­¥æ•°ç™¾äº¿æ•°æ®ï¼Œè¿˜æ”¯æŒå¯è§†åŒ–ä¸ä»£ç å¼€å‘ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡Œå¤æ‚æ•°æ®é›†æˆä»»åŠ¡ã€‚



- å¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/seatunnel
- å¼€æºé¡¹ç›®: https://github.com/apache/seatunnel-web
- âš ï¸æ³¨æ„ï¼šæ›´å¤šæ•™ç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ•™ç¨‹æ–‡æ¡£ï¼šhttps://seatunnel.apache.org/zh-CN/docs/2.3.11/start-v2/locally/deployment/
- å‚è€ƒå®‰è£…Seatunnelï¼šhttps://blog.csdn.net/weixin_53458434/article/details/142341000

 

### 2.2. Seatunnelæ”¯æŒæ•°æ®æºï¼ˆå‚è€ƒå®˜ç½‘ï¼‰

https://seatunnel.apache.org/zh-CN/docs/2.3.12/connector-v2/source

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1758532183777-af46f12c-ddf6-4d0e-acb9-e7174d098367.png)

### 2.3. Seatunnelæ”¯æŒæ•°æ®ç›®çš„ï¼ˆå‚è€ƒå®˜ç½‘ï¼‰

https://seatunnel.apache.org/zh-CN/docs/2.3.12/connector-v2/sink

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1758532221564-d9e494d2-4862-4603-bc01-858ebe02c9da.png)

### 2.4. æ•°æ®åŒæ­¥å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- é«˜æ€§èƒ½ä¸åˆ†å¸ƒå¼æ¶æ„
- å¤šæºæ•°æ®æ¥å…¥ä¸å…¼å®¹
- å¤šç§åŒæ­¥åœºæ™¯æ”¯æŒ
- å¤šå¼•æ“æ”¯æŒ
- é«˜ååé‡ä¸ä½å»¶è¿Ÿ
- å¯è§†åŒ–ä¸ä»£ç å¼€å‘æ”¯æŒ
- ä¸°å¯Œçš„è¿æ¥å™¨ä¸æ’ä»¶åŒ–è®¾è®¡
- å®Œå–„çš„å®æ—¶ç›‘æ§
- é«˜å¯ç”¨ä¸å®¹é”™æœºåˆ¶
- æ•°æ®è¡€ç¼˜ä¸è´¨é‡ç›‘æ§
- å®‰å…¨åˆè§„



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®åŒæ­¥å¹³å°ï¼ˆSeaTunnelï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486758484-c1645508-1414-4d45-a848-7d9dee962f41.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **Javaç¯å¢ƒï¼š**

- å®‰è£…Java 8æˆ–11ï¼Œå¹¶é…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ã€‚
- ç¤ºä¾‹å‘½ä»¤ï¼š

```javascript
export JAVA_HOME=/path/to/java
export PATH=$JAVA_HOME/bin:$PATH
```

ğŸ’¡ **ä¸‹è½½SeaTunnelå®‰è£…åŒ…ï¼š**

- ä»SeaTunnelå®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œä¾‹å¦‚ï¼š

```javascript
export version="2.3.9"
wget "https://archive.apache.org/dist/seatunnel/${version}/apache-seatunnel-${version}-bin.tar.gz"
tar -xzvf "apache-seatunnel-${version}-bin.tar.gz"
```

 ğŸ’¡ **é…ç½®ç¯å¢ƒå˜é‡ï¼š**

- æ·»åŠ `SEATUNNEL_HOME`ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š

```javascript
export SEATUNNEL_HOME=/path/to/apache-seatunnel-${version}
export PATH=$PATH:$SEATUNNEL_HOME/bin
```



### 3.2. è·å–æºç 

ğŸ’¡ **ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„SeaTunnelç‰ˆæœ¬ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **ä½¿ç”¨Mavenç¼–è¯‘æºç ï¼š**

- ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶åŒ…ä½äº`target`ç›®å½•ä¸‹ã€‚

```javascript
mvn clean package -DskipTests
```

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750474678711-a36c3c4e-a96a-4860-af22-511bfb989100.png)

### 3.4. **éƒ¨ç½²åŠè¿è¡Œé…ç½®**

ğŸ’¡ **é…ç½®SeaTunnel Engine**

- ç¼–è¾‘`$SEATUNNEL_HOME/config/seatunnel.yaml`æ–‡ä»¶ï¼Œé…ç½®å¼•æ“å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```javascript
seatunnel:
  engine:
    backup-count: 1  # å®šä¹‰åŒæ­¥å¤‡ä»½æ•°é‡
    slot-service:
      dynamic-slot: true  # åŠ¨æ€Sloté…ç½®
```

ğŸ’¡ **å¯åŠ¨SeaTunnel Engine**

- å¯åŠ¨Masterå’ŒWorkeræœåŠ¡ï¼š

```javascript
mkdir -p $SEATUNNEL_HOME/logs
./bin/seatunnel-cluster.sh -d  # ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨
```

ğŸ’¡ **å¯åŠ¨SeaTunnel Webï¼ˆå¯é€‰ï¼‰**

- å¦‚æœéœ€è¦Webç•Œé¢ï¼Œå¯ä»¥å¯åŠ¨SeaTunnel WebæœåŠ¡ï¼š
- è®¿é—®Webç•Œé¢ï¼š`http://127.0.0.1:8801/ui/`ï¼Œé»˜è®¤ç”¨æˆ·åå’Œå¯†ç ä¸º`admin/admin`ã€‚

```javascript
cd apache-seatunnel-web-${project.version}
sh bin/seatunnel-backend-daemon.sh start
```



### 3.5. **å¯é€‰é…ç½®**

ğŸ’¡**é…ç½®MasterèŠ‚ç‚¹JVMé€‰é¡¹**

- ç¼–è¾‘`$SEATUNNEL_HOME/config/jvm_master_options`æ–‡ä»¶ï¼Œé…ç½®JVMå‚æ•°ï¼Œä¾‹å¦‚ï¼š

```javascript
-Xms2g
-Xmx2g
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/tmp/seatunnel/dump/zeta-server
```

ğŸ’¡**é…ç½®WorkerèŠ‚ç‚¹JVMé€‰é¡¹**

- ç¼–è¾‘`$SEATUNNEL_HOME/config/jvm_worker_options`æ–‡ä»¶ï¼Œé…ç½®JVMå‚æ•°ï¼Œä¾‹å¦‚ï¼š

```javascript
-Xms2g
-Xmx2g
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/tmp/seatunnel/dump/zeta-server
```

ğŸ’¡**é…ç½®æ•°æ®è¡€ç¼˜ä¸è´¨é‡ç›‘æ§**

- SeaTunnelæ”¯æŒè‡ªåŠ¨æ•è·æ•°æ®è¡€ç¼˜ï¼Œç”Ÿæˆå­—æ®µçº§å½±å“åˆ†ææŠ¥å‘Šã€‚å¯ä»¥é€šè¿‡é…ç½®è´¨é‡å¹³å°å®æ—¶æ‰«æåŒæ­¥æ•°æ®ï¼Œç›‘æµ‹ç©ºå€¼ç‡ã€é‡å¤ç‡ç­‰æŒ‡æ ‡ã€‚



ğŸ’¡**é…ç½®å®‰å…¨åˆè§„**

- åˆ©ç”¨Mask Filterå¯¹æ•æ„Ÿå­—æ®µï¼ˆå¦‚èº«ä»½è¯å·ã€æ‰‹æœºå·ï¼‰è¿›è¡Œè„±æ•ã€‚
- é€šè¿‡æƒé™çŸ©é˜µæ§åˆ¶ä»»åŠ¡æ“ä½œæƒé™ï¼Œä¾‹å¦‚ï¼š

```javascript
# ç¤ºä¾‹ï¼šä»…å…è®¸è¿ç»´ç»„ä¿®æ”¹è¿æ¥é…ç½®
```

ğŸ’¡**é…ç½®é«˜å¯ç”¨ä¸å®¹é”™**

- SeaTunnelæ”¯æŒé«˜å¯ç”¨éƒ¨ç½²ï¼ˆå¦‚K8så¤šå‰¯æœ¬ï¼‰ï¼Œå•èŠ‚ç‚¹æ•…éšœä¸å½±å“æ•´ä½“è¿è¡Œã€‚
- é…ç½®æ•°æ®å¤‡ä»½ç­–ç•¥ï¼ˆå¦‚Hiveè¡¨æ¯æ—¥å¿«ç…§ï¼‰ï¼Œé˜²æ­¢è¯¯åˆ æ•°æ®ã€‚



## 4. è®¿é—®æ•°æ®åŒæ­¥å¹³å°é¡µé¢

#### 4.1.1. **æ•°æ®åŒæ­¥å¹³å°-åŠŸèƒ½æ¦‚è§ˆ-åŒæ­¥ä»»åŠ¡å®šä¹‰**

æ”¯æŒçµæ´»é…ç½®æ•°æ®æºã€ç›®æ ‡åŠè§„åˆ™,å®ç°ç¦»çº¿/å®æ—¶ã€å…¨é‡/å¢é‡æ•°æ®åŒæ­¥ä»»åŠ¡å®šåˆ¶ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414250417-4760fecb-73d5-411a-8c5c-30f44ff0d6ff.jpeg)

#### 4.1.2. **åˆ›å»ºä»»åŠ¡åŒæ­¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414256665-e60f73ef-90fd-478e-bcee-7ed3351f2323.jpeg)

#### 4.1.3. **åŒæ­¥ä»»åŠ¡å®šä¹‰-å®šä¹‰**

æ”¯æŒç”¨æˆ·ä»¥ä½ä»£ç /é«˜å®šåˆ¶åŒæ¨¡å¼é…ç½®ï¼Œå¯è‡ªç”±ç»„åˆæ•°æ®æºä¸ç›®æ ‡ç«¯ã€è®¾ç½®å­—æ®µæ˜ å°„åŠè½¬æ¢è§„åˆ™,çµæ´»é€‚é…å¤æ‚åœºæ™¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414267147-f0b7b733-970e-48b7-a51b-aee4b32db078.jpeg)

#### 4.1.4. **æ•°æ®æº**

æ”¯æŒå…³ç³»å‹/éå…³ç³»å‹æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰å¤šæºæ¥å…¥,æä¾›å¯è§†åŒ–åˆ†ç±»ç®¡ç†ä¸å¿«é€Ÿæ£€ç´¢ï¼Œå¯è‡ªå®šä¹‰æ•°æ®æºå‚æ•°ä¸è¿æ¥é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414277456-411633ef-7b3b-4c5a-93f0-b20a6f53012c.jpeg)

#### 4.1.5. **é€‰æ‹©æºç±»å‹-ä¼ ç»Ÿæ•°æ®åº“**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414286067-dc90f09a-57d2-4284-9e60-34f6ddb80244.jpeg)

#### 4.1.6. **ä¼ ç»Ÿæ•°æ®åº“-åˆ›å»ºæº**

æ”¯æŒ-é”®æ¥å…¥MySQL/0racle/SQLServerç­‰ä¸»æµåº“,å¯é…ç½®IPã€ç«¯å£è®¤è¯ä¿¡æ¯,è‡ªå®šä¹‰SOL/è¡¨çº§æŠ½å–ç­–ç•¥,å¹¶æ”¯æŒSSLåŠ å¯†ä¼ è¾“ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414296220-8eb431ba-2637-4701-9fed-8f6b882bf1b7.jpeg)

#### 4.1.7. **é€‰æ‹©æºç±»å‹-æ–‡ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414306363-66ff6426-9b9a-407b-80b5-b07fc695b181.jpeg)

#### 4.1.8. **æ–‡ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414315860-5b4d6b95-7cf7-422b-8f08-9dce371d8866.jpeg)

#### 4.1.9. **é€‰æ‹©æºç±»å‹-éç»“æ„åŒ–**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414328180-37fc18b3-11ab-4252-9759-0c1dadc0261f.jpeg)

#### 4.1.10. **åˆ›å»ºæº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414341506-8e62b069-8f40-44c8-b3e1-018045ffa27f.jpeg)

#### 4.1.11. **é€‰æ‹©æºç±»å‹-å‡é“¾æ¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414361997-c0ff34fe-8983-4ca6-a2b3-83443eb76174.jpeg)

#### 4.1.12. **åˆ›å»ºæº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414377137-018b3bf6-7c4f-4ae2-98d4-700c1462aed9.jpeg)

#### 4.1.13. **è™šæ‹Ÿè¡¨**

æ”¯æŒåŠ¨æ€æ˜ å°„æ•°æ®æº,å¯è‡ªå®šä¹‰å­—æ®µä¸é€»è¾‘,å®ç°è·¨æºè™šæ‹Ÿè§†å›¾æ„å»º,ç®€åŒ–å¤æ‚æ•°æ®æ•´åˆã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414381745-0209f434-34a0-47a3-b894-d34e3af7c564.jpeg)

#### 4.1.14. **åˆ›å»ºè™šæ‹Ÿè¡¨**

æ”¯æŒè·¨æºæ•°æ®è™šæ‹Ÿæ•´åˆ,å¯è‡ªå®šä¹‰å­—æ®µé€»è¾‘ä¸å…³è”è§„åˆ™,å®ç°æ•°æ®é€»è¾‘è§†å›¾å¿«é€Ÿæ„å»ºã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414410149-4cc537a5-f2f2-4ac4-a74a-9d3aa0c10f88.jpeg)

#### 4.1.15. **ç¼–è¾‘è™šæ‹Ÿè¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414414208-e1fac165-dfc4-434b-9b5a-90795fe9488d.jpeg)

#### 4.1.16. **æ¨¡å‹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414428444-59cfef9f-a234-44a7-b7b9-b62900d2d599.jpeg)

#### 4.1.17. **ç¼–è¾‘è™šæ‹Ÿè¡¨å®Œæˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414439040-b037e756-13a5-4db1-9b0a-bb76a3de3d0b.jpeg)

#### 4.1.18. **ç”¨æˆ·ç®¡ç†**

æ”¯æŒå¤šå±‚çº§æƒé™åˆ†é…,å¯ç²¾ç»†åŒ–æ§åˆ¶ç”¨æˆ·è§’è‰²ã€æ•°æ®æºä¸ä»»åŠ¡æ“ä½œæƒé™,ä¿éšœç³»ç»Ÿå®‰å…¨ä¸åä½œæ•ˆç‡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414458471-ba5af32e-4254-447e-ad3e-dea45b87f8eb.jpeg)

#### 4.1.19. **åˆ›å»ºç”¨æˆ·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414467935-94c408e7-6b40-437e-87be-c042ad250c73.jpeg)

#### 4.1.20. **ç¼–è¾‘ç”¨æˆ·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414477784-b9880851-3c6e-422d-8bb5-815ab1cf1d65.jpeg)

#### 4.1.21. **åŒæ­¥ä»»åŠ¡å®ä¾‹-ç¦»çº¿åŒæ­¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414488499-6c5f5f10-c48f-40ff-8b0e-6076f89ee558.jpeg)

#### 4.1.22. **åŒæ­¥ä»»åŠ¡å®ä¾‹-å®æ—¶åŒæ­¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750414511157-8a420344-cb04-41aa-abea-67a3047f01e9.jpeg)





------

# ä¸ƒã€**æ•°æ®å¹³å°(datasophon)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1MuKBzpEdo/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®å¹³å°åŸºäºå¼€æºé¡¹ç›®DataSophonå»ºè®¾ã€‚

AllDataæ•°æ®ä¸­å°é›†æˆçš„DataSophonæ•°æ®å¹³å°æ˜¯ä¸€ä¸ªå¼€æºçš„å¤§æ•°æ®ç®¡ç†å¹³å°ã€‚æ”¯æŒå¿«é€Ÿéƒ¨ç½²å¤§æ•°æ®äº‘åŸç”Ÿå¹³å°ï¼Œå®ç°é«˜æ•ˆç®¡ç†ã€å®æ—¶ç›‘æ§åŠè‡ªåŠ¨åŒ–è¿ç»´ã€‚é€šè¿‡é›†æˆDataSophonå¯é«˜æ•ˆé›†æˆå¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬å…³ç³»å‹æ•°æ®åº“ã€NoSQLæ•°æ®åº“ç­‰ï¼Œå®ç°æ•°æ®çš„é›†ä¸­ç®¡ç†å’Œåˆ©ç”¨ã€‚åŒæ—¶ï¼Œå®ƒå…·å¤‡å¼ºå¤§æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œèƒ½å¯¹æµ·é‡æ•°æ®è¿›è¡Œå®æ—¶åˆ†æã€æŒ–æ˜å’Œé¢„æµ‹ï¼Œæ»¡è¶³ä¼ä¸šå¤šæ ·åŒ–éœ€æ±‚ã€‚æ­¤å¤–ï¼ŒDataSophonè¿˜æä¾›æ•°æ®å¯è§†åŒ–åŠŸèƒ½ï¼Œå°†å¤æ‚æ•°æ®ä»¥ç›´è§‚å›¾å½¢åŒ–æ–¹å¼å±•ç¤ºï¼ŒåŠ©åŠ›ä¼ä¸šå¿«é€Ÿç†è§£æ•°æ®èƒŒåçš„å«ä¹‰ï¼Œä¸ºå†³ç­–æä¾›æœ‰åŠ›æ”¯æŒã€‚

- å¼€æºé¡¹ç›®ï¼šhttps://github.com/datavane/datasophon
- âš ï¸æ³¨æ„ï¼šæ›´å¤šæ•™ç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ•™ç¨‹æ–‡æ¡£ï¼šhttps://datasophon.github.io/datasophon-website/

### 2.2. æ•°æ®å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¿«é€Ÿéƒ¨ç½²
- å…¼å®¹å¤æ‚ç¯å¢ƒ
- ç›‘æ§æŒ‡æ ‡å…¨é¢ä¸°å¯Œ
- çµæ´»ä¾¿æ·çš„å‘Šè­¦æœåŠ¡
- å¯æ‰©å±•æ€§å¼º
- å®‰å…¨å¯é 
- ä¾¿æ·è¿ç»´
- å…¨é¢å…¼å®¹å¼€æºç”Ÿæ€



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®å¹³å°ï¼ˆDataSophonï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486516246-45124845-924e-46f3-bc7f-7d760a04714f.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡**æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- æ¨èä½¿ç”¨Linuxå‘è¡Œç‰ˆï¼ˆå¦‚Ubuntu/CentOSï¼‰ï¼Œç¡®ä¿ç³»ç»Ÿå·²å®‰è£…åŸºç¡€ä¾èµ–ï¼š
- **Javaç¯å¢ƒ**ï¼šJDK 11æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆéœ€é…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ï¼‰ã€‚
- **Maven**ï¼š3.6.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆç”¨äºé¡¹ç›®æ„å»ºï¼‰ã€‚
- **Git**ï¼šç”¨äºä»£ç å…‹éš†ä¸ç‰ˆæœ¬ç®¡ç†ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆéœ€æå‰å®‰è£…å¹¶é…ç½®ï¼‰ã€‚
- **å…¶ä»–å·¥å…·**ï¼šNode.jsï¼ˆéƒ¨åˆ†å‰ç«¯æ¨¡å—ä¾èµ–ï¼‰ã€Dockerï¼ˆå¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰ã€‚



ğŸ’¡**ç³»ç»Ÿèµ„æºè¦æ±‚ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å…·å¤‡è¶³å¤Ÿçš„CPUã€å†…å­˜ï¼ˆå»ºè®®è‡³å°‘8GBï¼‰å’Œç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘50GBï¼‰ã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

1. **éªŒè¯é¡¹ç›®ç»“æ„**

- é¡¹ç›®ç›®å½•åŒ…å«åç«¯æœåŠ¡ï¼ˆå¦‚`studio`ã€`gateway`ï¼‰ã€å‰ç«¯æ¨¡å—ã€æ•°æ®åº“è„šæœ¬ï¼ˆ`install`ç›®å½•ï¼‰åŠé…ç½®æ–‡ä»¶ï¼ˆå¦‚`application.properties`ï¼‰ã€‚

### 3.3. ç¼–è¯‘æ„å»º

1.  **ä¾èµ–å®‰è£…**

ğŸ’¡ä½¿ç”¨Mavenå®‰è£…é¡¹ç›®ä¾èµ–ï¼š

- è‹¥ä¾èµ–ä¸‹è½½ç¼“æ…¢ï¼Œå¯é…ç½®Mavené•œåƒä»“åº“ï¼ˆå¦‚é˜¿é‡Œäº‘é•œåƒï¼‰ã€‚

```javascript
mvn clean install
```



1. **æ•°æ®åº“åˆå§‹åŒ–**

ğŸ’¡æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ˆä½äº`install`ç›®å½•ï¼‰ï¼š

```javascript
mysql -u root -p < install/studio/studio-0.x.x.sql
```

ğŸ’¡ä¿®æ”¹`application.properties`ä¸­çš„æ•°æ®åº“è¿æ¥é…ç½®ï¼š

```javascript
spring.datasource.url=jdbc:mysql://localhost:3306/alldata?useSSL=false&serverTimezone=UTC  
spring.datasource.username=root  
spring.datasource.password=your_password
```



1. **æ•°æ®åº“åˆå§‹åŒ–**

ğŸ’¡è¿›å…¥æ ¸å¿ƒæ¨¡å—ç›®å½•ï¼ˆå¦‚`service-bootstrap`ï¼‰å¹¶å¯åŠ¨Spring Bootåº”ç”¨ï¼š

```javascript
cd service-bootstrap  
mvn spring-boot:run
```



### 3.4. è¿è¡Œé…ç½®

1. **å¯åŠ¨å…³é”®æœåŠ¡**

ğŸ’¡AllDataæ•°æ®ä¸­å°ä¾èµ–å¤šä¸ªå¾®æœåŠ¡ï¼Œéœ€æŒ‰é¡ºåºå¯åŠ¨ï¼š

- **æ³¨å†Œä¸­å¿ƒ**ï¼ˆEurekaï¼‰ï¼š`eureka`æ¨¡å—ã€‚
- **ç½‘å…³æœåŠ¡**ï¼ˆGatewayï¼‰ï¼š`gateway`æ¨¡å—ã€‚
- **æ ¸å¿ƒä¸šåŠ¡æœåŠ¡**ï¼šå¦‚æ•°æ®é›†æˆã€æ•°æ®è´¨é‡ç­‰æ¨¡å—ã€‚



1. **å‰ç«¯éƒ¨ç½²**

ğŸ’¡è‹¥é¡¹ç›®åŒ…å«å‰ç«¯æ¨¡å—ï¼Œéœ€ç¼–è¯‘å¹¶éƒ¨ç½²ï¼š

- å°†æ„å»ºäº§ç‰©ï¼ˆå¦‚ui_datasophonç›®å½•ï¼‰éƒ¨ç½²è‡³Nginxæˆ–TomcatæœåŠ¡å™¨ã€‚

```javascript
cd ui_datasophon  
npm install  
npm run build
```



1. **æ—¥å¿—é…ç½®**

ğŸ’¡ä¿®æ”¹`logback.xml`æ–‡ä»¶ï¼Œé…ç½®æ—¥å¿—è¾“å‡ºè·¯å¾„å’Œçº§åˆ«ï¼ˆå¦‚`INFO`æˆ–`DEBUG`ï¼‰ï¼š

```javascript
<property name="LOG_PATH" value="/var/log/alldata" />  
<root level="INFO">  
    <appender-ref ref="FILE" />  
</root>
```



### 3.5. éªŒè¯ä¸è®¿é—®

1. **è®¿é—®Webç•Œé¢**

- é»˜è®¤è®¿é—®åœ°å€ï¼š`http://localhost:8080`ï¼ˆå…·ä½“ç«¯å£ä»¥é…ç½®ä¸ºå‡†ï¼‰ã€‚



### 3.6. æ•°æ®å¹³å°åç«¯æºç ç¼–è¯‘

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218549908-97fb06ef-b821-41cb-89ef-ce72e4304c03.png)

### 3.7. IDEAé€‰æ‹©JDK8

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218582872-733b114f-85bd-4547-bd51-18976fee675e.png)

### 3.8. IDEAå‹¾é€‰Skip Tests

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218595669-d2eaa6c1-85b3-4e2d-8038-b18100cfd1d2.png)

### 3.9. IDEAæ‰§è¡ŒMaven Packageæ‰“åŒ…

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218611366-8881fa0f-9bb7-4ed9-8108-b279d13375ec.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218638032-8ed48b33-71c6-4082-b501-ba876cebd40a.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218640142-f20f4325-16b5-4ac2-a5a4-ac4fe4fbf4a4.png)

### 3.10. æ‰“åŒ…ä¹‹åè·å–å®‰è£…åŒ…ï¼ŒåŒ…å«DataSophon-Managerä¸Worker

### 3.11. è·å–DataSophon-Manager-xxx.tar.gzå®‰è£…åŒ…ï¼Œè§£å‹åˆ°æœåŠ¡å™¨ç›®å½•

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218663767-599eac85-0c87-47b8-af88-52efee18724a.png)

### 3.12. è·å–DataSophon-Worker-xxx.tar.gzå®‰è£…åŒ…ï¼Œè§£å‹åˆ°æœåŠ¡å™¨ç›®å½•

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218675087-d9abec0d-2cd0-46df-b75c-8391ae7f4a74.png)

### 3.13. æ•°æ®å¹³å°-æœåŠ¡å™¨åˆ›å»ºå¤§æ•°æ®ç»„ä»¶åŒ…ç›®å½•

1. **æ•°æ®å¹³å°-åˆ›å»ºç›®å½•**

ğŸ’¡mkdir /opt/datasophon/DDP/packages



1. **æ‹·è´DDP-1.2.1.tar.gzè§£å‹åˆ°æœåŠ¡å™¨ç›®å½•**

ğŸ’¡DDPå®‰è£…åŒ…å¯ä»¥ä¸‹è½½ï¼Œè§£å‹åˆ°/opt/datasophon/DDP/packages 

é€šè¿‡ç½‘ç›˜åˆ†äº«çš„æ–‡ä»¶ï¼šDDP-1.2.1

å¦‚éœ€å¯è”ç³»AllDataæ•°æ®ä¸­å°å¸‚åœºæ€»ç›‘æˆ–æŠ€æœ¯åŒäº‹è·å–é“¾æ¥ã€‚



1. **æ•°æ®å¹³å°-è§£å‹ä¹‹åè·å¾—ç›®å½•**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750218816063-48aa2d64-bdee-437a-8e49-316437e3f8b3.png?x-oss-process=image%2Fcrop%2Cx_0%2Cy_0%2Cw_1838%2Ch_1198)



1. **æŸ¥çœ‹DataSophon-Managerä¸DataSophon-Workeréƒ¨ç½²ç›®å½•**

ğŸ’¡cd /opt/datasophon

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750219185160-18eed4a7-ee1e-43f9-afe7-37093526fe53.png)



1. **é…ç½®Java8 Home**

ğŸ’¡export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.412.b08-1.el7_9.x86_64



1. **å¯åŠ¨DataSophon-Manager**

ğŸ’¡cd /opt/datasophon/datasophon-manager/bin

./datasophon-api.sh start api



1. **å¯åŠ¨DataSophon-Worker**

ğŸ’¡cd /opt/datasophon/datasophon-worker/bin

./datasophon-worker.sh start worker



1. **æœåŠ¡å™¨ï¼ˆäº‘æœåŠ¡å™¨ï¼‰å¼€æ”¾ç«¯å£ä¸é˜²ç«å¢™**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750219510437-c9e20a21-6ccd-4da8-9327-f60f2c13a01a.png)



1. **é‡å¯gateway**

ğŸ’¡kill -9 xxx

./gateway.sh





## 4. è®¿é—®æ•°æ®å¹³å°é¡µé¢

##### 4.1.1. **æ•°æ®å¹³å°-é›†ç¾¤è¿ç»´ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750225315515-32fee50a-4faf-41a3-a279-d8902afea0e9.jpeg)

##### 4.1.2. **åˆ›å»ºé›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750225339521-e25d8362-c76a-4b65-ac8b-d8fa90bb9769.jpeg)

##### 4.1.3. **é›†ç¾¤æ€»è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750225376109-91ca5861-be54-4a4a-abf3-dc95487eb6d7.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750225396625-f79fd0f4-2ae4-450f-ae21-03b048819c3e.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221250748-a4da4c66-62fa-404d-9742-b655977a5bc3.png)

##### 4.1.4. **ä¸»æœºç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750225410595-998af87f-e57d-4d79-8e70-840c72ecb366.jpeg)

##### 4.1.5. **æ·»åŠ æ–°ä¸»æœº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750225437771-b9415a00-5821-4d4a-930f-d8b946019a38.jpeg)

##### 4.1.6. **æœåŠ¡ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221282203-5b4dc03a-7c29-40c2-94d4-f31d909da554.png)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233295992-e3121fb6-1bb3-4c5d-9209-e2be5a751f92.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221300113-231b65b0-2b30-439b-917f-2a68a4bec58b.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221308301-770139ea-9d25-453a-978f-318e6af8ad3b.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221313372-0b1c8777-3a2c-4c64-9b3c-cb1d6497d289.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221320387-d84362d3-5c32-434d-9453-37feae495743.png)

##### 4.1.7. **å¢åŠ å¤§æ•°æ®ç»„ä»¶æœåŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221332508-fd7ccee4-9d09-4c2f-a925-8ecd868f05d8.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221336730-d2ad1fb7-167b-4506-9c60-b56fcbffc0da.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221343718-1bb27276-150c-45d8-ae8e-02975eb6f607.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221349500-092e1d90-64f7-431b-9c52-11562bc2c767.png)

##### 4.1.8. **å‘Šè­¦ç»„ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221365801-b3de3621-df28-44ac-b691-88cad3c35eda.png)

##### 4.1.9. **æ–°å»ºå‘Šè­¦ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233527979-ce5a6f2c-f6e7-4e98-baca-d81f454a3714.jpeg)

##### 4.1.10. **å‘Šè­¦æŒ‡æ ‡ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221370420-7574b099-e6c1-4c0e-9132-d2f8924f9fb7.png)

##### 4.1.11. **æ–°å»ºå‘Šè­¦æŒ‡æ ‡**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221377700-7addb7f2-f4da-4ff2-81ab-911555f2d0b0.png)

##### 4.1.12. **ç¼–è¾‘å‘Šè­¦æŒ‡æ ‡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233542072-533e2f66-a10f-4d3c-94c4-c6a9a3ee5390.jpeg)

##### 4.1.13. **ç§Ÿæˆ·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221389916-92e92a78-f004-47bc-851b-f78fd6c2b4ce.png)

##### 4.1.14. **æ·»åŠ ç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233566077-d19dca03-084e-4589-82d3-906015e9c544.jpeg)

##### 4.1.15. **ç”¨æˆ·ç»„åˆ—è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233681439-c7bb83db-d02f-44b0-8bef-8a02785c7447.jpeg)

##### 4.1.16. **æ·»åŠ ç”¨æˆ·ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233685305-2c11041b-3c13-499c-8373-b1722361242f.jpeg)

##### 4.1.17. **æœºæ¶ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221395277-1db24b85-8707-40ab-bc4a-7fab2665e80d.png)

##### 4.1.18. **æ·»åŠ æœºæ¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233765873-69fc6547-4e51-4d70-8229-4032acafadc1.jpeg)

##### 4.1.19. **æ ‡ç­¾ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233961790-dcd21c23-c64f-4428-b25d-ccf645d91b16.jpeg)

##### 4.1.20. **æ·»åŠ æ ‡ç­¾**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750233972796-a21cb255-fb09-4244-9c16-b627b01d0b0d.jpeg)

##### 4.1.21. **å¤§æ•°æ®é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750234075264-efd35df6-4d11-4b77-b276-b3a6e5b05dd2.jpeg)

##### 4.1.22. **ç¼–è¾‘é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750234080483-e9926ea2-4cc7-4eb5-92b7-32ce27d2847c.jpeg)

##### 4.1.23. **é…ç½®é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750234085334-334ac275-3e83-4fe4-819d-cc321cbbe092.jpeg)

##### 4.1.24. **åˆ é™¤é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750234090332-acb979bc-33a9-4b92-8d31-e514c86b8de9.jpeg)

##### 4.1.25. **è½¯ä»¶ç®¡ç†ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221416079-2ad5a585-b40f-4263-8a0e-19c47a7e1f80.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221421578-3fcfbc1a-dcac-4e55-a823-a93e4f7fdfe8.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221426511-1c7318f2-e9de-4ee5-8c5e-a69bb1f389cc.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221433542-990280a8-6189-4696-a5f5-a9773b672862.png)

##### 4.1.26. **å­˜å‚¨åº“ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750221445652-0a86ec08-3691-4d1a-8a0f-4030eb906a9e.png)



## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **ä¾èµ–å†²çª**

- è‹¥ç¼–è¯‘å¤±è´¥ï¼Œæ£€æŸ¥`pom.xml`ä¸­çš„ä¾èµ–ç‰ˆæœ¬ï¼Œç¡®ä¿æ— å†²çªã€‚

### 5.2. **æ•°æ®åº“è¿æ¥å¤±è´¥**

- ç¡®è®¤MySQLæœåŠ¡å·²å¯åŠ¨ï¼Œä¸”ç”¨æˆ·å/å¯†ç æ­£ç¡®ã€‚

### 5.3. **ç«¯å£å ç”¨**

- ä½¿ç”¨`netstat -tulnp`æ£€æŸ¥ç«¯å£å ç”¨æƒ…å†µï¼Œé‡Šæ”¾å†²çªç«¯å£ã€‚





## 6. æ‰©å±•å»ºè®®

### 6.1. **å®¹å™¨åŒ–éƒ¨ç½²**

- ä½¿ç”¨Docker Composeæˆ–Kubernetesç¼–æ’æœåŠ¡ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹ã€‚

### 6.2. **é«˜å¯ç”¨é…ç½®**

- å¯¹å…³é”®æœåŠ¡ï¼ˆå¦‚æ³¨å†Œä¸­å¿ƒã€æ•°æ®åº“ï¼‰è¿›è¡Œé›†ç¾¤åŒ–éƒ¨ç½²ã€‚



------

# å…«ã€äº‘åŸç”Ÿæ•°æ®å¹³å°(cloudeon)

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. äº‘åŸç”Ÿæ•°æ®å¹³å°åŠŸèƒ½ç®€ä»‹

### 2.1. äº‘åŸç”Ÿæ•°æ®å¹³å°åŸºäºå¼€æºé¡¹ç›®CloudEonå»ºè®¾ã€‚

1. åŸºäºå¼€æºé¡¹ç›®CloudEonå»ºè®¾ï¼Œç®€åŒ–kubernetesä¸Šå¤§æ•°æ®é›†ç¾¤çš„è¿ç»´ç®¡ç†ï¼Œä¸€æ¬¾åŸºäºkubernetesçš„å¼€æºå¤§æ•°æ®å¹³å°ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€ç§ç®€å•ã€é«˜æ•ˆã€å¯æ‰©å±•çš„å¤§æ•°æ®è§£å†³æ–¹æ¡ˆã€‚
2. CloudEon å°†åŸºäº Kubernetes çš„èµ„æºå®‰è£…éƒ¨ç½²å¼€æºå¤§æ•°æ®ç»„ä»¶ï¼Œå®ç°å¼€æºå¤§æ•°æ®å¹³å°çš„å®¹å™¨åŒ–è¿è¡Œï¼Œæ‚¨å¯å‡å°‘å¯¹äºåº•å±‚èµ„æºçš„è¿ç»´å…³æ³¨ã€‚
3. åŠŸèƒ½ç‰¹æ€§å¿«é€Ÿæ­å»ºå¤§æ•°æ®é›†ç¾¤å®¹å™¨åŒ–è¿è¡Œå¤§æ•°æ®æœåŠ¡æ”¯æŒç›‘æ§å‘Šè­¦ç­‰åŠŸèƒ½æ”¯æŒé…ç½®ä¿®æ”¹ç­‰åŠŸèƒ½è‡ªåŠ¨åŒ–è¿ç»´å¯è§†åŒ–ç®¡ç†ç•Œé¢

- å¼€æºé¡¹ç›®ï¼šhttps://github.com/dromara/CloudEon
- âš ï¸æ³¨æ„ï¼šæ›´å¤šæ•™ç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ•™ç¨‹æ–‡æ¡£ï¼šhttps://cloudeon.dromara.org/#/index



### 2.2. äº‘åŸç”Ÿæ•°æ®å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¿«é€Ÿæ­å»ºå¤§æ•°æ®é›†ç¾¤
- å®¹å™¨åŒ–è¿è¡Œå¤§æ•°æ®æœåŠ¡
- æ”¯æŒç›‘æ§å‘Šè­¦ç­‰åŠŸèƒ½
- æ”¯æŒé…ç½®ä¿®æ”¹ç­‰åŠŸèƒ½
- è‡ªåŠ¨åŒ–è¿ç»´
- å¯è§†åŒ–ç®¡ç†ç•Œé¢
- çµæ´»çš„æ‰©å±•æ€§





## 3. AllDataæ•°æ®ä¸­å°-äº‘åŸç”Ÿæ•°æ®å¹³å°ï¼ˆCloudEonï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486516246-45124845-924e-46f3-bc7f-7d760a04714f.jpeg)

### 3.1. æœ¬åœ°æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆ

#### 3.1.1. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

#### 3.1.2. åç«¯æºç ç¼–è¯‘éƒ¨ç½²

```javascript
cd sciencemoat/ops/cloudeon
mvn clean package -DskipTests
```

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750474796094-e2d3f12a-afc3-480a-843d-a7d63dd14443.png)

#### 3.1.3. å‰ç«¯æºç ç¼–è¯‘éƒ¨ç½²

```javascript
cd sciencemoat-ui/ui_cloudeon
nvm use v16.20
#å®‰è£…ä¾èµ–
npm run bootstrap
#æœ¬åœ°å¯åŠ¨è¿è¡Œ
npm run start
#çº¿ä¸Šéƒ¨ç½²æ‰“åŒ…
npm run build
```



## 4. äº‘åŸç”Ÿéƒ¨ç½²æ–¹æ¡ˆ

### 4.1 ç¯å¢ƒå‡†å¤‡

ğŸ’¡**æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**Linuxï¼ˆCentOS 7+/Ubuntu 20.04+ï¼‰æˆ– macOSã€‚



 ğŸ’¡**èµ„æºè¦æ±‚**ï¼š

- CPUï¼šè‡³å°‘ 4 æ ¸ã€‚
- å†…å­˜ï¼šè‡³å°‘ 8GBã€‚
- ç£ç›˜ç©ºé—´ï¼šè‡³å°‘ 50GBï¼ˆç”¨äºç¼–è¯‘å’Œè¿è¡Œï¼‰ã€‚



ğŸ’¡**ä¾èµ–å·¥å…·**ï¼š

- **Goï¼š** 1.18+ï¼ˆCloudEon æ ¸å¿ƒç»„ä»¶ä¸º Go ç¼–å†™ï¼‰
- **Docker**ï¼š20.10+ï¼ˆç”¨äºæ„å»ºå’Œè¿è¡Œå®¹å™¨ï¼‰ã€‚
- **Kubernetes**ï¼š1.22+ï¼ˆé›†ç¾¤ç¯å¢ƒï¼‰ã€‚
- **Helm**ï¼š3.0+ï¼ˆç”¨äº Kubernetes åŒ…ç®¡ç†ï¼‰ã€‚
- **Git**ï¼šç”¨äºæºç ç®¡ç†ã€‚
- **make**ï¼šç”¨äºè‡ªåŠ¨åŒ–ç¼–è¯‘ã€‚

##### 1. **å®‰è£… Go**ï¼š

```javascript
wget https://go.dev/dl/go1.18.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.18.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc
```

##### 2. **å®‰è£… Docker**ï¼š

```javascript
sudo apt-get update
sudo apt-get install -y docker.io
sudo systemctl start docker
sudo systemctl enable docker
```

##### 3. **å®‰è£… Kubernetes å’Œ Helm**ï¼š

- å‚è€ƒ Kubernetes å®˜æ–¹æ–‡æ¡£å®‰è£… `kubectl` å’Œ `minikube`ï¼ˆæœ¬åœ°æµ‹è¯•ï¼‰æˆ–é›†ç¾¤ç¯å¢ƒã€‚
- å®‰è£… Helmï¼š

```javascript
curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash
```

### 4.2 æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 4.3 ç¼–è¯‘ CloudEon æ ¸å¿ƒç»„ä»¶

ğŸ’¡**ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶**ï¼š

ğŸ’¡ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä½äº `bin/` ç›®å½•ã€‚

```javascript
make build
```

### 4.4 æ„å»º Docker é•œåƒ

ğŸ’¡ä¿®æ”¹ `Dockerfile`ï¼ˆå¦‚éœ€è‡ªå®šä¹‰é•œåƒæ ‡ç­¾ï¼‰ï¼š

```javascript
FROM alpine:latest
COPY bin/cloudeon /usr/local/bin/cloudeon
ENTRYPOINT ["cloudeon"]
```

ğŸ’¡æ„å»ºé•œåƒï¼š

```javascript
docker build -t cloudeon:latest .
```

### 4.5 éƒ¨ç½²åˆ° Kubernetes

ğŸ’¡**ä½¿ç”¨ Helm éƒ¨ç½²**ï¼š

```javascript
helm install cloudeon ./charts/cloudeon --namespace cloudeon --create-namespace
```

ğŸ’¡**æ‰‹åŠ¨éƒ¨ç½²ï¼ˆYAML æ–‡ä»¶ï¼‰**ï¼š

- **åˆ›å»º Namespace**ï¼š

```javascript
kubectl create namespace cloudeon
```

 ğŸ’¡**éƒ¨ç½² Deployment å’Œ Service**ï¼š

```javascript
kubectl apply -f deploy/cloudeon-deployment.yaml
kubectl apply -f deploy/cloudeon-service.yaml
```

ğŸ’¡**ç¤ºä¾‹** `**cloudeon-deployment.yaml**`**ï¼š**

```javascript
apiVersion: apps/v1
kind: Deployment
metadata:
  name: cloudeon
  namespace: cloudeon
spec:
  replicas: 1
  selector:
    matchLabels:
      app: cloudeon
  template:
    metadata:
      labels:
        app: cloudeon
    spec:
      containers:
      - name: cloudeon
        image: cloudeon:2.0.0
        ports:
        - containerPort: 8080
```

### 4.6 éªŒè¯éƒ¨ç½²

ğŸ’¡Tipsï¼š **æ£€æŸ¥ Pod çŠ¶æ€ï¼š**

```javascript
kubectl get pods -n cloudeon
```

ğŸ’¡Tipsï¼š **æŸ¥çœ‹æ—¥å¿—**ï¼š

```javascript
kubectl logs <pod-name> -n cloudeon
```

**ğŸ’¡****Tipsï¼š** **è®¿é—®CloudEonæœåŠ¡ï¼š**

- ç«¯å£è½¬å‘
- è®¿é—®åœ°å€ï¼šæµè§ˆå™¨è®¿é—® `http://localhost:8080`ã€‚

```javascript
kubectl port-forward svc/cloudeon-service 8080:80 -n cloudeon
```

### 4.7 é…ç½®ä¿®æ”¹

ğŸ’¡**ä¿®æ”¹é…ç½®æ–‡ä»¶**ï¼ˆå¦‚éœ€ï¼‰ï¼š

- é…ç½®æ–‡ä»¶é€šå¸¸ä½äº `config/` ç›®å½•ï¼Œæˆ–é€šè¿‡ Kubernetes ConfigMap ç®¡ç†ã€‚



## 5. è®¿é—®äº‘åŸç”Ÿæ•°æ®å¹³å°é¡µé¢

#### 5.1.1. **äº‘åŸç”Ÿæ•°æ®å¹³å°-é›†ç¾¤ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235471736-e48e2207-ef77-4e0c-90aa-f1e2f41cc996.jpeg)

#### 5.1.2. **ä¿®æ”¹é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235538483-546854f2-3fd1-4bd7-98b2-8acdf1f724d4.jpeg)

#### 5.1.3. **èŠ‚ç‚¹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235553834-9a41848a-2125-41bf-b026-4ebe32e7e1ba.jpeg)

#### 5.1.4. **æ–°å¢èŠ‚ç‚¹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235559853-1c20fb09-174b-458e-85c9-90eac14a11a5.jpeg)

#### 5.1.5. **æœåŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235575446-e35d52b5-2a19-4c10-84ca-743161366d90.jpeg)

#### 5.1.6. **æœåŠ¡è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235580392-71e25c3c-ca08-4277-80c7-e22b51375aae.jpeg)

#### 5.1.7. **æ–°å¢æœåŠ¡-é€‰æ‹©æœåŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235592922-96271840-0e85-4729-ab67-b52e97530f55.jpeg)

#### 5.1.8. **æ–°å¢æœåŠ¡-åˆ†é…è§’è‰²**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235620106-5c5bf63b-5e47-46a4-b534-a3d5ffc7c94c.jpeg)

#### 5.1.9. **æ–°å¢æœåŠ¡-é…ç½®æœåŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235626576-ee31b588-6930-4aaa-a87d-d6ac7f51eea5.jpeg)

#### 5.1.10. **ç¼–è¾‘é…ç½®é¡¹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235640076-9932fff9-3db3-4e69-9582-9eaf7073d55b.jpeg)

#### 5.1.11. **é•œåƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235648771-e27bb07b-a97f-42e5-997f-8bdda3b8830e.jpeg)

#### 5.1.12. **èµ„æºç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235654498-73a7218e-c80a-4515-ab1a-6f0aa8a55c59.jpeg)

#### 5.1.13. **å¸¸ç”¨å‚æ•°**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235665762-0fc56e2a-938f-44b6-a854-57b1d4201c00.jpeg)

#### 5.1.14. **ç«¯å£**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235681229-1b4b50fd-4f6c-4463-8d5a-a0eee2149ec7.jpeg)

#### 5.1.15. **æ·»åŠ è‡ªå®šä¹‰é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235686864-3d2d340b-ca70-4f0e-b3c1-8ad331ca8d30.jpeg)

#### 5.1.16. **æŒ‡ä»¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235691161-bd7586d2-65cb-4ef0-b05c-4ffee9b6f071.jpeg)

#### 5.1.17. **æŒ‡ä»¤è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235707744-6a77d728-7657-4c65-b64d-a1b889c3aefb.jpeg)

#### 5.1.18. **æŒ‡ä»¤è¯¦æƒ…-æ—¥å¿—ä¿¡æ¯**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235720185-6af695b0-7d78-4ca9-b2e5-7de806fbd975.jpeg)

#### 5.1.19. **å‘Šè­¦-æ´»è·ƒå‘Šè­¦**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235730475-ea3d8a6b-d403-4ad6-abce-08c364c6a216.jpeg)

#### 5.1.20. **å‘Šè­¦-å†å²å‘Šè­¦**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235748870-3120aa4b-2620-4a90-90b1-5ccdbdee0fe1.jpeg)

#### 5.1.21. **å‘Šè­¦-å‘Šè­¦è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235761085-a15b83ec-c4f5-443a-a653-f90ed235aaf5.jpeg)

#### 5.1.22. **æ–°å¢å‘Šè­¦è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235798140-b873567d-0b11-4313-87e6-834599a1f85d.jpeg)

#### 5.1.23. **ä¿®æ”¹å‘Šè­¦è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235793969-56b92b21-488e-4bda-b37c-1dcbf7447b7c.jpeg)

#### 5.1.24. **æ—¥å¿—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750235787810-c98d9f2a-b951-4292-b780-32782f025215.jpeg)



------



# äº‘åŸç”Ÿæ•°æ®å¹³å°(cloudeon)-æ·»åŠ ZooKeeper æœåŠ¡

# 1. æ·»åŠ æµç¨‹

## 1.1. è¿›å…¥æ–°å¢æœåŠ¡é¡µé¢ï¼Œé€‰æ‹© ZooKeeper

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040022243-f22ef98f-eab4-4a7e-84c6-fed1bcf31acd.png)

- ä¸‹æ»‘åˆ°æœ€ä¸‹æ–¹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040050023-d03a96ad-7ebc-4541-bb01-b38bd7c5d006.png)

## 1.2. åˆ†é…è§’è‰²

- ä¸‰èŠ‚ç‚¹

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040062782-e283df66-0dc7-450b-94b4-f299f3cd460b.png)

- ç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥

## 1.3. åˆå§‹åŒ–é…ç½®

- é»˜è®¤é…ç½®å³å¯

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040097717-7928bfee-bb3c-470a-ad49-c8f2d75f6142.png)

- ç‚¹å‡» å®‰è£…

## 1.4. ç­‰å¾…å®‰è£…å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761201811757-c6696809-d3ac-433c-a335-e4f25e0c09d5.png)









# äº‘åŸç”Ÿæ•°æ®å¹³å°(cloudeon)-æ·»åŠ  HDFS æœåŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040707033-64648f1d-a101-4a28-9743-e1b52919afc3.png)

- ä¸‹æ»‘åˆ°æœ€ä¸‹æ–¹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040050023-d03a96ad-7ebc-4541-bb01-b38bd7c5d006.png)

## 1. åˆ†é…è§’è‰²

- é…ç½®ç›¸å…³èŠ‚ç‚¹ï¼Œç”¨æˆ·å¯æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040727569-75dab177-9907-4d08-923d-a863c38c9fcf.png)

- ç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥

## 2. åˆå§‹åŒ–é…ç½®

- é»˜è®¤é…ç½®å³å¯ï¼Œç‚¹å‡» å®‰è£…

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761201876429-beabf26e-398e-48e9-8c56-cab08cdc9187.png)

- ç‚¹å‡» **ç¼–è¾‘é…ç½®é¡¹**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761120818408-34166d6a-9ca9-47cb-ab6c-ee55d3d5e8a8.png)

- ç‚¹å‡» **æ·»åŠ è‡ªå®šä¹‰é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761120847248-5de440b1-80a4-432c-b6df-10e208e8286c.png)

- æ·»åŠ å¦‚ä¸‹é…ç½®
- dfs.namenode.http-address.hdfscluster1.nn1 = 0.0.0.0:50070
- dfs.namenode.http-address.hdfscluster1.nn2 = 0.0.0.0:50070

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761277230082-e65f7030-601e-42fc-aa47-9153a8a2c7c5.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761277249450-edc598b2-b953-40e1-9cf7-fe9ffce1d038.png)

- ç‚¹å‡» **ç¡®å®š** - **å®‰è£…**

## 3. ç­‰å¾…å®‰è£…å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040829968-5dc4d56b-6be1-423c-9078-c476d12d5932.png)



#  **äº‘åŸç”Ÿæ•°æ®å¹³å°(cloudeon)-æ·»åŠ  Flink æœåŠ¡**

# 1. æ·»åŠ æµç¨‹

## 1.1. è¿›å…¥æ–°å¢æœåŠ¡é¡µé¢ï¼Œé€‰æ‹© Flink

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761296801946-16e3d5a4-5919-4f28-ba39-8a0295e8dc3a.png)

- ä¸‹æ»‘åˆ°æœ€ä¸‹æ–¹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥

## 1.2. åˆ†é…è§’è‰²

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761296810784-dd46f61c-1695-435d-ac98-db3ca2d2963b.png)

- ç‚¹å‡» **ä¸‹ä¸€æ­¥**

## 1.3. åˆå§‹åŒ–é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761296841192-60f9d571-faa7-4033-bba4-bcfb272a79b3.png)

- æ ¹æ®ç”¨æˆ·å®é™…éœ€æ±‚è¿›è¡Œä¿®æ”¹ï¼Œæ— éœ€æ±‚åˆ™æŒ‰ç…§é»˜è®¤å³å¯

## 1.4. ç­‰å¾…å®‰è£…å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761296863847-3f8d0128-6463-497b-ba34-ab726e6a337d.png)







# **äº‘åŸç”Ÿæ•°æ®å¹³å°(cloudeon)-æ·»åŠ  YARN æœåŠ¡**

# 1. æ·»åŠ æµç¨‹

## 1.1. è¿›å…¥æ–°å¢æœåŠ¡é¡µé¢ï¼Œé€‰æ‹© YARN

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761277589257-4ca0c583-5c9c-40bc-8061-5210c6c2a86c.png)

- ä¸‹æ»‘åˆ°æœ€ä¸‹æ–¹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040050023-d03a96ad-7ebc-4541-bb01-b38bd7c5d006.png)

## 1.2. åˆ†é…è§’è‰²

- é…ç½®ç›¸å…³èŠ‚ç‚¹ï¼Œç”¨æˆ·å¯æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761292973880-60487c47-81c4-4346-978b-1e5018a4b51d.png)

- ç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥

## 1.3. åˆå§‹åŒ–é…ç½®

- é»˜è®¤é…ç½®å³å¯ï¼Œç‚¹å‡» å®‰è£…

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761277712759-0714ebc6-d77d-44b6-9aa2-fff838e60502.png)

- ç‚¹å‡» **ç¼–è¾‘é…ç½®é¡¹**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761293863541-3074586d-dbcc-447d-89dd-89d0fa3bffaf.png)

- ç‚¹å‡» **æ·»åŠ è‡ªå®šä¹‰é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761293871354-c8744673-d1ab-4dfa-90a1-408d1826a4c4.png)

- æ·»åŠ å¦‚ä¸‹é…ç½®
- yarn.resourcemanager.webapp.address.rm1 = 0.0.0.0:8088
- yarn.resourcemanager.webapp.address.rm2 = 0.0.0.0:8088
- yarn.resourcemanager.webapp.address.rm3 = 0.0.0.0:8088
- yarn.timeline-service.webapp.address = 0.0.0.0:8188



- ç‚¹å‡» **ç¡®å®š** - **å®‰è£…**

## 1.4. ç­‰å¾…å®‰è£…å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761040829968-5dc4d56b-6be1-423c-9078-c476d12d5932.png)









# **äº‘åŸç”Ÿæ•°æ®å¹³å°(cloudeon)--æ·»åŠ dorisæœåŠ¡**

# 1. æ·»åŠ æµç¨‹

## 1.1. è¿›å…¥æ–°å¢æœåŠ¡é¡µé¢ï¼Œé€‰æ‹© Doris

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761014540549-b4408596-467c-4a6f-81e0-79ea512d9fd7.png)

- ä¸‹æ»‘åˆ°æœ€ä¸‹æ–¹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥

## 1.2. åˆ†é…è§’è‰²

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761200595425-c652a29a-92d4-4eca-8995-7f1cab034067.png)

- è¿™é‡Œå»ºè®® masterã€followerã€observer è§’è‰²ä¸ºä¸åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦åˆ™å®¹æ˜“å‘ç”Ÿç«¯å£å†²çª

## 1.3. åˆå§‹åŒ–é…ç½®

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761200627582-dadb05e0-adb7-4ce1-97b1-0813fdff2d5d.png)

- æ ¹æ®ç”¨æˆ·å®é™…éœ€æ±‚è¿›è¡Œä¿®æ”¹ï¼Œæ— éœ€æ±‚åˆ™æŒ‰ç…§é»˜è®¤å³å¯

## 1.4. ç­‰å¾…å®‰è£…å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761201232919-92de5561-0754-4df1-9ae4-7a3816277de4.png)





# **æ•°ä»“å»ºæ¨¡å¹³å°ï¼ˆkylinï¼‰**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°ä»“å»ºæ¨¡å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1PhuMzqEK2/?spm_id_from=333.1387.homepage.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°ä»“å»ºæ¨¡å¹³å°åŸºäºå¼€æºé¡¹ç›®kylinå»ºè®¾

AllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆé›†æˆKylinåï¼Œæä¾›è¶…å¤§è§„æ¨¡æ•°æ®çš„å®æ—¶åˆ†æä¸æ•°ä»“å»ºæ¨¡èƒ½åŠ›ã€‚é€šè¿‡Kylinçš„é¢„è®¡ç®—æŠ€æœ¯ï¼Œå®ç°PBçº§æ•°æ®çš„äºšç§’çº§æŸ¥è¯¢å“åº”ï¼Œæ”¯æŒé«˜å¹¶å‘å¤šç»´åˆ†æåœºæ™¯ã€‚

ç³»ç»Ÿå†…ç½®åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼Œå¯åŠ¨æ€æ‰©å±•èµ„æºï¼Œç»“åˆKylinçš„åˆ—å¼å­˜å‚¨ä¸é«˜æ•ˆå‹ç¼©ç®—æ³•ï¼Œæ˜¾è‘—é™ä½å­˜å‚¨æˆæœ¬ï¼Œé€‚ç”¨äºé‡‘èé£æ§ã€é›¶å”®ç²¾å‡†è¥é”€ç­‰å¤æ‚æ•°æ®åˆ†æéœ€æ±‚ã€‚



ğŸ”¹**Kyliné¡¹ç›®åœ°å€ï¼šhttps://kylin.apache.org/zh-Hans/docs/overview**

### 2.2. æ•°ä»“å»ºæ¨¡å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

Apache Kylinçš„Webç•Œé¢èœå•åŠŸèƒ½ä¸°å¯Œï¼Œä»¥ä¸‹åˆ—ä¸¾äº†ä¸ƒç‚¹æ ¸å¿ƒåŠŸèƒ½åŠå…¶æè¿°ï¼š

- **é¡¹ç›®ç®¡ç†ï¼š**åˆ›å»ºå’Œç®¡ç†é¡¹ç›®ï¼Œå®šä¹‰æ•°æ®æºåŠå­˜å‚¨ä½ç½®
- **æ¨¡å‹è®¾è®¡ï¼š**æ„å»ºæ•°æ®æ¨¡å‹ï¼Œé€‰æ‹©æ•°æ®æºè¡¨å¹¶å®šä¹‰ç»´åº¦ä¸åº¦é‡
- **Cubeæ„å»ºï¼š**åŸºäºæ¨¡å‹æ„å»ºCubeï¼Œé¢„è®¡ç®—å¤šç»´æ•°æ®é›†ä»¥åŠ é€ŸæŸ¥è¯¢
- **Cubeç®¡ç†ï¼š**ç›‘æ§CubeçŠ¶æ€ï¼Œæ‰§è¡Œæ„å»ºã€åˆ·æ–°ã€åˆå¹¶ç­‰æ“ä½œ
- **æŸ¥è¯¢ç•Œé¢ï¼š**è¾“å…¥SQLè¯­å¥æŸ¥è¯¢Cubeï¼Œæ”¯æŒèšåˆå‡½æ•°ä¸åˆ†ç»„æ“ä½œ
- **å¯è§†åŒ–åˆ†æï¼š**æä¾›é€è§†è¡¨ä¸å›¾è¡¨å·¥å…·ï¼Œç›´è§‚å±•ç¤ºæŸ¥è¯¢ç»“æœ
- **ä»»åŠ¡ç›‘æ§ï¼š**è·Ÿè¸ªCubeæ„å»ºåŠæŸ¥è¯¢ä»»åŠ¡è¿›åº¦ï¼ŒæŸ¥çœ‹æ‰§è¡Œæ—¥å¿—





## 3. AllDataæ•°æ®ä¸­å°-æ•°ä»“å»ºæ¨¡å¹³å°ï¼ˆkylinï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡ **éƒ¨ç½²æ­¥éª¤**ï¼šæºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ æ‰“åŒ…éƒ¨ç½²

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486699428-e93f37dc-3955-42f6-b735-290c87c44eaa.jpeg)

### 3.1. æºç è·å–

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



### 3.2. ç¼–è¯‘æ„å»º

ğŸ’¡ **å®‰è£…scalaæ’ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1757657994139-e0ca54ea-2655-4054-a897-eacf9a73842b.png)

ğŸ’¡ **å®‰è£…JavaCCæ’ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1757658021798-d33ae994-d6ca-44f0-8a9b-0d1ab5a00b92.png)

ğŸ’¡ **å®‰è£…æ’ä»¶å®Œæˆåéœ€è¦é‡å¯ IDEA**

ğŸ’¡ **Mavençª—å£å‹¾é€‰ SkipTests**

ğŸ’¡ **å®‰è£… scala sdk**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1757658848163-3c448956-faff-4e73-ba85-78a19bc22e4b.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1757658899263-6f6e47bc-9d19-4442-bba0-2b1c42bacc5d.png)

### 3.3. éƒ¨ç½²å®‰è£…

#### 3.3.1. ç¯å¢ƒå‡†å¤‡

- zookeep 3.6
- Hadoop 3.2.1
- hive 3.1.2
- mysql 5.7 æˆ– 8
- jdk 1.8

#### 3.3.2. æ‰“åŒ…

ğŸ’¡ **æ‰“åŒ…å®Œæˆ**

ğŸ’¡ **éƒ¨ç½²åŒ…è·¯å¾„ï¼šdist/apache-kylin-5.0.2-bin.tar.gz**

#### 3.3.3. è§£å‹åˆ°æœåŠ¡å™¨

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1757660310944-6888f78c-ac57-4cde-bd36-83b684d51ada.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1757660381175-fc73b44b-2d30-46e8-b697-10e55ecf9e68.png)

#### 3.3.4. å¯åŠ¨æœåŠ¡

```javascript
kylin.sh start
```

### 3.4. å‰ç«¯éƒ¨ç½²

ğŸ’¡ **ç¼–è¯‘**

```properties
cd sciencemoat-ui/ui_kylin
npm run bootstrap
```

ğŸ’¡ **æ‰“åŒ…**

```properties
npm run build
```





## 4. è®¿é—®æ•°ä»“å»ºæ¨¡å¹³å°é¡µé¢

#### 4.1.1. æ•°ä»“å»ºæ¨¡å¹³å°é¦–é¡µ-**æ™ºèƒ½åˆ†æ** 

- å¯è‡ªåŠ¨æŒ–æ˜æ•°æ®ä»·å€¼ï¼Œæä¾›å¯è§†åŒ–æ´å¯Ÿä¸ç²¾å‡†å†³ç­–æ”¯æŒã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016118146-f847cf87-f948-40a4-b552-96a6a241950b.jpeg)

#### 4.1.2. **æ™ºèƒ½åˆ†æ-æ–°å¢æ•°æ®æº**

- æ™ºèƒ½åˆ†ææ¨¡å—æ”¯æŒä¾¿æ·æ–°å¢æ•°æ®æºï¼Œå¯å¿«é€Ÿæ¥å…¥å¤šç±»å‹æ•°æ®ï¼Œæ‹“å±•åˆ†æç»´åº¦ä¸æ•°æ®è¦†ç›–èŒƒå›´ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016132550-9c970c14-fbe5-41a4-9317-b7c5483ca478.jpeg)

#### 4.1.3. **æ•°ä»“å»ºæ¨¡å¹³å°-æ–°å»ºé¡¹ç›®** 

- æ”¯æŒä¸€é”®æ–°å»ºé¡¹ç›®ï¼Œå¯è‡ªå®šä¹‰é…ç½®æ•°æ®æ¨¡å‹ä¸æŒ‡æ ‡ï¼Œå¿«é€Ÿæ­å»ºä¸ªæ€§åŒ–æ•°æ®åˆ†æç¯å¢ƒã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016132701-1ac1e335-1246-42be-967c-2d487c8b744a.jpeg)

#### 4.1.4. **å†å²è®°å½•**

- è‡ªåŠ¨è®°å½•æ“ä½œå†å²ï¼Œæ”¯æŒæŒ‰æ—¶é—´ã€ç±»å‹ç­›é€‰æŸ¥çœ‹ï¼Œä¾¿äºè¿½æº¯ä¿®æ”¹è½¨è¿¹ä¸å®¡è®¡å¤ç›˜ 

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016162016-2b73d75b-b454-4435-94ca-7ba6ceaf1944.jpeg)

#### 4.1.5. **å†å²è®°å½•-å¯¼å‡º**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016166302-e219cb75-318d-41f5-bfc2-31c025936b4d.jpeg)

#### 4.1.6. **æ•°æ®èµ„äº§-æ•°æ®æº**

- æ•°æ®èµ„äº§æ¨¡å—å¯é›†ä¸­ç®¡ç†æ•°æ®æºï¼Œæ”¯æŒå¤šç±»å‹æ¥å…¥ã€å…ƒæ•°æ®æŸ¥çœ‹åŠæƒé™çµæ´»é…ç½®ã€‚ 

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016174955-c4242617-0eb7-4238-9f85-4d0b485d6896.jpeg)

#### 4.1.7. **æ•°æ®èµ„äº§-æ•°æ®æº-æ–°å¢æ•°æ®æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016176843-d225a38c-dc20-4128-8da6-f39efe131262.jpeg)

#### 4.1.8. **æ•°æ®èµ„äº§-æ¨¡å‹åˆ—è¡¨-æ–°å»ºæ¨¡å‹**

- å¯è‡ªå®šä¹‰ç»´åº¦æŒ‡æ ‡ï¼Œå¿«é€Ÿæ„å»ºé€‚é…ä¸šåŠ¡åœºæ™¯çš„æ•°æ®åˆ†ææ¨¡å‹ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016182274-4534c96f-e843-4dc5-8f34-c4c9e167c193.jpeg)

#### 4.1.9. **æ•°æ®èµ„äº§-å¿«ç…§-æ–°å»ºå¿«ç…§**

- æ”¯æŒåœ¨æ•°æ®èµ„äº§å¿«ç…§æ¨¡å—æ–°å»ºå¿«ç…§ï¼Œå¯å®šæ—¶åˆ»å½•æ•°æ®çŠ¶æ€ï¼Œä¿éšœæ•°æ®å®‰å…¨ä¸å†å²ç‰ˆæœ¬å›æº¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016186272-73f81471-e693-4e3d-a501-a7c74421707d.jpeg)

#### 4.1.10. **æ‰¹å¤„ç†**

- AllDataæ•°ä»“å»ºæ¨¡å¹³å°ä¾æ‰˜Kylinï¼Œæ”¯æŒå¤§è§„æ¨¡æ‰¹å¤„ç†ï¼Œå¯é«˜æ•ˆå¤„ç†æµ·é‡æ•°æ®ï¼Œå®ç°æ‰¹é‡åˆ†æä¸è®¡ç®—ä»»åŠ¡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016190387-0af3c2b7-dec7-4830-88f6-dd452afd9524.jpeg)

#### 4.1.11. **æµå¼ä»»åŠ¡**

- æ”¯æŒå®æ—¶æµå¼ä»»åŠ¡å¤„ç†ï¼Œå¯é«˜æ•ˆæ•è·ã€åˆ†æåŠ¨æ€æ•°æ®æµå¹¶å³æ—¶å“åº”ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016195526-a5577ab3-f8eb-42a9-a950-50ce0f32b23b.jpeg)

#### 4.1.12. **è®¾ç½®-åŸºç¡€è®¾ç½®**

- åŸºç¡€è®¾ç½®æ¨¡å—ï¼Œå¯é…ç½®ç³»ç»Ÿå‚æ•°ã€æƒé™åŠæ•°æ®è¿æ¥ï¼Œçµæ´»é€‚é…å¤šæ ·åŒ–ä¸šåŠ¡åœºæ™¯éœ€æ±‚ã€‚ 

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016200149-661c292d-6343-4202-a92c-08400b349a18.jpeg)

#### 4.1.13. **è®¾ç½®-é«˜çº§è®¾ç½®**

- é«˜çº§è®¾ç½®æ”¯æŒKylinå¼•æ“è°ƒä¼˜ã€èµ„æºåˆ†é…å®šåˆ¶åŠå¤æ‚è®¡ç®—è§„åˆ™é…ç½®ï¼Œæ»¡è¶³ç²¾ç»†åŒ–ç®¡æ§éœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016205827-d8bc787c-c955-4327-b58d-89654adea45e.jpeg)

#### 4.1.14. **è®¾ç½®-å†…éƒ¨è¡¨è®¾ç½®**

- å†…éƒ¨è¡¨è®¾ç½®æ¨¡å—ï¼Œå¯è‡ªå®šä¹‰è¡¨ç»“æ„ã€ç´¢å¼•åŠå­˜å‚¨ç­–ç•¥ï¼Œä¼˜åŒ–Kylinåº•å±‚æ•°æ®ç»„ç»‡ä¸æŸ¥è¯¢æ•ˆç‡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016211650-63ee3dfa-2a86-4dac-bf65-71de44d20893.jpeg)

#### 4.1.15. **è®¾ç½®-æ¨¡å‹è®¾ç½®**

- æ”¯æŒå®šä¹‰ç»´åº¦ã€æŒ‡æ ‡åŠèšåˆæ–¹å¼ï¼Œçµæ´»é€‚é…Kylinæ¨¡å‹ï¼Œä¼˜åŒ–æ•°æ®åˆ†ææ€§èƒ½ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016215814-60874987-bfc4-4bbd-a001-d8afd1fa87dc.jpeg)

#### 4.1.16. **é¡¹ç›®ç®¡ç†**

- æ”¯æŒå¤šé¡¹ç›®åˆ›å»ºã€æƒé™åˆ†é…ä¸èµ„æºéš”ç¦»ï¼ŒåŠ©åŠ›å›¢é˜Ÿé«˜æ•ˆåä½œä¸æ•°æ®èµ„äº§ç®¡æ§ã€‚  

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016224397-d7ee6768-db60-46d9-994d-abc502c30e18.jpeg)

#### 4.1.17. **é¡¹ç›®ç®¡ç†-æ–°å»ºé¡¹ç›®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016230237-0da8b3d9-e621-489e-abe5-c6ab0679f184.jpeg)

#### 4.1.18. **ç”¨æˆ·**  

- æä¾›ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒè§’è‰²åˆ†é…ã€æƒé™ç»†æ§ï¼Œä¿éšœä¸åŒç”¨æˆ·å®‰å…¨è®¿é—®Kylinç›¸å…³æ•°æ®èµ„æºã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016231693-ef88954b-d613-4bb3-a825-677ed873accd.jpeg)

#### 4.1.19. **ç”¨æˆ·-æ–°å»ºç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016237642-5d2ae822-cd25-4c41-800e-2dde66e19bd1.jpeg)

#### 4.1.20. **ç”¨æˆ·ç»„**

- æ”¯æŒç”¨æˆ·ç»„ç®¡ç†ï¼Œå¯æ‰¹é‡åˆ†é…æƒé™ã€èµ„æºï¼Œå®ç°ç”¨æˆ·åˆ†ç±»ç®¡æ§ï¼Œæå‡Kylinæ•°æ®æ“ä½œåä½œæ•ˆç‡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016240251-123e9033-e6bb-4695-ae35-7d0d3c072d29.jpeg)

#### 4.1.21. **ç”¨æˆ·ç»„-æ–°å»ºç”¨æˆ·ç»„**  

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016244985-c79f2e40-25a5-46ed-aadc-1aa636eece8e.jpeg)

#### 4.1.22. **ä»ªè¡¨ç›˜**

- æä¾›å¯è§†åŒ–å›¾è¡¨ï¼Œæ”¯æŒå®æ—¶ç›‘æ§ä¸äº¤äº’å¼æ•°æ®åˆ†æã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1760016250172-fe425957-f7e6-4eac-b181-31f664ffccc6.jpeg)





------





# **æ•°æ®æ¹–å¹³å°(paimon)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æ¹–å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1E33LznEfj/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®æ¹–å¹³å°åŸºäºå¼€æºé¡¹ç›®Paimonå»ºè®¾ã€‚

æ•°æ®æ¹–å¹³å°æ”¯æŒä½¿ç”¨Flinkå’ŒSparkæ„å»ºå®æ—¶Lakehouseæ¶æ„ï¼Œå®ç°æµå¼å’Œæ‰¹å¤„ç†æ“ä½œã€‚å®ƒèåˆäº†Lakeæ ¼å¼ä¸LSMç»“æ„ï¼Œæ”¯æŒå®æ—¶æ•°æ®åŒæ­¥è‡³æ•°æ®æ¹–ï¼Œå…·å¤‡æ‰¹æµä¸€ä½“å¤„ç†èƒ½åŠ›ï¼Œé™ä½æ•°æ®å¤„ç†å¤æ‚æ€§å’Œæˆæœ¬ï¼Œè¿˜æ³¨é‡ç”Ÿæ€é›†æˆï¼Œæä¾›ç»Ÿä¸€æ•°æ®å­˜å‚¨å’Œè®¿é—®æ¥å£ã€‚



ğŸ”¹Paimonå¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/paimon-web

ğŸ”¹Paimonæ–‡æ¡£åœ°å€ï¼šhttps://paimon.apache.org/docs/1.0/concepts/overview/



### 2.2.  æ•°æ®æ¹–å¹³å°åŠŸèƒ½ç‰¹ç‚¹ã€‚

- å®æ—¶æ•°æ®åŒæ­¥ä¸å¤„ç†
- é«˜æ•ˆå­˜å‚¨ä¸æŸ¥è¯¢æ€§èƒ½
- çµæ´»çš„ç¼–ç¨‹æ¨¡å‹ä¸SQLæ”¯æŒ
- å¤šç§è¿è¡Œæ¨¡å¼
- å¼ºå¤§çš„ç”Ÿæ€é›†æˆèƒ½åŠ›
- æ•°æ®æ¹–èƒ½åŠ›
- çŠ¶æ€ç®¡ç†ä¸å®¹é”™æœºåˆ¶
- å¹¶å‘æ§åˆ¶ä¸å†²çªå¤„ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750649879309-8ff458ad-91b1-43d4-aad1-34b2143c2193.png)                                                         ï¼ˆå¼•ç”¨å®˜ç½‘kyuubiå›¾ç‰‡ï¼‰



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æ¹–å¹³å°ï¼ˆPaimonï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750501676882-45aedf82-b207-4da2-841a-9b9b967a74e5.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- æ¨èä½¿ç”¨Linuxå‘è¡Œç‰ˆï¼ˆå¦‚Ubuntuæˆ–CentOSï¼‰ï¼Œå› ä¸ºå¤§å¤šæ•°å¤§æ•°æ®æŠ€æœ¯å’Œåˆ†å¸ƒå¼ç³»ç»Ÿéƒ½é’ˆå¯¹Unix-likeç³»ç»Ÿè¿›è¡Œäº†ä¼˜åŒ–ã€‚



 ğŸ’¡**Javaç¯å¢ƒ**ï¼š

- ç‰ˆæœ¬ï¼šä½¿ç”¨JDK 8
- é…ç½®ï¼šè®¾ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ï¼ŒéªŒè¯å‘½ä»¤`java -version`è¾“å‡ºæ­£ç¡®ã€‚



ğŸ’¡ **Hadoop/Hive****ï¼ˆå¦‚éœ€ä¸ç°æœ‰ç”Ÿæ€é›†æˆï¼‰ï¼š**

- ç‰ˆæœ¬ï¼šHadoop 3.xã€Hive 3.xï¼Œéœ€é…ç½®`core-site.xml`å’Œ`hdfs-site.xml`ã€‚
- æƒé™ï¼šç¡®ä¿è¿è¡ŒPaimonçš„ç”¨æˆ·æœ‰HDFSè¯»å†™æƒé™ã€‚



ğŸ’¡ **æ•°æ®åº“**ï¼ˆå…ƒæ•°æ®å­˜å‚¨ï¼‰ï¼š

- MySQL 8.0+ï¼šåˆ›å»ºä¸“ç”¨æ•°æ®åº“`paimon_metadata`ï¼Œå­—ç¬¦é›†è®¾ä¸º`utf8mb4`ã€‚
- è¿æ¥æ± é…ç½®ï¼šå»ºè®®ä½¿ç”¨HikariCPï¼Œæœ€å¤§è¿æ¥æ•°è®¾ä¸º`2 * CPUæ ¸å¿ƒæ•°`ã€‚



ğŸ’¡ **å…¶ä»–ä¾èµ–ï¼š**

- æ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œå¯èƒ½è¿˜éœ€è¦å®‰è£…Pythonè§£é‡Šå™¨åŠå…¶ä»–åŸºç¡€è½¯ä»¶åŒ…ã€‚



### 3.2. è·å–æºç 

ğŸ’¡ **ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„Paimonç‰ˆæœ¬ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **å®‰è£…ä¾èµ–**ï¼šè¿›å…¥é¡¹ç›®ç›®å½•åï¼Œä½¿ç”¨Mavenå®‰è£…é¡¹ç›®ä¾èµ–ï¼Œæ‰§è¡Œå‘½ä»¤`mvn clean install`ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–é¡¹æ­£ç¡®ä¸‹è½½å’Œå®‰è£…ï¼Œä¸ºç¼–è¯‘æ„å»ºåšå¥½å‡†å¤‡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750474719649-64dde1f4-e776-496a-a18d-04350c27945c.png)



ğŸ’¡ **åŸºç¡€ç¼–è¯‘**ï¼š

- å‚æ•°è¯´æ˜ï¼š`-DskipTests`è·³è¿‡æµ‹è¯•ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®è¿è¡Œæµ‹è¯•ï¼‰ï¼Œ`-Dmaven.javadoc.skip=true`åŠ é€Ÿç¼–è¯‘ã€‚

```javascript
mvn clean package -DskipTests -Dmaven.javadoc.skip=true
```

ğŸ’¡ **æ„å»ºäº§ç‰©**ï¼š

- ç”Ÿæˆ`target/paimon-<version>-bin.tar.gz`ï¼Œè§£å‹ååŒ…å«`bin`ã€`conf`ã€`lib`ç­‰ç›®å½•ã€‚



ğŸ’¡ **å¸¸è§é—®é¢˜**ï¼š

- **ä¾èµ–ä¸‹è½½å¤±è´¥**ï¼šæ£€æŸ¥ç½‘ç»œä»£ç†è®¾ç½®ï¼Œæˆ–æ‰‹åŠ¨ä¸‹è½½ä¾èµ–åå®‰è£…åˆ°æœ¬åœ°ä»“åº“ã€‚
- **ç¼–è¯‘æŠ¥é”™**ï¼šæ£€æŸ¥JDKç‰ˆæœ¬ã€Mavenç‰ˆæœ¬æ˜¯å¦åŒ¹é…ï¼Œæˆ–æ¸…ç†ç¼“å­˜åé‡è¯•ï¼ˆ`mvn clean`ï¼‰ã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **é…ç½®æ–‡ä»¶è°ƒæ•´**

ğŸ’¡ **æ ¸å¿ƒé…ç½®æ–‡ä»¶**ï¼š

- `conf/paimon-site.xml`
- `conf/log4j2.xm`é…ç½®æ—¥å¿—çº§åˆ«å’Œæ»šåŠ¨ç­–ç•¥ï¼ˆå»ºè®®æŒ‰å¤©åˆ†å‰²ï¼Œä¿ç•™7å¤©æ—¥å¿—ï¼‰ã€‚

```javascript
<property>
  <name>state.backend</name>
  <value>rocksdb</value> <!-- æˆ–heap -->
</property>
<property>
  <name>warehouse.path</name>
  <value>s3a://your-bucket/paimon-warehouse</value>
</property>
```



ğŸ’¡ **æ•°æ®åº“è¿æ¥**ï¼š

- åœ¨`conf/paimon-env.sh`ä¸­é…ç½®JDBC URL

```javascript
export PAIMON_METASTORE_URL="jdbc:mysql://your-mysql:3306/paimon_metadata?useSSL=false"
export PAIMON_METASTORE_USER="paimon"
export PAIMON_METASTORE_PASSWORD="your-password"
```



#### 3.4.2. **å¯åŠ¨æœåŠ¡**

ğŸ’¡ **å•æœºæ¨¡å¼**ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰ï¼š

```javascript
./bin/start-paimon.sh --config conf/
```

ğŸ’¡ **é›†ç¾¤æ¨¡å¼**ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼š

- ä½¿ç”¨Kuberneteséƒ¨ç½²ï¼š

1. ä¿®æ”¹`k8s/deployment.yaml`ï¼Œè®¾ç½®å‰¯æœ¬æ•°ã€èµ„æºé™åˆ¶ï¼ˆå¦‚`requests.cpu: 2`ï¼Œ`limits.memory: 8Gi`ï¼‰ã€‚
2. åº”ç”¨é…ç½®ï¼š`kubectl apply -f k8s/`ã€‚



ğŸ’¡ **éªŒè¯æœåŠ¡**ï¼š

- è®¿é—®Web UIï¼ˆé»˜è®¤ç«¯å£8080ï¼‰ï¼Œæ£€æŸ¥è¡¨åˆ›å»ºã€æ•°æ®å†™å…¥æ˜¯å¦æ­£å¸¸ã€‚
- ä½¿ç”¨CLIå·¥å…·éªŒè¯ï¼š

```javascript
./bin/paimon-cli.sh --warehouse s3a://your-bucket/paimon-warehouse
> CREATE TABLE users (id INT, name STRING) WITH ('bucket' = '8');
```



### 3.5. å¯é€‰é…ç½®**ï¼ˆæ€§èƒ½è°ƒä¼˜ä¸æ‰©å±•ï¼‰**

#### 3.5.1. **æ•°æ®åˆ†åŒºä¸ç´¢å¼•ä¼˜åŒ–**

ğŸ’¡ **åˆ†åŒºç­–ç•¥**ï¼š

- æŒ‰æ—¶é—´åˆ†åŒºï¼ˆå¦‚`dt`å­—æ®µï¼‰ï¼š

```javascript
CREATE TABLE orders (order_id STRING, dt STRING, amount DOUBLE) 
PARTITIONED BY (dt) 
WITH ('bucket' = '16');
```

- æŒ‰èŒƒå›´åˆ†åŒºï¼ˆå¦‚`id`èŒƒå›´ï¼‰ï¼š

```javascript
EATE TABLE users (id INT, name STRING) 
PARTITIONED BY (RANGE (id) (VALUES LESS THAN (1000), VALUES LESS THAN (2000)));
```

#### 3.5.2. **ç´¢å¼•ä¼˜åŒ–**ï¼š

ğŸ’¡å¯ç”¨Bloom Filterï¼š

```javascript
CREATE TABLE products (id STRING, name STRING, price DOUBLE) 
WITH ('bucket' = '8', 'bloom-filter.columns' = 'name');
```



### 3.6.  èµ„æºè°ƒåº¦ä¸è´Ÿè½½å‡è¡¡

#### 3.6.1. **Kubernetesé…ç½®**ï¼š

- é…ç½®HPAï¼ˆHorizontal Pod Autoscalerï¼‰ï¼š
- é…ç½®Node Affinityï¼šå°†Paimonå·¥ä½œèŠ‚ç‚¹ç»‘å®šåˆ°ç‰¹å®šæ ‡ç­¾çš„èŠ‚ç‚¹ï¼ˆå¦‚`disk-type=ssd`ï¼‰ã€‚

```javascript
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: paimon-worker
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: paimon-worker
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
```

### 3.7.  å®‰å…¨ä¸åˆè§„

#### 3.7.1. **æ•°æ®åŠ å¯†**ï¼š

- å¯ç”¨S3æœåŠ¡å™¨ç«¯åŠ å¯†ï¼ˆSSE-S3æˆ–SSE-KMSï¼‰ã€‚
- é…ç½®ä¼ è¾“åŠ å¯†ï¼šåœ¨`paimon-site.xml`ä¸­è®¾ç½®ï¼š

```javascript
<property>
  <name>s3a.access.key</name>
  <value>your-key</value>
</property>
<property>
  <name>s3a.secret.key</name>
  <value>your-secret</value>
</property>
<property>
  <name>fs.s3a.connection.ssl.enabled</name>
  <value>true</value>
</property>
```

#### 3.7.2. **å®¡è®¡æ—¥å¿—**ï¼š

- å¯ç”¨Fine-Grained Access Controlï¼ˆFGACï¼‰ï¼Œè®°å½•æ‰€æœ‰DDL/DMLæ“ä½œã€‚
- é…ç½®Log4j2å°†å®¡è®¡æ—¥å¿—å‘é€åˆ°ELKæˆ–Splunkã€‚

#### 3.7.3. **èµ„æºè°ƒåº¦ä¸è´Ÿè½½å‡è¡¡**

- **æ·»åŠ æ•°æ®èŠ‚ç‚¹**ï¼šåœ¨ç®¡ç†æ§åˆ¶å°ä¸­ï¼Œå¯è¿›è¡Œæ·»åŠ æ•°æ®èŠ‚ç‚¹çš„æ“ä½œï¼ŒåŒ…æ‹¬åŸºç¡€é…ç½®ï¼Œå¦‚é¡¹ç›®åˆ†ç»„ã€å¯ç”¨æ€§æ ¡éªŒç­‰ã€‚ä¾‹å¦‚é…ç½®MySQLèŠ‚ç‚¹ï¼Œéœ€è¦å¡«å†™è¿æ¥ä¿¡æ¯ç­‰ã€‚
- **ç­–ç•¥é…ç½®**ï¼šå¯å¯¹æ•°æ®èŠ‚ç‚¹è¿›è¡Œç­–ç•¥é…ç½®ï¼Œå¦‚ä¿®æ”¹æ•°æ®èŠ‚ç‚¹ã€æ¿€æ´»æ•°æ®èŠ‚ç‚¹ã€æŒ‚èµ·æ•°æ®èŠ‚ç‚¹ã€åˆ é™¤æ•°æ®èŠ‚ç‚¹ä»¥åŠæŸ¥çœ‹èŠ‚ç‚¹æ—¥å¿—ç­‰ã€‚

##### 3.7.3.1. **Paimonæ•°æ®èŠ‚ç‚¹ç‰¹å®šé…ç½®**ï¼š

- **è¿æ¥é…ç½®**ï¼šæ–°å»ºå¼¹çª—ç•Œé¢é€‰æ‹©PaimonèŠ‚ç‚¹ç±»å‹åï¼Œæ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯é…ç½®æ¨¡æ¿ï¼ŒåŒ…æ‹¬åç§°ï¼ˆå¿…é¡»å¡«å†™ï¼Œ50å­—ç¬¦é™åˆ¶ï¼Œæ˜¯è¯¥æ•°æ®æºåœ¨DataPipelineçš„å”¯ä¸€æ ‡è¯†ï¼Œä¸å…è®¸é‡å¤ï¼‰ã€æè¿°ï¼ˆé€‰å¡«ï¼‰ã€é¡¹ç›®ï¼ˆå¿…é€‰ï¼Œé»˜è®¤ä¸ºâ€œæœªåˆ†ç»„â€ï¼‰ã€ç±»å‹ï¼ˆå¿…é€‰ï¼‰ã€ç‰ˆæœ¬ï¼ˆå¿…é€‰ï¼‰ç­‰ã€‚
- **HDFSé…ç½®**ï¼šå¿…å¡«ï¼Œéœ€ä¸Šä¼ `core-site.xml`ã€`hdfs-site.xml`æ–‡ä»¶ã€‚
- **æ•°æ®åº“é…ç½®**ï¼šå¿…é€‰ï¼Œå½“é€‰æ‹©ç”¨æˆ·æƒé™æ‰€æœ‰åº“æ—¶ï¼Œåœ¨é“¾è·¯å’Œä»»åŠ¡ä¸­å¯ä»¥ä½¿ç”¨è¿æ¥ç”¨æˆ·æœ‰æƒé™çš„æ‰€æœ‰æ•°æ®åº“ï¼›å½“æŒ‡å®šæ•°æ®åº“åï¼Œåœ¨é“¾è·¯å’Œä»»åŠ¡ä¸­ä»…èƒ½ä½¿ç”¨æŒ‡å®šçš„æ•°æ®åº“ï¼Œè¿™é‡Œçš„æ•°æ®åº“æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œç¤ºä¾‹ï¼š`/hdfs/paimon/test.db`ã€‚
- **è®¤è¯æ–¹å¼**ï¼šå¿…é€‰ï¼Œæ”¯æŒä¿¡ä»»è®¤è¯å’ŒKerberosè®¤è¯ã€‚
- **è¿æ¥å‚æ•°**ï¼šè¾“å…¥Paimon JAVA CLIENTè¿æ¥æ”¯æŒçš„æ‰€æœ‰è¿æ¥å‚æ•°ã€‚





## 4. è®¿é—®æ•°æ®æ¹–å¹³å°é¡µé¢

#### 4.1.1. **æ•°æ®æ¹–å¹³å°-åŠŸèƒ½æ¦‚è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416451947-abb213ea-992a-41e3-a1c4-c6f188fcadeb.jpeg)

#### 4.1.2. **æ•°æ®æ¹–æŸ¥è¯¢ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416478201-e7927f1f-5af2-4ae7-813f-a01e876b9410.jpeg)

#### 4.1.3. **æ•°æ®æ¹–å…ƒæ•°æ®ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416485954-559dbb1c-ba06-4f1d-bd0a-4256997e1e61.jpeg)

#### 4.1.4. **å¢é‡åŒæ­¥ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416507487-15d32ca4-c09c-47d9-a86a-22e5a13cdb3f.jpeg)

#### 4.1.5. **åˆ›å»ºåŒæ­¥ä½œä¸š**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416517349-b40df1e8-c0ce-4177-afa4-55aba721eb16.jpeg)

#### 4.1.6. **åˆ›å»ºåŒæ­¥ä½œä¸š_ç¼–è¾‘ï¼ˆMySQL-Paimonï¼‰**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416529795-51e03f7b-6b43-4792-add9-3c34926c3d6c.jpeg)

#### 4.1.7. **åˆ›å»ºåŒæ­¥ä½œä¸š_ç¼–è¾‘ï¼ˆKafka-Paimonï¼‰**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416540735-b093d59e-2e99-40aa-b6c2-fefa4d43164a.jpeg)

#### 4.1.8. **åˆ›å»ºåŒæ­¥ä½œä¸š_ç¼–è¾‘ï¼ˆMongoDB-Paimonï¼‰**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416551665-a27632b0-5b32-48e0-92ba-979bd5d50324.jpeg)

#### 4.1.9. **åˆ›å»ºåŒæ­¥ä½œä¸š_ç¼–è¾‘ï¼ˆPostgreSQL-Paimonï¼‰**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416555955-6996de2a-467f-42fc-b0fc-e70e9daa63b7.jpeg)

#### 4.1.10. **æäº¤ CDC ä½œä¸š**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416575935-815b1014-beee-4eba-819f-14eb6f872e02.jpeg)

#### 4.1.11. **æ•°æ®æ¹–é›†ç¾¤ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416587004-615c8c24-799c-4cc6-bf6f-b6131ee38f60.jpeg)

#### 4.1.12. **æ–°å¢é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416603832-982fc603-7c9f-4e62-8bf1-ada0bb6254d8.jpeg)

#### 4.1.13. **æ›´æ–°é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416619214-f63c8872-9f64-4332-a277-f425530a223b.jpeg)

#### 4.1.14. **é›†ç¾¤çŠ¶æ€æ£€æŸ¥æˆåŠŸ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750416624917-f18bbd20-a9b9-49bb-a656-d68342a5e868.jpeg)



## 5. éƒ¨ç½²åéªŒè¯ä¸ç›‘æ§

### 5.1. **éªŒè¯æ­¥éª¤**

#### **åŠŸèƒ½éªŒè¯**ï¼š

- åˆ›å»ºè¡¨ã€å†™å…¥æ•°æ®ã€æŸ¥è¯¢æ•°æ®ï¼ŒéªŒè¯ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚
- æµ‹è¯•å¹¶å‘å†™å…¥ï¼ˆå¦‚100ä¸ªçº¿ç¨‹åŒæ—¶å†™å…¥ï¼‰ï¼Œæ£€æŸ¥ååé‡å’Œå»¶è¿Ÿã€‚

#### **æ€§èƒ½æµ‹è¯•**ï¼š

- ä½¿ç”¨TPC-DSæˆ–è‡ªå®šä¹‰æµ‹è¯•é›†ï¼Œè¯„ä¼°æŸ¥è¯¢æ€§èƒ½ã€‚
- å¯¹æ¯”ä¸åŒåˆ†åŒºç­–ç•¥å’Œç´¢å¼•é…ç½®ä¸‹çš„æ€§èƒ½å·®å¼‚ã€‚



### 5.2. **ç›‘æ§ä¸å‘Šè­¦**

#### **å…³é”®æŒ‡æ ‡**ï¼š

- é›†ç¾¤å¥åº·ï¼š`paimon_catalog_table_count`ã€`paimon_file_store_file_count`ã€‚
- æ€§èƒ½æŒ‡æ ‡ï¼š`paimon_query_latency_ms`ã€`paimon_write_throughput_rows_per_sec`ã€‚

#### **å‘Šè­¦è§„åˆ™**ï¼š

- å…ƒæ•°æ®å­˜å‚¨å»¶è¿Ÿ > 1åˆ†é’Ÿï¼šè§¦å‘å‘Šè­¦ã€‚
- æŸ¥è¯¢å¤±è´¥ç‡ > 5%ï¼šè§¦å‘å‘Šè­¦ã€‚





## 6. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750502536056-6e343112-3739-47fa-bb10-540c482bc654.png)





------



# **æ¹–ä»“ä¸€ä½“åŒ–å¹³å°(kyuubi)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ¹–ä»“ä¸€ä½“åŒ–å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1T63QzTEdu/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ¹–ä»“ä¸€ä½“åŒ–å¹³å°åŸºäºå¼€æºé¡¹ç›®Kyuubiå»ºè®¾ã€‚

æ¹–ä»“ä¸€ä½“åŒ–å¹³å°å¯å®æ—¶æ•è·å¹¶åŒæ­¥å¤šæºæ•°æ®å˜åŒ–ï¼Œç¡®ä¿æ•°æ®åŠæ—¶æ€§ä¸å‡†ç¡®æ€§ã€‚å…¶èåˆFlinkæµå¤„ç†ä¸Sparkæ‰¹å¤„ç†èƒ½åŠ›ï¼Œå®ç°æ‰¹æµä¸€ä½“å¤„ç†ï¼Œé™ä½æ•°æ®å¤„ç†å¤æ‚æ€§ä¸æˆæœ¬ã€‚æ¹–ä»“ä¸€ä½“åŒ–å¹³å°æ·±åº¦é›†æˆHiveç­‰è®¡ç®—å¼•æ“ï¼Œæä¾›ç»Ÿä¸€æ•°æ®å­˜å‚¨ä¸è®¿é—®æ¥å£ï¼Œæå‡æ•°æ®å¯ç”¨æ€§å’Œå…±äº«æ€§ã€‚



ğŸ”¹Kyuubiå¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/kyuubi

ğŸ”¹Kyuubiæ–‡æ¡£åœ°å€ï¼šhttps://kyuubi.readthedocs.io/en/v1.10.2/

### 2.2. æ¹–ä»“ä¸€ä½“åŒ–å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- ç•Œé¢åŒ–ä½œä¸šå¼€å‘
- æ™ºèƒ½ç¼–ç è¾…åŠ©
- å›¢é˜Ÿåä½œä¸ç‰ˆæœ¬æ§åˆ¶
- åŠ¨æ€èµ„æºåˆ†é…ä¸å¤šé›†ç¾¤ç®¡ç†
- å®æ—¶ç›‘æ§ä¸å‘Šè­¦
- è‡ªåŠ¨åŒ–å®¹é”™ä¸æ•…éšœæ¢å¤
- æ•°æ®æ¥å…¥ä¸è½¬æ¢
- ä»»åŠ¡è¡€ç¼˜ä¸æ—¥å¿—åˆ†æ
- æ‰©å±•æ€§ä¸é›†æˆèƒ½åŠ›
- é«˜å¯ç”¨æ€§ä¸ç¨³å®šæ€§



![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750649202509-1e5f65ca-0af3-4684-840f-514b7897eaab.png)

â€‹                                                            ï¼ˆå¼•ç”¨å®˜ç½‘kyuubiå›¾ç‰‡ï¼‰



## 3. AllDataæ•°æ®ä¸­å°-æ¹–ä»“ä¸€ä½“åŒ–å¹³å°ï¼ˆKyuubiï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750497841446-900f99b7-6cbd-4e4e-943c-490379570df1.jpeg)



### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- æ”¯æŒLinuxæˆ–macOSï¼ˆæ¨èCentOS/Ubuntuï¼‰ï¼Œéœ€ç¡®ä¿ç³»ç»Ÿå…·å¤‡è¶³å¤Ÿçš„èµ„æºï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ç©ºé—´ï¼‰ã€‚

 ğŸ’¡ **Javaç¯å¢ƒ**ï¼š

- JDK 1.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆKyuubiä¾èµ–Javaè¿è¡Œæ—¶ç¯å¢ƒï¼‰ã€‚

ğŸ’¡ **Node.jsä¸Maven**ï¼š

- Node.js 12.x+ï¼ˆç”¨äºå‰ç«¯æ„å»ºï¼‰ã€Maven 3.x+ï¼ˆç”¨äºåç«¯ç¼–è¯‘ï¼‰ã€‚

ğŸ’¡ **æ•°æ®åº“**ï¼š

- éœ€é…ç½®MySQLæˆ–PostgreSQLï¼ˆç”¨äºå­˜å‚¨Kyuubiçš„å…ƒæ•°æ®ï¼Œå¦‚ä½œä¸šé…ç½®ã€ç”¨æˆ·ä¿¡æ¯ç­‰ï¼‰ã€‚

ğŸ’¡ **é›†ç¾¤ç¯å¢ƒ**ï¼š

- è‹¥éœ€éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œéœ€æå‰é…ç½®Flink/Sparké›†ç¾¤ï¼ˆå¦‚YARNæˆ–Kubernetesï¼‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750649271963-2f5083dc-fe7e-40ee-b24d-c7bf27a2a4de.png)

â€‹                                                            ï¼ˆå¼•ç”¨å®˜ç½‘kyuubiå›¾ç‰‡ï¼‰



## 4. **kyuubiéƒ¨ç½²ï¼ˆä½¿ç”¨JDK****11****ï¼‰**

### 4.1. è·å–æºç 

ğŸ’¡ **ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„Kyuubiç‰ˆæœ¬ï¼ˆå¦‚1.2.xæˆ–æ›´é«˜ï¼‰ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 4.2. æºç ç¼–è¯‘

ğŸ’¡ **å‰ç«¯æ„å»º**ï¼šè¿›å…¥å‰ç«¯ç›®å½•ï¼ˆå¦‚`Kyuubi-console`ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```javascript
npm install
npm run build
```

ğŸ’¡ **åç«¯ç¼–è¯‘**ï¼šä½¿ç”¨Mavenç¼–è¯‘åç«¯ä»£ç ï¼Œè·³è¿‡æµ‹è¯•ä»¥åŠ é€Ÿæ„å»ºï¼š

```javascript
mvn clean install -DskipTests
```

ğŸ’¡ **ç”Ÿæˆäº§ç‰©**ï¼šç¼–è¯‘å®Œæˆåï¼Œåœ¨`Kyuubi-distribution/target`ç›®å½•ä¸‹ç”Ÿæˆéƒ¨ç½²åŒ…ï¼ˆå¦‚`Kyuubi-x.x.x-bin.tar.gz`ï¼‰ã€‚

## 5. è®¿é—®æ¹–ä»“ä¸€ä½“åŒ–å¹³å°é¡µé¢

#### 5.1.1. **æ¹–ä»“ä¸€ä½“åŒ–å¹³å°-æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-ç»Ÿè®¡æ¦‚è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499695144-61efc25a-e7cb-4ba2-811c-584848f8f246.jpeg)

#### 5.1.2. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-ç®¡ç†ä¸­å¿ƒ-ä¼šè¯ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499706379-86cb640f-920a-4649-9bdc-c44f52a5c747.jpeg)

#### 5.1.3. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-ç®¡ç†ä¸­å¿ƒ-æ“ä½œä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499749346-5b432ed5-3772-4774-bd1f-0356b5955340.jpeg)

#### 5.1.4. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-ç®¡ç†ä¸­å¿ƒ-å¼•æ“ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499752512-44cfbaa4-ee52-4cb7-9dfc-f39752d7cf17.jpeg)

#### 5.1.5. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-ç®¡ç†ä¸­å¿ƒ-æœåŠ¡ç«¯**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499755878-b547cad3-7b87-4121-abce-daf7f2ac9695.jpeg)

#### 5.1.6. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-æ¥å£æ–‡æ¡£**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499773137-9c1e96d7-53eb-45af-bdfd-192b44aa9287.jpeg)

#### 5.1.7. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-æŸ¥è¯¢ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499776163-3f370b2e-6ca0-4a34-8b44-5aa3d31792d4.jpeg)

#### 5.1.8. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-æŸ¥è¯¢ä¸­å¿ƒ-SparkSQL**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499835219-293194f7-ca8a-4929-998b-5d089e9912fb.jpeg)

#### 5.1.9. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-æŸ¥è¯¢ä¸­å¿ƒ-FlinkSQL**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499832459-bbb722bc-a647-4c2a-9233-cb1f2c1f24c7.jpeg)

#### 5.1.10. **æ¹–ä»“æŸ¥è¯¢ä¸­å¿ƒ-æŸ¥è¯¢ä¸­å¿ƒ-Trino**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499829347-e7376d31-a423-4ef2-95c7-71213dbc32fa.jpeg)

#### 5.1.11. **æ¹–ä»“æŸ¥è¯¢-æŸ¥è¯¢ä¸­å¿ƒ-HiveSQL**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499825625-b0a23dd9-afe3-4419-9e0f-9e01b110e06f.jpeg)

#### 5.1.12. **æ¹–ä»“æŸ¥è¯¢_æŸ¥è¯¢ä¸­å¿ƒ_JDBC**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499822183-27d0ca7b-f82b-49b2-9aee-6112e5452c62.jpeg)





------

# **æ¹–ä»“å¹³å°ä¸­å¿ƒ(amoro)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ¹–ä»“å¹³å°ä¸­å¿ƒåŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1tB3QzBEY5/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ¹–ä»“å¹³å°ä¸­å¿ƒåŸºäºå¼€æºé¡¹ç›®Amoroå»ºè®¾ã€‚

æ¹–ä»“å¹³å°ä¸­å¿ƒï¼ˆAmoroï¼‰æ˜¯ä¸€æ¬¾æ¹–ä»“ä¸€ä½“åŒ–çš„æ•°æ®ç®¡ç†å¹³å°ï¼Œæ”¯æŒæ‰¹æµæ•°æ®ç»Ÿä¸€å­˜å‚¨ä¸è®¡ç®—ï¼Œèåˆæ•°æ®æ¹–çµæ´»æ€§ä¸æ•°æ®ä»“åº“æ²»ç†èƒ½åŠ›ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬å…ƒæ•°æ®ç»Ÿä¸€ç®¡ç†ã€æ•°æ®é«˜æ•ˆå…¥æ¹–ã€è‡ªä¼˜åŒ–å­˜å‚¨ã€ACIDäº‹åŠ¡æ”¯æŒåŠå¤šå¼•æ“ï¼ˆFlink/Sparkï¼‰æ— ç¼é›†æˆï¼ŒåŠ©åŠ›ä¼ä¸šæ„å»ºé«˜æ€§ä»·æ¯”ã€æ˜“ç»´æŠ¤çš„å®æ—¶æ•°æ®åº•åº§ã€‚



ğŸ”¹Amoroå¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/amoro

ğŸ”¹Amoroæ–‡æ¡£åœ°å€ï¼šhttps://amoro.apache.org/docs/latest/

### 2.2. æ¹–ä»“å¹³å°ä¸­å¿ƒåŠŸèƒ½ç‰¹ç‚¹ï¼š

- æ¹–ä»“ä¸€ä½“åŒ–ç®¡ç†
- å¤šç§æ ¼å¼æ”¯æŒ
- æ ¸å¿ƒæ¶æ„ç»„ä»¶å¼ºå¤§
- ç”Ÿæ€é›†æˆä¸æ‰©å±•
- å­˜å‚¨ä¸æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–



## 3. AllDataæ•°æ®ä¸­å°-æ¹–ä»“å¹³å°ä¸­å¿ƒï¼ˆAmoroï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750497841446-900f99b7-6cbd-4e4e-943c-490379570df1.jpeg)



### 3.1. ç¯å¢ƒå‡†å¤‡

 ğŸ’¡ **æ“ä½œç³»ç»Ÿ**ï¼šAmoroæ”¯æŒLinuxæˆ–macOSæ“ä½œç³»ç»Ÿã€‚å¯¹äºWindowsç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨WSL2ï¼ˆWindows Subsystem for Linux 2ï¼‰ä»¥è·å¾—æ›´å¥½çš„å…¼å®¹æ€§ã€‚

ğŸ’¡ **Javaç‰ˆæœ¬**ï¼šAmoroä½¿ç”¨Java 17ç‰ˆæœ¬ï¼Œç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½Javaç¯å¢ƒã€‚

ğŸ’¡ **Maven**ï¼šç”¨äºæ„å»ºé¡¹ç›®ï¼Œç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½Mavenç¯å¢ƒã€‚

ğŸ’¡ **Git**ï¼šç”¨äºå…‹éš†é¡¹ç›®ä»£ç ï¼Œç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½Gitç¯å¢ƒã€‚

ğŸ’¡ **æ•°æ®åº“**ï¼šAmoroéœ€è¦ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚MySQLï¼‰ä½œä¸ºå…ƒæ•°æ®å­˜å‚¨ã€‚ç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½æ•°æ®åº“ï¼Œå¹¶åˆ›å»ºå¥½ç›¸åº”çš„æ•°æ®åº“å’Œç”¨æˆ·ã€‚

### 3.2. è·å–æºç 

ğŸ’¡ **ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„Amoroç‰ˆæœ¬ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. ç¼–è¯‘æ„å»ºå‰çš„å…³é”®å‡†å¤‡

1. **ç¯å¢ƒä¾èµ–ç¡®è®¤**

- **Javaç¯å¢ƒ**ï¼šç¡®ä¿ä½¿ç”¨JDK 17ï¼Œé€šè¿‡`java -version`éªŒè¯ã€‚
- **Mavenç‰ˆæœ¬**ï¼šå»ºè®®Maven 3.8.4+ï¼Œé€šè¿‡`mvn -v`éªŒè¯ã€‚
- **ç½‘ç»œé…ç½®**ï¼šè‹¥ä½¿ç”¨ç§æœ‰ä»“åº“æˆ–éœ€è¦ä»£ç†ï¼Œéœ€æå‰é…ç½®`settings.xml`ã€‚

### 3.4. **æ ¸å¿ƒç¼–è¯‘æ„å»ºæ­¥éª¤**

ğŸ’¡ **è¿›å…¥é¡¹ç›®æ ¹ç›®å½•**ï¼š

```javascript
cd amoro  # è¿›å…¥amoroä»£ç ç›®å½•
```

ğŸ’¡ **æ‰§è¡ŒMavenæ„å»ºå‘½ä»¤**ï¼š

- **åŸºç¡€æ„å»º**ï¼ˆè·³è¿‡æµ‹è¯•ï¼Œå¿«é€Ÿç”Ÿæˆéƒ¨ç½²åŒ…ï¼‰ï¼š
- **ä½œç”¨**ï¼šæ¸…ç†æ—§æ„å»ºæ–‡ä»¶å¹¶ç¼–è¯‘æ‰€æœ‰æ¨¡å—ï¼Œç”Ÿæˆ`target`ç›®å½•ä¸‹çš„å¯æ‰§è¡ŒåŒ…ï¼ˆå¦‚JARæˆ–ZIPï¼‰ã€‚
- **é€‚ç”¨åœºæ™¯**ï¼šé¦–æ¬¡æ„å»ºæˆ–éªŒè¯ç¯å¢ƒã€‚

```javascript
mvn clean package -DskipTests
```

ğŸ’¡ **å¸¦æµ‹è¯•çš„å®Œæ•´æ„å»ºï¼ˆéœ€ç¡®ä¿æµ‹è¯•ç¯å¢ƒå¯ç”¨ï¼‰ï¼š**

- **åŸºç¡€æ„å»º**ï¼ˆè·³è¿‡æµ‹è¯•ï¼Œå¿«é€Ÿç”Ÿæˆéƒ¨ç½²åŒ…ï¼‰ï¼š
- **æ³¨æ„**ï¼šæµ‹è¯•å¯èƒ½ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ã€Kafkaï¼‰ï¼Œéœ€æå‰é…ç½®ã€‚

```javascript
mvn clean package
```

ğŸ’¡ **æŒ‡å®šç‰ˆæœ¬å‚æ•°ï¼ˆå¯é€‰ï¼‰**

- **Hadoopç‰ˆæœ¬**ï¼ˆå¦‚3.3.4ï¼‰ï¼š

```javascript
mvn clean package -DskipTests -Dhadoop.version=3.3.4
```

- **Flinkç‰ˆæœ¬**ï¼ˆå¦‚1.17.0ï¼‰ï¼š

```javascript
mvn clean package -DskipTests -Dflink.version=1.17.0
```

- **Sparkç‰ˆæœ¬**ï¼ˆå¦‚3.3.2ï¼‰ï¼š
- **é€‚ç”¨åœºæ™¯**ï¼šéœ€ä¸ç‰¹å®šå¤§æ•°æ®ç»„ä»¶ç‰ˆæœ¬å…¼å®¹æ—¶ã€‚

```javascript
mvn clean package -DskipTests -Dspark.version=3.3.2
```



### 3.5. **æ„å»ºç»“æœéªŒè¯**

#### 3.5.1. **æ£€æŸ¥è¾“å‡ºæ–‡ä»¶**

- æ„å»ºæˆåŠŸåï¼Œåœ¨`amoro-distribution/target`ç›®å½•ä¸‹ç”Ÿæˆ`amoro-<version>-bin.zip`æˆ–`amoro-<version>-bin.tar.gz`ã€‚

#### 3.5.2. **éªŒè¯æ–‡ä»¶å®Œæ•´æ€§**

- è§£å‹åæ£€æŸ¥å…³é”®ç›®å½•ï¼š
- `bin/`ï¼šå¯åŠ¨è„šæœ¬ï¼ˆå¦‚`ams.sh`ï¼‰ã€‚

- `conf/`ï¼šé…ç½®æ–‡ä»¶æ¨¡æ¿ï¼ˆå¦‚`config.yaml`ï¼‰ã€‚

- `lib/`ï¼šä¾èµ–JARåŒ…ã€‚



### 3.6. **é«˜çº§æ„å»ºæŠ€å·§**

ğŸ’¡ **å¹¶è¡Œæ„å»ºåŠ é€Ÿï¼š**

```javascript
mvn clean package -T 4 -DskipTests  # ä½¿ç”¨4ä¸ªçº¿ç¨‹å¹¶è¡Œæ„å»º
```

ğŸ’¡ **ç”ŸæˆIDEé¡¹ç›®æ–‡ä»¶**

- **IntelliJ IDEA**ï¼š

```javascript
mvn idea:idea
```

ğŸ’¡ **Eclipse**ï¼š

```javascript
mvn eclipse:eclipse
```

ğŸ’¡ **è‡ªå®šä¹‰æ„å»ºé…ç½®**

- ä¿®æ”¹`pom.xml`ä¸­çš„`<properties>`èŠ‚ç‚¹ï¼Œè¦†ç›–é»˜è®¤ç‰ˆæœ¬å·ï¼ˆå¦‚`<flink.version>1.18.0</flink.version>`ï¼‰ã€‚



### 3.7. éƒ¨ç½²åŠè¿è¡Œé…ç½®

- **è§£å‹éƒ¨ç½²åŒ…**ï¼šå¦‚æœæ„å»ºåå¾—åˆ°çš„æ˜¯å‹ç¼©åŒ…ï¼Œéœ€è¦å…ˆè§£å‹åˆ°æŒ‡å®šç›®å½•ã€‚
- **é…ç½®æ•°æ®åº“è¿æ¥**ï¼šç¼–è¾‘Amoroçš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚`conf/config.yaml`ï¼‰ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®åº“ç±»å‹ã€JDBCé©±åŠ¨ç±»ã€URLã€ç”¨æˆ·åå’Œå¯†ç ç­‰ã€‚
- **é…ç½®æœåŠ¡ç«¯å£**ï¼šæ ¹æ®éœ€è¦ï¼Œé…ç½®AmoroæœåŠ¡çš„ç«¯å£å·ï¼Œå¦‚ç®¡ç†æœåŠ¡ç«¯å£ã€HTTPæœåŠ¡ç«¯å£ç­‰ã€‚
- **é…ç½®ä¼˜åŒ–å™¨**ï¼šå¦‚æœéœ€è¦ä½¿ç”¨Amoroçš„è‡ªä¼˜åŒ–åŠŸèƒ½ï¼Œéœ€è¦é…ç½®ä¼˜åŒ–å™¨ï¼ˆOptimizerï¼‰çš„ç›¸å…³å‚æ•°ï¼Œå¦‚ä¼˜åŒ–å™¨ç»„ï¼ˆOptimizer Groupï¼‰ã€å¹¶è¡Œåº¦ã€å†…å­˜å¤§å°ç­‰ã€‚
- **å¯åŠ¨æœåŠ¡**ï¼šä½¿ç”¨Amoroæä¾›çš„å¯åŠ¨è„šæœ¬ï¼ˆå¦‚`bin/ams.sh`ï¼‰å¯åŠ¨æœåŠ¡ã€‚ç¡®ä¿å¯åŠ¨è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™ã€‚



### 3.8. å¯é€‰é…ç½®

- **é«˜å¯ç”¨é…ç½®**ï¼šå¦‚æœéœ€è¦å®ç°Amoroçš„é«˜å¯ç”¨æ€§ï¼Œå¯ä»¥é…ç½®ä¸»ä»æ¨¡å¼ï¼Œå¹¶ä¾èµ–å¤–éƒ¨Zookeeperé›†ç¾¤è¿›è¡Œä¸»èŠ‚ç‚¹é€‰ä¸¾ã€‚
- **å¤–éƒ¨Catalogé›†æˆ**ï¼šå¦‚æœéœ€è¦ä¸å¤–éƒ¨CatalogæœåŠ¡ï¼ˆå¦‚Hive Metastoreã€AWS Glue Catalogç­‰ï¼‰é›†æˆï¼Œéœ€è¦é…ç½®ç›¸åº”çš„Catalogä¿¡æ¯ï¼Œå¹¶ä¸Šä¼ å¿…è¦çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚`hive-site.xml`ï¼‰ã€‚
- **å­˜å‚¨ç±»å‹é…ç½®**ï¼šæ ¹æ®éœ€è¦ï¼Œé…ç½®å­˜å‚¨ç±»å‹ï¼ˆå¦‚Hadoopã€S3ç­‰ï¼‰ï¼Œå¹¶ä¸Šä¼ ç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚`core-site.xml`ã€`hdfs-site.xml`ç­‰ï¼‰ã€‚
- **è®¤è¯é…ç½®**ï¼šå¦‚æœéœ€è¦å¯ç”¨è®¤è¯åŠŸèƒ½ï¼Œå¯ä»¥é…ç½®è®¤è¯ç±»å‹ï¼ˆå¦‚SIMPLEã€KERBEROSç­‰ï¼‰ï¼Œå¹¶æä¾›ç›¸åº”çš„è®¤è¯ä¿¡æ¯ã€‚



### 3.9. éªŒè¯ä¸æµ‹è¯•

- **éªŒè¯æœåŠ¡çŠ¶æ€**ï¼šä½¿ç”¨Amoroæä¾›çš„Webç®¡ç†ç•Œé¢æˆ–å‘½ä»¤è¡Œå·¥å…·éªŒè¯æœåŠ¡çŠ¶æ€ï¼Œç¡®ä¿æœåŠ¡å·²æˆåŠŸå¯åŠ¨å¹¶æ­£å¸¸è¿è¡Œã€‚
- **æµ‹è¯•åŠŸèƒ½**ï¼šé€šè¿‡åˆ›å»ºè¡¨ã€æ’å…¥æ•°æ®ã€æŸ¥è¯¢æ•°æ®ç­‰æ“ä½œæµ‹è¯•Amoroçš„åŠŸèƒ½ï¼Œç¡®ä¿å„é¡¹åŠŸèƒ½æ­£å¸¸å·¥ä½œã€‚





## 4. è®¿é—®æ¹–ä»“å¹³å°ä¸­å¿ƒé¡µé¢

#### 4.1.1. **æ¹–ä»“å¹³å°ä¸­å¿ƒ-åŠŸèƒ½æ¦‚è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651672256-1f09916b-405a-4313-a0fe-ef93edff5553.jpeg)

#### 4.1.2. **æ¹–ä»“æ¢ç´¢åˆ†æ-CreateTable**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651781560-23b367af-4406-44e0-88cb-2ac4fa36cdc2.jpeg)

#### 4.1.3. **æ¹–ä»“æ¢ç´¢åˆ†æ-DeleteTable**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651786395-6e71ed11-e58a-476d-b2d9-177d18a96676.jpeg)

#### 4.1.4. **æ¹–ä»“æ¢ç´¢åˆ†æ-EditTable**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651790642-d6a252e4-beac-47b8-b50f-da67a1df0f7f.jpeg)

#### 4.1.5. **æ¹–ä»“æ¢ç´¢åˆ†æ-SetProperties**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651796401-9fa14919-6044-4fea-a642-b96606215c2a.jpeg)

#### 4.1.6. **æ¹–ä»“æ¢ç´¢åˆ†æ-UnsetProperties**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651800810-2b820258-ba24-4e55-831a-a4af3b4902fb.jpeg)

#### 4.1.7. **æ¹–ä»“æ¢ç´¢åˆ†æ-ShowDatabases**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651805240-e451c215-2b7b-4768-a38c-778dd2b30024.jpeg)

#### 4.1.8. **æ¹–ä»“æ¢ç´¢åˆ†æ-ShowTables**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651809573-31173f2a-a521-4696-b5bc-d7652dc970c1.jpeg)

#### 4.1.9. **æ¹–ä»“æ¢ç´¢åˆ†æ-Describe**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651814466-a9181066-8bce-4911-b86e-e89bbd9efe1b.jpeg)

#### 4.1.10. **æ¹–ä»“ç›®å½•ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651841889-f57c8014-da54-4fff-ae3c-ff9b9e6211e6.jpeg)

#### 4.1.11. **æ–°å»ºå†…å¤–éƒ¨æ•°æ®ç›®å½•**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651846489-93c844db-1e43-49bc-9813-4b9fb8bc6fb5.jpeg)

#### 4.1.12. **æ¹–ä»“æ•°æ®è¡¨ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651862072-c089210f-542d-4530-a802-561d45d9224f.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651862150-3961e029-1aa9-4edb-a12e-4b84e26fca4f.jpeg)

#### 4.1.13. **æ¹–ä»“ä¼˜åŒ–å™¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651945438-6720af0e-cc12-48b9-adf9-9d3ae7f64fe2.jpeg)

#### 4.1.14. **åˆ›å»ºæ¹–ä»“ä¼˜åŒ–å™¨-FlinkGroupProd**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651949700-13d15e81-4c74-4d8d-9470-8bc7c3006646.jpeg)

#### 4.1.15. **åˆ›å»ºæ¹–ä»“ä¼˜åŒ–å™¨-SparkGroupCente**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651953555-aa1d4eb1-6c1d-46b3-b183-73df12dc8dea.jpeg)

#### 4.1.16. **æ¹–ä»“ä¼˜åŒ–å™¨ç»„**

#### ![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651911201-1fb3dfce-82fc-4a87-a3c4-9575e028913d.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651911424-763f69db-44be-4b79-86d4-cd2a69399850.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651911500-cdcbb4e6-c8ba-42df-ada5-067477e84407.jpeg)

#### 4.1.17. **ç³»ç»Ÿè®¾ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651927332-360f1625-8eb5-4d24-9cc3-fec16aa95045.jpeg)

#### 4.1.18. **å®¹å™¨è®¾ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750651930785-bd1e7ce8-7f7e-45be-9fd5-8eb5712438a0.jpeg)





## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **ä¾èµ–ä¸‹è½½å¤±è´¥**

- **åŸå› **ï¼šMavenä¸­å¤®ä»“åº“æˆ–ç§æœ‰ä»“åº“ä¸å¯è¾¾ã€‚
- **è§£å†³**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–é…ç½®ä»£ç†ã€‚æ‰‹åŠ¨ä¸‹è½½ä¾èµ–å¹¶å®‰è£…åˆ°æœ¬åœ°ä»“åº“ï¼ˆ`mvn install:install-file`ï¼‰ã€‚

### 5.2. **æµ‹è¯•ç”¨ä¾‹å¤±è´¥**

- **åŸå› **ï¼šæµ‹è¯•ç¯å¢ƒæœªé…ç½®æˆ–æ•°æ®ä¸ä¸€è‡´ã€‚
- **è§£å†³**ï¼šä½¿ç”¨`-DskipTests`è·³è¿‡æµ‹è¯•ã€‚æ£€æŸ¥æµ‹è¯•é…ç½®ï¼ˆå¦‚`src/test/resources`ä¸‹çš„é…ç½®æ–‡ä»¶ï¼‰ã€‚

### 5.3. **ç‰ˆæœ¬å†²çª**

- **åŸå› **ï¼šä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ç‰ˆæœ¬ä¸å…¼å®¹ã€‚
- **è§£å†³**ï¼šé€šè¿‡`mvn dependency:tree`åˆ†æä¾èµ–æ ‘ã€‚ä½¿ç”¨`<exclusions>`æ’é™¤å†²çªä¾èµ–ã€‚

### 5.4. **å†…å­˜ä¸è¶³**

- **ç°è±¡**ï¼šæ„å»ºè¿‡ç¨‹ä¸­å‡ºç°`OutOfMemoryError`ã€‚
- **è§£å†³**ï¼šå¢åŠ Mavenå†…å­˜ï¼š`export MAVEN_OPTS="-Xmx2g -XX:MaxMetaspaceSize=512m"`ã€‚





------

# **å®æ—¶å¼€å‘å¹³å°(streampark)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. å®æ—¶å¼€å‘å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Qg3EzmEZi/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. å®æ—¶å¼€å‘å¹³å°åŸºäºå¼€æºé¡¹ç›®StreamParkå»ºè®¾ã€‚

- **å®æ—¶å¼€å‘å¹³å°** StreamPark æä¾›äº†ä¸€ç³»åˆ—å¿«æ· API å’Œ Connectorï¼Œå¼€ç®±å³ç”¨ï¼Œä½œä¸šçŠ¶æ€è‡ªåŠ¨è¿½è¸ªï¼Œå¿«é€Ÿå®Œæˆä½œä¸šçš„å¼€å‘å’Œç®¡ç†ã€‚åŒæ—¶æ”¯æŒ Flink & Sparkï¼Œæ— ç¼æ”¯æŒæµå¼å¤„ç†å’Œæ‰¹å¤„ç†ï¼Œè¿æ¥äº’é€šï¼Œåˆ›é€ æ— é™å¯èƒ½ã€‚
- StreamPark æ˜¯ä¸€ä¸ªæµå¤„ç†åº”ç”¨ç¨‹åºå¼€å‘ç®¡ç†æ¡†æ¶ï¼Œæ—¨åœ¨è½»æ¾æ„å»ºå’Œç®¡ç†æµå¤„ç†åº”ç”¨ç¨‹åºï¼Œæä¾›ä½¿ç”¨Flink å’Œ Spark ç¼–å†™æµå¤„ç†åº”ç”¨çš„å¼€å‘æ¡†æ¶å’Œä¸€ç«™å¼å®æ—¶è®¡ç®—å¹³å°ï¼Œæ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ä¸é™äºåº”ç”¨å¼€å‘ã€éƒ¨ç½²ã€ç®¡ç†ã€è¿ç»´ã€å®æ—¶æ•°ä»“ç­‰ã€‚
- StreamPark ä¸ºæµå¤„ç†ä½œä¸šæä¾›å…¨ç”Ÿå‘½å‘¨æœŸæ”¯æŒï¼Œä»å¼€å‘åˆ°éƒ¨ç½²ï¼Œé›†ä¼—å¤šåŠŸèƒ½äºä¸€èº«ï¼Œæ˜¯ä¸€ç«™å¼æµå¤„ç†å¹³å°ã€‚ 



ğŸ”¹StreamParkå¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/streampark

ğŸ”¹StreamParkæ–‡æ¡£ï¼šhttps://streampark.apache.org/docs/get-started/quick-start



### 2.2. å®æ—¶å¼€å‘å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- ç•Œé¢åŒ–ä½œä¸šå¼€å‘
- æ™ºèƒ½ç¼–ç è¾…åŠ©
- å›¢é˜Ÿåä½œä¸ç‰ˆæœ¬æ§åˆ¶
- åŠ¨æ€èµ„æºåˆ†é…ä¸å¤šé›†ç¾¤ç®¡ç†
- å®æ—¶ç›‘æ§ä¸å‘Šè­¦
- è‡ªåŠ¨åŒ–å®¹é”™ä¸æ•…éšœæ¢å¤
- æ•°æ®æ¥å…¥ä¸è½¬æ¢
- ä»»åŠ¡è¡€ç¼˜ä¸æ—¥å¿—åˆ†æ
- æ‰©å±•æ€§ä¸é›†æˆèƒ½åŠ›
- é«˜å¯ç”¨æ€§ä¸ç¨³å®šæ€§





## 3. AllDataæ•°æ®ä¸­å°-å®æ—¶å¼€å‘å¹³å°ï¼ˆStreamParkï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486711515-b1cb2ab2-4772-4d7e-998c-210f3abf0b8a.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- æ”¯æŒLinuxæˆ–macOSï¼ˆæ¨èCentOS/Ubuntuï¼‰ï¼Œéœ€ç¡®ä¿ç³»ç»Ÿå…·å¤‡è¶³å¤Ÿçš„èµ„æºï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ç©ºé—´ï¼‰ã€‚

 ğŸ’¡**Javaç¯å¢ƒ**ï¼š

- JDK 1.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆStreamParkä¾èµ–Javaè¿è¡Œæ—¶ç¯å¢ƒï¼‰ã€‚

ğŸ’¡ **Node.jsä¸Maven**ï¼š

- Node.js 12.x+ï¼ˆç”¨äºå‰ç«¯æ„å»ºï¼‰ã€Maven 3.x+ï¼ˆç”¨äºåç«¯ç¼–è¯‘ï¼‰ã€‚

ğŸ’¡ **æ•°æ®åº“**ï¼š

- éœ€é…ç½®MySQLæˆ–PostgreSQLï¼ˆç”¨äºå­˜å‚¨StreamParkçš„å…ƒæ•°æ®ï¼Œå¦‚ä½œä¸šé…ç½®ã€ç”¨æˆ·ä¿¡æ¯ç­‰ï¼‰ã€‚

ğŸ’¡ **é›†ç¾¤ç¯å¢ƒ**ï¼š

- è‹¥éœ€éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œéœ€æå‰é…ç½®Flink/Sparké›†ç¾¤ï¼ˆå¦‚YARNæˆ–Kubernetesï¼‰ã€‚



### 3.2. è·å–æºç 

ğŸ’¡ **ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„StreamParkç‰ˆæœ¬ï¼ˆå¦‚1.2.xæˆ–æ›´é«˜ï¼‰ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **å‰ç«¯æ„å»º**ï¼šè¿›å…¥å‰ç«¯ç›®å½•ï¼ˆå¦‚`streampark-console`ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```javascript
npm install
npm run build
```

ğŸ’¡ **åç«¯ç¼–è¯‘**ï¼šä½¿ç”¨Mavenç¼–è¯‘åç«¯ä»£ç ï¼Œè·³è¿‡æµ‹è¯•ä»¥åŠ é€Ÿæ„å»ºï¼š

- IDEA ç¼–è¯‘StreamPark
- **ç”Ÿæˆäº§ç‰©**ï¼šç¼–è¯‘å®Œæˆåï¼Œåœ¨`streampark-distribution/target`ç›®å½•ä¸‹ç”Ÿæˆéƒ¨ç½²åŒ…ï¼ˆå¦‚`streampark-x.x.x-bin.tar.gz`ï¼‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750471188578-8457a292-1320-4e52-983a-8d0414b398ca.png)

```javascript
mvn clean install -DskipTests
```

### 3.4. **éƒ¨ç½²åŠè¿è¡Œé…ç½®**

ğŸ’¡**è§£å‹éƒ¨ç½²åŒ…**ï¼š

```javascript
tar -zxvf streampark-x.x.x-bin.tar.gz -C /opt/
cd /opt/streampark-x.x.x
```

ğŸ’¡ **é…ç½®æ–‡ä»¶ä¿®æ”¹**ï¼š

- **æ•°æ®åº“é…ç½®**ï¼šç¼–è¾‘`conf/application.properties`ï¼Œé…ç½®MySQLè¿æ¥ä¿¡æ¯ï¼š
- **Flink/Sparké›†ç¾¤é…ç½®**ï¼šåœ¨`conf/flink-conf.yaml`æˆ–`conf/spark-defaults.conf`ä¸­é…ç½®é›†ç¾¤åœ°å€ã€èµ„æºé˜Ÿåˆ—ç­‰ã€‚

```javascript
spring.datasource.url=jdbc:mysql://localhost:3306/streampark?useSSL=false
spring.datasource.username=root
spring.datasource.password=yourpassword
```

ğŸ’¡ **å¯åŠ¨æœåŠ¡**ï¼š

- **å‰ç«¯å¯åŠ¨**ï¼šé€šè¿‡Nginxæˆ–å†…ç½®WebæœåŠ¡å™¨éƒ¨ç½²å‰ç«¯é™æ€èµ„æºã€‚
- **åç«¯å¯åŠ¨**ï¼šåœ¨`conf/flink-conf.yaml`æˆ–`conf/spark-defaults.conf`ä¸­é…ç½®é›†ç¾¤åœ°å€ã€èµ„æºé˜Ÿåˆ—ç­‰ã€‚

```javascript
bin/start-streampark.sh
```

- **è®¿é—®Webç•Œé¢**ï¼šé»˜è®¤åœ°å€ä¸º`http://<server-ip>:10000`ï¼ˆç«¯å£å¯é…ç½®ï¼‰ã€‚



### 3.5. **å¯é€‰é…ç½®**

- **å‘Šè­¦è®¾ç½®**ï¼šåœ¨Webç•Œé¢ä¸­é…ç½®é‚®ä»¶ã€é’‰é’‰ç­‰å‘Šè­¦é€šé“ï¼Œç”¨äºä½œä¸šå¼‚å¸¸é€šçŸ¥ã€‚
- **Flinkç‰ˆæœ¬ç®¡ç†**ï¼šåœ¨`conf/flink-versions.yaml`ä¸­æ·»åŠ è‡ªå®šä¹‰Flinkç‰ˆæœ¬è·¯å¾„ï¼Œæ”¯æŒå¤šç‰ˆæœ¬åˆ‡æ¢ã€‚
- **YARNé˜Ÿåˆ—é…ç½®**ï¼šè‹¥ä½¿ç”¨YARNï¼Œéœ€åœ¨`conf/yarn-site.xml`ä¸­æŒ‡å®šé˜Ÿåˆ—åç§°åŠèµ„æºé™åˆ¶ã€‚
- **æ‰©å±•Connector**ï¼šå°†è‡ªå®šä¹‰çš„Flink Connectorï¼ˆå¦‚Kafkaã€Dorisç­‰ï¼‰æ”¾å…¥`plugins`ç›®å½•ï¼Œé‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚
- **é«˜å¯ç”¨éƒ¨ç½²**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®éƒ¨ç½²å¤šä¸ªStreamParkå®ä¾‹ï¼Œå¹¶é€šè¿‡Nginxè´Ÿè½½å‡è¡¡ã€‚



### 3.6. **éªŒè¯ä¸è°ƒè¯•**

- **ä½œä¸šæäº¤**ï¼šé€šè¿‡Webç•Œé¢æäº¤ä¸€ä¸ªç®€å•çš„Flink SQLä½œä¸šï¼ˆå¦‚ä»Kafkaè¯»å–æ•°æ®å¹¶å†™å…¥Dorisï¼‰ï¼ŒéªŒè¯æ•°æ®æµæ˜¯å¦ç•…é€šã€‚
- **æ—¥å¿—æŸ¥çœ‹**ï¼šæ£€æŸ¥`logs/streampark.log`åŠFlink/Sparkçš„TaskManageræ—¥å¿—ï¼Œæ’æŸ¥æ½œåœ¨é—®é¢˜ã€‚



## 4. è®¿é—®å®æ—¶å¼€å‘å¹³å°é¡µé¢

#### 4.1.1. **å®æ—¶å¼€å‘å¹³å°-åŠŸèƒ½æ¦‚è§ˆ-Apache Flink-ä½œä¸šç®¡ç†**

- Flinkä½œä¸šç®¡ç†å®ç°ä½œä¸šæäº¤ã€è°ƒåº¦ã€ç›‘æ§ä¸åŠ¨æ€èµ„æºåˆ†é…ï¼Œä¿éšœå®æ—¶è®¡ç®—é«˜æ•ˆç¨³å®šã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391341994-3662708a-585e-45c5-9e60-d9f24309c7fc.jpeg)

#### 4.1.2. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391399903-29224eb1-3ea8-4f5c-88a2-68f967608244.jpeg)

#### 4.1.3. **å®æ—¶å¼€å‘IDE-Flinkç‰ˆæœ¬**

- æä¾›ä¸€ç«™å¼Flinkä½œä¸šç®¡ç†ï¼Œæ”¯æŒå¤šç‰ˆæœ¬å…¼å®¹ï¼Œå…·å¤‡ä½œä¸šæäº¤ã€è°ƒåº¦ã€ç›‘æ§åŠæ•…éšœè‡ªæ„ˆèƒ½åŠ›ï¼Œä¿éšœå®æ—¶è®¡ç®—é«˜æ•ˆç¨³å®šè¿è¡Œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391410928-1809488e-125b-4a9c-b963-fcc0b8837128.jpeg)

#### 4.1.4. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391426076-d692c2fb-4f05-4d0c-9c2a-1af4f58e063f.jpeg)

#### 4.1.5. **ç¼–è¾‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391437972-2b344744-8858-43d6-8b8f-a4d7933205a5.jpeg)

#### 4.1.6. **æŸ¥çœ‹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391451192-90ca156d-0f4c-4de3-8cdf-2a2637b50ef6.jpeg)

#### 4.1.7. **é…ç½®åŒæ­¥**

- æ”¯æŒå¤šç¯å¢ƒå‚æ•°åŠ¨æ€ç»‘å®šï¼Œå¯ä¸€é”®ä¸‹å‘Flinkä½œä¸šå‚æ•°ã€ä¾èµ–åº“åŠèµ„æºè§„æ ¼è‡³é›†ç¾¤ï¼Œå®ç°å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒé…ç½®çº§è”æ›´æ–°ï¼Œé¿å…äººå·¥ç–æ¼å¯¼è‡´ä½œä¸šå¼‚å¸¸ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391459853-e1e64965-913b-461c-9bc6-d379a1d8e7f0.jpeg)

#### 4.1.8. **é›†ç¾¤ç®¡ç†**

- æä¾›å¤šé›†ç¾¤ç»Ÿä¸€çº³ç®¡ä¸èµ„æºåŠ¨æ€è°ƒåº¦ï¼Œæ”¯æŒFlinkä½œä¸šè·¨é›†ç¾¤åˆ†å‘ã€èµ„æºé…é¢éš”ç¦»ã€å¥åº·åº¦ç›‘æ§åŠæ•…éšœè‡ªæ„ˆï¼Œä¿éšœå®æ—¶è®¡ç®—é›†ç¾¤é«˜å¯ç”¨ä¸å¼¹æ€§ä¼¸ç¼©ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391470300-4ec0be96-aed8-4947-94b7-54e6e6b57968.jpeg)

#### 4.1.9. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391489373-86ac582c-8c3f-4186-bf11-4ac5f77d3b04.jpeg)

#### 4.1.10. **æ·»åŠ é›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391494250-468d333c-5a6e-4b96-841b-eca95917bc6a.jpeg)

#### 4.1.11. **Apache Spark-ä½œä¸šç®¡ç†**

- æ”¯æŒSparkä»»åŠ¡å…¨å‘¨æœŸç®¡æ§ï¼Œæ¶µç›–æäº¤ã€è°ƒåº¦ã€ç›‘æ§åŠæ•…éšœè‡ªæ„ˆï¼Œä¿éšœä»»åŠ¡ç¨³å®šè¿è¡Œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391509006-6dd6b9ab-7565-4284-8368-017dcd016a0f.jpeg)

#### 4.1.12. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391527858-91369b34-8274-4907-9392-b3f20262a561.jpeg)

#### 4.1.13. **ç¼–è¾‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391535274-f4770be3-94c0-4968-8c33-592fba9df661.jpeg)

#### 4.1.14. **Apache Spark-Spark ç‰ˆæœ¬**

- æ”¯æŒå¤šç‰ˆæœ¬Sparkç®¡ç†ï¼Œæä¾›ç‰ˆæœ¬é…ç½®ã€ä¾èµ–éš”ç¦»ä¸é›†ç¾¤é€‚é…ï¼Œä¿éšœSparkä½œä¸šç¨³å®šè¿è¡Œä¸è·¨ç¯å¢ƒå…¼å®¹æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391546355-f636b98c-f6ec-4191-b628-3f65b6b3fb4c.jpeg)

#### 4.1.15. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391550728-368dbc74-f826-4545-9710-e36266547f72.jpeg)

#### 4.1.16. **èµ„æºä¸­å¿ƒ-èµ„æºä¸Šä¼ **

- æ”¯æŒå¤šæ ¼å¼èµ„æºä¸€é”®ä¸Šä¼ ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391554962-d8ac9bea-1580-4acf-9a46-23d8d6891cb1.jpeg)

#### 4.1.17. **æ·»åŠ èµ„æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391582872-4c3a6d5c-fed7-4a22-ba6c-d76438e7dc2d.jpeg)

#### 4.1.18. **èµ„æºä¸­å¿ƒ-é¡¹ç›®ç®¡ç†**

- æ”¯æŒèµ„æºåˆ†åº“åˆ†ç±»ã€æƒé™éš”ç¦»ä¸ç‰ˆæœ¬è¿½æº¯ï¼Œå®ç°å¤šé¡¹ç›®èµ„æºç‹¬ç«‹ç®¡æ§ï¼Œé¿å…è·¨å›¢é˜Ÿåä½œå†²çªä¸èµ„æºè¯¯ç”¨ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391589185-2f7ddf36-1d9c-4209-ae09-ed7aa0b14d11.jpeg)

#### 4.1.19. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391600822-1769c11c-1863-483b-b1c2-4e17987a11c8.jpeg)

#### 4.1.20. **èµ„æºä¸­å¿ƒ-å˜é‡ç®¡ç†**

- æ”¯æŒå…¨å±€/é¡¹ç›®çº§å˜é‡é…ç½®ã€å¤šç¯å¢ƒåŠ¨æ€æ›¿æ¢ä¸ç‰ˆæœ¬è¿½è¸ªï¼Œå®ç°èµ„æºå‚æ•°ä¸ä»£ç è§£è€¦ï¼Œä¿éšœè·¨ç¯å¢ƒéƒ¨ç½²ä¸€è‡´æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391605822-8cdde5f5-1816-402f-a8aa-9fab2f089441.jpeg)

#### 4.1.21. **æ·»åŠ å˜é‡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391616073-611ae20a-1aec-4325-9e1c-e12b9481a47a.jpeg)

#### 4.1.22. **è®¾ç½®ä¸­å¿ƒ-ç¯å¢ƒè®¾ç½®**

- æ”¯æŒå¤šç¯å¢ƒå‚æ•°éš”ç¦»ã€é›†ç¾¤åŠ¨æ€ç»‘å®šä¸èµ„æºå˜é‡è”åŠ¨ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391626403-6b4d4bb3-0884-47f8-8abf-bc3e451e53e7.jpeg)

#### 4.1.23. **è®¾ç½®æ›´æ–°æˆåŠŸ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391635766-d5f33dc3-1238-4089-98d6-c3041b1635f0.jpeg)

#### 4.1.24. **è®¾ç½®ä¸­å¿ƒ-å‘Šè­¦è®¾ç½®**

- å¤šç»´åº¦é˜ˆå€¼é…ç½®ã€å¤šæ¸ é“é€šçŸ¥ï¼ˆé‚®ä»¶/çŸ­ä¿¡ï¼‰ä¸å‘Šè­¦ç­–ç•¥è‡ªå®šä¹‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391648842-181d66ab-08f2-48f5-9f71-c8982812ddd0.jpeg)

#### 4.1.25. **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391661649-8546f857-a5fe-43fa-91a8-3b3bc6745602.jpeg)

#### 4.1.26. **è®¾ç½®ä¸­å¿ƒ-æ‰©å±•é“¾æ¥-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391673300-d0810924-2cf3-4b66-bf45-dd10a0e96971.jpeg)

#### 4.1.27. **åˆ›å»ºé˜Ÿåˆ—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391677377-67c2c3be-eafb-4e45-93a8-f4d3d68d9907.jpeg)

#### 4.1.28. **è®¾ç½®ä¸­å¿ƒ-Yarn é˜Ÿåˆ—**

- è‡ªæ”¯æŒæŒ‰ä¸šåŠ¡åˆ†åŸŸé…ç½®èµ„æºæ± ï¼ŒåŠ¨æ€åˆ†é…æ ¸æ•°/å†…å­˜é…é¢ï¼Œç»‘å®šä¼˜å…ˆçº§ä¸ç”¨æˆ·ç»„ï¼Œä¿éšœå®æ—¶ä½œä¸šèµ„æºå¼ºéš”ç¦»ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391701928-1c532861-efcb-4815-8915-b29aba81783f.jpeg)

#### 4.1.29. **ç³»ç»Ÿç®¡ç†-ç§˜é’¥ç®¡ç†-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391712498-67c847e6-b2c0-486c-9b2f-2ed3fffc01d7.jpeg)

#### 4.1.30. **ç³»ç»Ÿç®¡ç†-ç”¨æˆ·ç®¡ç†**

- æ”¯æŒè·¨éƒ¨é—¨èµ„æºéš”ç¦»ã€æƒé™ç»„æ‰¹é‡åˆ†é…ä¸åä½œå®¡è®¡ï¼Œå®ç°å®æ—¶å¼€å‘å›¢é˜Ÿä¸ä¸šåŠ¡åœºæ™¯çš„åŠ¨æ€æ˜ å°„ï¼Œä¿éšœå¤šé¡¹ç›®èµ„æºå®‰å…¨ååŒã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391717698-17d83625-0f05-460f-bf39-df9f0cd5fb35.jpeg)

#### 4.1.31. **åˆ›å»ºç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391730384-fbc23c92-d967-4ca0-bfb8-b94134ff8045.jpeg)

#### 4.1.32. **ç”¨æˆ·ä¿¡æ¯**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391740627-7ad91475-ce37-4523-aa3e-03dc3e5058e7.jpeg)

#### 4.1.33. **ç³»ç»Ÿç®¡ç†-è§’è‰²ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391749493-490dd4f6-f867-4acd-970c-05d3b75ef828.jpeg)

#### 4.1.34. **åˆ›å»ºè§’è‰²**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391762620-b17ac1bc-da11-4a88-9cc3-e8cc75192194.jpeg)

#### 4.1.35. **è§’è‰²ä¿¡æ¯**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391773156-a555717d-0c23-44d5-9661-4cd550e02a17.jpeg)

#### 4.1.36. **ç³»ç»Ÿç®¡ç†-å›¢é˜Ÿç®¡ç†**

- æ”¯æŒè·¨éƒ¨é—¨èµ„æºéš”ç¦»ã€æƒé™ç»„æ‰¹é‡åˆ†é…ä¸åä½œå®¡è®¡ï¼Œå®ç°å®æ—¶å¼€å‘å›¢é˜Ÿä¸ä¸šåŠ¡åœºæ™¯çš„åŠ¨æ€æ˜ å°„ï¼Œä¿éšœå¤šé¡¹ç›®èµ„æºå®‰å…¨ååŒã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391784969-0792786a-864f-4cd5-81e0-ea23e2b650d6.jpeg)

#### 4.1.37. **åˆ›å»ºå›¢é˜Ÿ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391803738-c5e17a73-6758-499b-8e57-9246ddf4ea32.jpeg)

#### 4.1.38. **ç³»ç»Ÿç®¡ç†-æˆå‘˜ç®¡ç†**

- æ”¯æŒè·¨å›¢é˜Ÿè´¦å·èšåˆã€æƒé™åŠ¨æ€è°ƒæ•´ä¸æ“ä½œè¡Œä¸ºæº¯æºï¼Œå®ç°ä¼ä¸šçº§ç”¨æˆ·èµ„æºç²¾ç»†åŒ–ç®¡æ§ï¼Œä¿éšœå®æ—¶å¼€å‘åä½œå®‰å…¨åˆè§„ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391814228-b1be0961-aa4e-4221-a0c6-dbb4123c0351.jpeg)

#### 4.1.39. **æ·»åŠ æˆå‘˜**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750391824951-38ed2ec1-a574-44ca-8cc4-5a589b94b46d.jpeg)





## 5. **æ³¨æ„äº‹é¡¹**

- **æƒé™ç®¡ç†**ï¼šç¡®ä¿éƒ¨ç½²ç”¨æˆ·å¯¹`/opt/streampark`ç›®å½•æœ‰è¯»å†™æƒé™ã€‚
- **èµ„æºéš”ç¦»**ï¼šåœ¨å…±äº«é›†ç¾¤ä¸­ï¼Œéœ€ä¸ºStreamParkä½œä¸šåˆ†é…ç‹¬ç«‹çš„èµ„æºé˜Ÿåˆ—ï¼Œé¿å…èµ„æºäº‰æŠ¢ã€‚
- **å¤‡ä»½ç­–ç•¥**ï¼šå®šæœŸå¤‡ä»½MySQLæ•°æ®åº“åŠä½œä¸šé…ç½®æ–‡ä»¶ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚



------

# **å®æ—¶å¼€å‘å¹³å°(streampark)--Flink SQLåŠŸèƒ½æ¼”ç¤º**

- ä½¿ç”¨ Flink Standalone æ¨¡å¼è¿è¡Œ Flink SQL Demo
- Flink å®‰è£…åŒ…éœ€è¦ä¸ StreamPark æœåŠ¡åŒåœ¨ä¸€å°æœåŠ¡å™¨

# 1. Flink å®‰è£…

## 1.1. ä¸‹è½½

- Flink ç‰ˆæœ¬ï¼š1.18.1
- å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttps://archive.apache.org/dist/flink/flink-1.18.1/

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761724011625-56b0b5e2-07d1-4516-8950-edf07bd9c1cf.png)

## 1.2. è§£å‹

- ä¸Šä¼ æœåŠ¡å™¨å¹¶è§£å‹

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761724090257-64fd66b1-8818-41a0-9df8-6e1338d44ac5.png)

- é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡

```shell
vim /etc/profile
```

- æ·»åŠ ä»¥ä¸‹å†…å®¹

```shell
export FLINK_HOME=/aolingdata/streampark/flink-1.18.1
export PATH=$FLINK_HOME/bin:$PATH
```

- ä½¿é…ç½®ç”Ÿæ•ˆ

```shell
source /etc/profile
```

## 1.3. é…ç½®

- è¿›å…¥ conf ç›®å½•

```shell
cd $FLINK_HOME/conf
```

- ä¿®æ”¹ flink-conf.yaml é…ç½®æ–‡ä»¶

```shell
vim flink-conf.yaml
```

- ä¿®æ”¹ä»¥ä¸‹å†…å®¹

```yaml
jobmanager.bind-host: 0.0.0.0
taskmanager.bind-host: 0.0.0.0
rest.bind-address: 0.0.0.0
```

- ä¿å­˜å¹¶é€€å‡º

## 1.4. å¯åŠ¨

- è¿›å…¥ bin ç›®å½•

```shell
cd $FLINK_HOME/bin
```

- æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨

```shell
start-cluster.sh
```

# 2. Streampark

## 2.1. é…ç½® Flink ç‰ˆæœ¬

- å®‰è£…è·¯å¾„ä¸ºæœåŠ¡å™¨ Flink çš„ç»å¯¹è·¯å¾„

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761724867905-01127bc8-4210-4eff-b447-157c3d00ae65.png)

- æ·»åŠ å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761724796776-b1a3aa1f-abe2-4189-be50-26e2ed4bfe18.png)

## 2.2. é…ç½®é›†ç¾¤

- è¿›å…¥é›†ç¾¤ç®¡ç†é¡µé¢ï¼Œç‚¹å‡» **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761724929210-3545ab5f-42d7-46fb-87bf-3f7b623bf55c.png)

- é…ç½®é›†ç¾¤ä¿¡æ¯ï¼Œç‚¹å‡» **æäº¤**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761724962920-2f51d076-a5b6-4f1b-8717-1cfe2d1d194f.png)

- é…ç½®å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725129457-0a7a402c-87cd-4dbd-9bd7-fc7ecae62cc0.png)

## 2.3. é…ç½®ä½œä¸š

- è¿›å…¥ä½œä¸šç®¡ç†ï¼Œç‚¹å‡» **æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725206585-b008c57b-d414-4275-93db-99c92c5f7fb6.png)

- é…ç½®ä½œä¸šä¿¡æ¯

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725247587-0c633e03-2738-4f9b-b3bd-96fb7f110b96.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725292837-99a21874-4262-4d15-8274-353a1fb82059.png)

- Flink SQL

```sql
CREATE TABLE datagen (
  f_sequence INT,
  f_random INT,
  f_random_str STRING,
  ts AS localtimestamp,
  WATERMARK FOR ts AS ts
) WITH (
  'connector' = 'datagen',
  -- optional options --
  'rows-per-second'='5',
  'fields.f_sequence.kind'='sequence',
  'fields.f_sequence.start'='1',
  'fields.f_sequence.end'='500',
  'fields.f_random.min'='1',
  'fields.f_random.max'='500',
  'fields.f_random_str.length'='10'
);

  CREATE TABLE print_table (
    f_sequence INT,
    f_random INT,
    f_random_str STRING
  ) WITH (
    'connector' = 'print'
  );

  INSERT INTO print_table select f_sequence,f_random,f_random_str from datagen;
```

- ä¸‹æ»‘åˆ°æœ€ä¸‹æ–¹ï¼Œç‚¹å‡» **æäº¤**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725311422-1cfe3da1-f17e-498c-a92e-18059dbc73de.png)

## 2.4. å‘å¸ƒä½œä¸š

- ç‚¹å‡»ä¸‹å›¾æ‰€ç¤ºæŒ‰é’®

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725407249-7e4dbbd9-ccae-4459-8941-41a36a0c2cef.png)

- å‘å¸ƒä¸­

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725436298-b3ecc537-4222-443c-bed4-6543eb591c4c.png)

- å‘å¸ƒæˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725461220-8ba1f391-f3b8-40f1-b146-9ef9d1ded2c3.png)

## 2.5. å¯åŠ¨ä½œä¸š

- ç‚¹å‡»ä¸‹å›¾æ‰€ç¤ºæŒ‰é’®ï¼Œå¯åŠ¨ä½œä¸š

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725534627-e8839152-4218-4afe-b047-da15d1fa81a8.png)

- ç‚¹å‡» **åº”ç”¨**

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725555777-90f0057b-8891-4cd5-84e1-a8bea01e955e.png)

- å¯åŠ¨ä¸­

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725569144-5c9db115-62a4-4925-8953-7d8b63c1b86c.png)

- å¯åŠ¨å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725583855-674d6fdf-9452-472e-a534-9951e5582c2f.png)

- ç­‰å¾…æ‰§è¡Œå®Œæˆï¼Œå¯ä»¥è®¿é—® flink ui æŸ¥çœ‹æ‰§è¡Œæƒ…å†µ http://8g007:8081
- 8g007 ä¸º flinkå®‰è£…æ‰€åœ¨æœåŠ¡å™¨åŸŸåæˆ–ipï¼Œ8081 ä¸ºflinké»˜è®¤è®¿é—®ç«¯å£

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725671376-7f4a0a0d-eddb-4516-ba20-cb77a52a8ed7.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725676942-bf83d6b7-415f-421f-90a1-ef05119cb259.png)

## 2.6. å®Œæˆä½œä¸š

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1761725692141-a8df7216-6fb0-438a-bb65-8d1955e4bdc4.png)

# **å®æ—¶å¼€å‘IDE(dinky)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. å®æ—¶å¼€å‘IDEåŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Qg3EzmEZi/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. å®æ—¶å¼€å‘IDEåŸºäºå¼€æºé¡¹ç›®Dinkyå»ºè®¾ï¼š

å®æ—¶å¼€å‘IDEï¼ˆDinkyï¼‰æ˜¯ä¸€æ¬¾åŸºäºApache Flinkæ„å»ºçš„ä¸€ç«™å¼å®æ—¶è®¡ç®—å¹³å°ã€‚æä¾›äº†è½»é‡åŒ–éƒ¨ç½²ã€æ™ºèƒ½åŒ–å¼€å‘ä½“éªŒã€é«˜æ•ˆä»»åŠ¡ç®¡ç†ä¸è¿ç»´ä»¥åŠä¸°å¯Œçš„ç”Ÿæ€é›†æˆä¸æ‰©å±•æ€§ç­‰åŠŸèƒ½ç‰¹ç‚¹ï¼Œé€‚ç”¨äºè¾¹ç¼˜è®¡ç®—ã€IoTè®¾å¤‡ç­‰èµ„æºå—é™åœºæ™¯ï¼Œä»¥åŠå¸‚åœºè¶‹åŠ¿é¢„æµ‹ã€ç”¨æˆ·è¡Œä¸ºå®æ—¶å“åº”ã€äº§å“æ€§èƒ½åŠ¨æ€ç›‘æ§ç­‰å¤šç§å®æ—¶è®¡ç®—åœºæ™¯ã€‚



ğŸ”¹Dinkyå¼€æºé¡¹ç›®ï¼šhttps://github.com/DataLinkDC/dinky

ğŸ”¹Dinkyæ–‡æ¡£åœ°å€ï¼šhttps://www.dinky.org.cn

### 2.2. å®æ—¶å¼€å‘IDEåŠŸèƒ½ç‰¹ç‚¹ï¼š

- è½»é‡åŒ–ä¸å¼€ç®±å³ç”¨
- æ™ºèƒ½åŒ–å¼€å‘ä½“éªŒ
- é«˜æ ¡ä»»åŠ¡ç®¡ç†ä¸è¿ç»´
- ç”Ÿæ€é›†æˆä¸æ‰©å±•æ€§
- ä¼ä¸šçº§åº”ç”¨åœºæ™¯



## 3. AllDataæ•°æ®ä¸­å°-å®æ—¶å¼€å‘IDEï¼ˆDinkyï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486632284-b55be3c6-bd74-4c9a-8417-2926228d8adb.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ Tipsï¼š**æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**æ¨è Linuxï¼ˆCentOS 7+/Ubuntu 20.04+ï¼‰æˆ– macOSã€‚

 ğŸ’¡Tipsï¼š**ç½‘ç»œè¦æ±‚**ï¼š

- ç¡®ä¿æœåŠ¡å™¨ç½‘ç»œé€šç•…ï¼Œèƒ½å¤Ÿè®¿é—®æ‰€éœ€èµ„æºã€‚

ğŸ’¡ Tipsï¼š**ä¾èµ–å·¥å…·**ï¼š

- JDK 1.8+
- Maven 3.6+
- Git
- MySQL 5.7+ï¼ˆç”¨äºå­˜å‚¨å…ƒæ•°æ®å’Œä½œä¸šä¿¡æ¯ï¼‰
- Node.jsï¼ˆå¦‚éœ€å‰ç«¯ç¼–è¯‘ï¼‰



### 3.2. **ç¨³å®šç‰ˆæœ¬ï¼šDinkyé›†æˆç‰ˆæœ¬opensource.version=1.2.1**

### 3.3. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```





## 4. è®¿é—®å®æ—¶å¼€å‘IDEé¡µé¢

#### 4.1.1. **å®æ—¶å¼€å‘IDE-åŠŸèƒ½æ¦‚è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295470370-25c815dc-bfb4-4cee-8f3d-c0d80a34cd42.jpeg)

#### 4.1.2. **æ•°æ®å¼€å‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295496039-1731b828-e215-4f5a-a72d-20efabd95176.jpeg)

#### 4.1.3. **æ•°æ®åŒæ­¥-M2Sql**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295509771-ee8af8c3-3c2c-46db-8fc4-1bae903432d3.jpeg)

#### 4.1.4. **æ•°æ®å¼€å‘-å®æ—¶ETL**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296074643-9aad1e82-b3de-4cc6-8fe4-fe3f60dba88c.png)

#### 4.1.5. **æ•°æ®åŒæ­¥-æ‰¹å¤„ç†ä»»åŠ¡SQLå¼€å‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750296128721-f333bf52-68eb-4516-b5b1-c6bae0ee31fa.jpeg)

#### 4.1.6. **æ•°æ®å¼€å‘-å®æ—¶ETL**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296107794-23cbabb9-8523-4a53-a0d1-4f027345c334.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296151210-4e83b63a-9fdb-4df6-928b-f8c5b710a295.png)

#### 4.1.7. **Dinkyæµ‹è¯•å•è¡¨ç¦»çº¿åŒæ­¥(Mysql2Doris)**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296177255-efa586e1-77e5-4f33-a18c-ac0953985e3c.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296181676-4120d379-66f2-41d8-a634-4621da09a4f9.png)

#### 4.1.8. **Dinkyæµ‹è¯•æ•´åº“åŒæ­¥+å®æ—¶å¢é‡åŒæ­¥(Mysql2Doris)**

- **æºæ•°æ®åº“6æ¡æ•°æ®åº“**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296232893-444bb5ed-73de-4ec9-881c-595907ef9939.png)

- **ç›®æ ‡Dorisæ•°æ®åº“6æ¡æ•°æ®åº“**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296247081-6ef6a77a-b68d-4f75-93e9-187d940518e4.png)

- **æºæ•°æ®åº“6æ¡æ•°æ®åº“ï¼Œæ–°å¢2æ¡ï¼Œç›®æ ‡æ•°æ®åº“å®æ—¶åŒæ­¥å¢åŠ 2æ¡ï¼Œåˆè®¡8æ¡æ•°æ®**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296272997-05cbfae7-8211-4d8a-a238-dcb112e8a032.png)

- **Dorisç›®æ ‡æ•°æ®åº“å®æ—¶åŒæ­¥å¢åŠ 2æ¡ï¼Œåˆè®¡8æ¡æ•°æ®ï¼ŒéªŒè¯é€šè¿‡**âœ…

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296290533-27bb3dc5-993a-4b77-9285-90c54a2bf0dd.png)

- **Flink Runtime Web**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296317495-6dfd0cf8-aa43-4457-a88d-39e13ac031ec.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296323082-8d282687-57ac-4a7e-88d3-b2a6cdaf37eb.png)

#### 4.1.9. **å®æ—¶å¼€å‘IDE-è¿ç»´ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296377749-9010df0e-13f7-46cd-8941-519448fbccf5.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296385138-98a6f5aa-1daa-4078-ae73-0186e7f4e41e.png)

#### 4.1.10. **å®æ—¶å¼€å‘IDE-è¿ç»´ä¸­å¿ƒ-ä»»åŠ¡ç‰ˆæœ¬ä¿¡æ¯**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296409139-86c10b1f-246a-4482-9a19-9400bbd2a120.png)

#### 4.1.11. **å®æ—¶å¼€å‘IDE-è¿ç»´ä¸­å¿ƒ-SQLè¡€ç¼˜**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296419136-f6ee4a15-32fc-4faf-ba72-08fa90cbc890.png)

#### 4.1.12. **æ³¨å†Œä¸­å¿ƒ-Flink å®ä¾‹**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296531024-3a25c52b-8c52-4d9c-b0d9-91d348906417.png)

#### 4.1.13. **æ³¨å†Œä¸­å¿ƒ-é›†ç¾¤ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296548137-39e0162d-d73d-4ea9-9b40-c5fc5538b523.png)

#### 4.1.14. **åˆ›å»ºé›†ç¾¤é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295583943-cb1fbb44-3ba6-451e-ba11-b36524965354.jpeg)

#### 4.1.15. **å®æ—¶å¼€å‘IDE-æ³¨å†Œä¸­å¿ƒ-æ•°æ®æºç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296628327-8b2a2916-8e64-4493-8519-08407bab9385.png)

#### 4.1.16. **åˆ›å»ºæ•°æ®æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295590572-bb13240d-95f5-47d8-b78f-fc6c65f0eb1b.jpeg)

#### 4.1.17. **å®æ—¶å¼€å‘IDE-æ³¨å†Œä¸­å¿ƒ-å‘Šè­¦ç­–ç•¥ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296644221-9bce1416-0355-4cd0-84aa-f5723a12212f.png)

#### 4.1.18. **åˆ›å»ºå‘Šè­¦å®ä¾‹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295600033-66b8b53c-ed5c-4503-8f28-c8af8fe83557.jpeg)

#### 4.1.19. **åˆ›å»ºå‘Šè­¦ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295612270-44ce1c77-5a66-4235-a8e1-fd178aa48449.jpeg)

#### 4.1.20. **å‘Šè­¦æ¨¡ç‰ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295625052-9d702e87-e15a-4a9e-b1ce-5824f3c083d1.jpeg)

#### 4.1.21. **åˆ›å»ºæ¨¡ç‰ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295644005-4d38d41f-8209-47c0-a147-3bb10c524259.jpeg)

#### 4.1.22. **å‘Šè­¦ç­–ç•¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295648852-f5d445cd-b4b0-4b82-bc8f-689e52fb2ac8.jpeg)

#### 4.1.23. **æ–°å»ºå‘Šè­¦ç­–ç•¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295658570-3eb6e6d6-4223-4593-9eca-4a58d0f0747b.jpeg)

#### 4.1.24. **æ–‡ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295673960-8ee4548e-3564-4451-ad7f-89e04d643317.jpeg)

#### 4.1.25. **åˆ›å»ºæ–‡æ¡£**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295679188-6c969430-9e3c-4982-877a-4ee54b71ee0a.jpeg)

#### 4.1.26. **åˆ›å»ºå…¨å±€å˜é‡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295688486-19287601-c0b5-4d0b-a134-d907f6973ccf.jpeg)

#### 4.1.27. **Cit é¡¹ç›®(Betaï¼‰**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295708675-11f2fd82-b4cc-4c45-8c35-d486de7389de.jpeg)

#### 4.1.28. **åˆ›å»ºé¡¹ç›®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295711741-5c442463-8fb6-4602-b939-046cfc4ab329.jpeg)

#### 4.1.29. **å®æ—¶å¼€å‘IDE-æ³¨å†Œä¸­å¿ƒ-UDFæ¨¡ç‰ˆç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296747629-cb06113c-6326-4fe3-ad00-c48d0ef9c91a.png)

#### 4.1.30. **æ³¨å†ŒUDF**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295715103-afa9ef0b-0c31-454d-b680-d62ebe3f161f.jpeg)

#### 4.1.31. **è®¤è¯ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295750766-dc0fcdda-9ccb-48da-b9ed-9a2393e345df.jpeg)

#### 4.1.32. **å®æ—¶å¼€å‘IDE-è®¤è¯ä¸­å¿ƒ-èœå•ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296785040-76d3d3e0-a24b-4f50-b761-b64b8afc9686.png)

#### 4.1.33. **æ·»åŠ ç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295753635-fd4662cd-f173-4c98-a085-af6d044f13de.jpeg)

#### 4.1.34. **ä¿®æ”¹ç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295766068-445d86f3-9de1-43de-ade4-a266103617d6.jpeg)

#### 4.1.35. **åˆ†é…è§’è‰²**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295776237-14e95272-8ff4-4329-a276-8ba22c8b63b5.jpeg)

#### 4.1.36. **ä¿®æ”¹å¯†ç **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295788544-87e6f3bc-834f-44f4-93e5-47c070a99e48.jpeg)

#### 4.1.37. **è§’è‰²**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295826611-cb0d4d28-443b-4817-815c-5312fbf7e72b.jpeg)

#### 4.1.38. **åˆ›å»ºè§’è‰²**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295837297-c7425c81-e976-4dee-bec4-85c8b279bdc7.jpeg)

#### 4.1.39. **èœå•**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295839956-8b295869-5925-48e8-9526-589dae5338a9.jpeg)

#### 4.1.40. **è¡Œæƒé™-åˆ›å»ºè¡Œæƒé™**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295848234-443f063e-f00a-4682-abed-2f1b23085e9f.jpeg)

#### 4.1.41. **ç§Ÿæˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295875929-ea8324bc-1139-4fcd-a031-ad6a371c4595.jpeg)

#### 4.1.42. **åˆ›å»ºç§Ÿæˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295878308-3194ed03-4b8c-4ef6-b52d-9b399653c736.jpeg)

#### 4.1.43. **ä»¤ç‰Œ-åˆ›å»ºToken**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295887604-f8436e77-a9c1-4ecb-ab38-c8035d7784eb.jpeg)

#### 4.1.44. **é…ç½®ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295898687-dd620661-9207-4dbb-b450-0de7ded6f100.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296836194-dc01d73f-83ea-4da9-9768-58d8503b6d67.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296840647-7f346bf0-8d8b-4971-b58f-77fbc0288e2e.png)

#### 4.1.45. **å®æ—¶å¼€å‘IDE-é…ç½®ä¸­å¿ƒ-Metricsé…ç½®ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296857618-72896757-a659-4e2b-b367-5c590686335e.png)

#### 4.1.46. **å®æ—¶å¼€å‘IDE-é…ç½®ä¸­å¿ƒ-ç±»åŠ è½½å™¨ç®¡ç†-æœåŠ¡ä¾èµ–æ£€æµ‹**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750296898724-479c3cb9-c429-4691-9141-59b1218e3c0f.png)

#### 4.1.47. **é…ç½®ä¸­å¿ƒ-ç³»ç»Ÿæ—¥å¿—-Root Logs**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295908583-d04d590a-855a-4267-b7ae-65c24ae073fe.jpeg)

#### 4.1.48. **é…ç½®ä¸­å¿ƒ-ç³»ç»Ÿæ—¥å¿—-Log List**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295919711-1713c3ed-7a7e-4792-a096-5a99ef1ad23d.jpeg)

#### 4.1.49. **é…ç½®ä¸­å¿ƒ-ç±»åŠ è½½å™¨ Jars**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295930338-bc875c75-890b-4a7d-99e4-e16320869b22.jpeg)

#### 4.1.50. **çœ‹æ¿-åˆ›å»ºä»ªè¡¨ç›˜**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750295932512-067f6058-91ab-4085-880f-6fb663c50215.jpeg)





## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **ä¾èµ–å†²çª**ï¼š

- ç¡®ä¿ JDK å’Œ Maven ç‰ˆæœ¬ä¸é¡¹ç›®è¦æ±‚ä¸€è‡´ã€‚
- ä½¿ç”¨ `mvn dependency:tree` è§£å†³ä¾èµ–å†²çªã€‚

### 5.2. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼š

- æ£€æŸ¥ `application.yml` ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®ä¿ MySQL æœåŠ¡å¯è®¿é—®ã€‚

### 5.3. **ç«¯å£å†²çª**ï¼š

- å¦‚æœ 8888 ç«¯å£è¢«å ç”¨ï¼Œå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ `server.port` å‚æ•°ã€‚

### 5.4. **ç‰ˆæœ¬ä¸åŒ¹é…**ï¼š

- ç¡®ä¿ Dinky ç‰ˆæœ¬ä¸ Flink ç‰ˆæœ¬å¯¹åº”ï¼Œä¾èµ–åŒ…æ”¾ç½®åœ¨æ­£ç¡®çš„ç›®å½•ä¸‹ã€‚





------



# **å®æ—¶å¼€å‘IDE-Mysqlæ•´åº“åŒæ­¥åˆ°Dorisèƒ½åŠ›æ¼”ç¤º**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. å®æ—¶å¼€å‘IDEåŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Qg3EzmEZi/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. å®æ—¶å¼€å‘IDEåŸºäºå¼€æºé¡¹ç›®Dinkyå»ºè®¾ï¼š

å®æ—¶å¼€å‘IDEï¼ˆDinkyï¼‰æ˜¯ä¸€æ¬¾åŸºäºApache Flinkæ„å»ºçš„ä¸€ç«™å¼å®æ—¶è®¡ç®—å¹³å°ã€‚æä¾›äº†è½»é‡åŒ–éƒ¨ç½²ã€æ™ºèƒ½åŒ–å¼€å‘ä½“éªŒã€é«˜æ•ˆä»»åŠ¡ç®¡ç†ä¸è¿ç»´ä»¥åŠä¸°å¯Œçš„ç”Ÿæ€é›†æˆä¸æ‰©å±•æ€§ç­‰åŠŸèƒ½ç‰¹ç‚¹ï¼Œé€‚ç”¨äºè¾¹ç¼˜è®¡ç®—ã€IoTè®¾å¤‡ç­‰èµ„æºå—é™åœºæ™¯ï¼Œä»¥åŠå¸‚åœºè¶‹åŠ¿é¢„æµ‹ã€ç”¨æˆ·è¡Œä¸ºå®æ—¶å“åº”ã€äº§å“æ€§èƒ½åŠ¨æ€ç›‘æ§ç­‰å¤šç§å®æ—¶è®¡ç®—åœºæ™¯ã€‚



ğŸ”¹Dinkyå¼€æºé¡¹ç›®ï¼šhttps://github.com/DataLinkDC/dinky

ğŸ”¹Dinkyæ–‡æ¡£åœ°å€ï¼šhttps://www.dinky.org.cn

### 2.2. å®æ—¶å¼€å‘IDEåŠŸèƒ½ç‰¹ç‚¹ï¼š

- è½»é‡åŒ–ä¸å¼€ç®±å³ç”¨
- æ™ºèƒ½åŒ–å¼€å‘ä½“éªŒ
- é«˜æ ¡ä»»åŠ¡ç®¡ç†ä¸è¿ç»´
- ç”Ÿæ€é›†æˆä¸æ‰©å±•æ€§
- ä¼ä¸šçº§åº”ç”¨åœºæ™¯



## 3. AllDataæ•°æ®ä¸­å°-å®æ—¶å¼€å‘IDEï¼ˆDinkyï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486632284-b55be3c6-bd74-4c9a-8417-2926228d8adb.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ Tipsï¼š**æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**æ¨è Linuxï¼ˆCentOS 7+/Ubuntu 20.04+ï¼‰æˆ– macOSã€‚

 ğŸ’¡Tipsï¼š**ç½‘ç»œè¦æ±‚**ï¼š

- ç¡®ä¿æœåŠ¡å™¨ç½‘ç»œé€šç•…ï¼Œèƒ½å¤Ÿè®¿é—®æ‰€éœ€èµ„æºã€‚

ğŸ’¡ Tipsï¼š**ä¾èµ–å·¥å…·**ï¼š

- JDK 1.8+
- Maven 3.6+
- Git
- MySQL 5.7+ï¼ˆç”¨äºå­˜å‚¨å…ƒæ•°æ®å’Œä½œä¸šä¿¡æ¯ï¼‰
- Node.jsï¼ˆå¦‚éœ€å‰ç«¯ç¼–è¯‘ï¼‰



### 3.2. **ç¨³å®šç‰ˆæœ¬ï¼šDinkyé›†æˆç‰ˆæœ¬opensource.version=1.2.1**

### 3.3. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



## 4. è®¿é—®å®æ—¶å¼€å‘IDEé¡µé¢

### 4.1. å°†ä»¥ä¸‹jaræ‹·è´åˆ°Dinky/extendsç›®å½•

#### 4.1.1. ä¸‹è½½flink-1.18.1ï¼š

 https://mirrors.aliyun.com/apache/flink/flink-1.18.1/flink-1.18.1-bin-scala_2.12.tgz

#### 4.1.2. è§£å‹éƒ¨ç½²Flink

é…ç½®flink-conf.yml

rest.bind-address: 0.0.0.0

é…ç½®flink-conf.yml

classloader.resolve-order: child-first

#### 4.1.3. æ‹·è´Dinkyçš„jar/dinky-app-xxx.jaråˆ°Flink/lib

scp -r dinky-app-1.18-1.2.1-jar-with-dependencies.jar root@8g005:/usr/local/aoling/8g005/build_flink/flink-1.18.1/lib/



### 4.2. ä¸‹è½½ä¾èµ–åŒ…ï¼š

é€šè¿‡ç½‘ç›˜åˆ†äº«çš„æ–‡ä»¶ï¼šdinky-flink-1.18-cdc-lib.zip

é“¾æ¥: https://pan.baidu.com/s/1jDV5B0Qy4pkx-V8Ned3vjw?pwd=mndg æå–ç : mndg 

### 4.3. æ‹·è´åˆ°dinkyéƒ¨ç½²ç›®å½•extendsï¼š

/usr/local/aoling/8g004/dinky/dinky-release-1.18-1.2.1/extends/flink1.18



-rw-r--r-- 1 root root     35447 3æœˆ  21 15:01 flink-cdc-cli-3.2.0.jar

-rw-r--r-- 1 root root    281843 3æœˆ  21 15:01 flink-cdc-common-3.2.0.jar

-rw-r--r-- 1 root root     50998 3æœˆ  21 15:01 flink-cdc-composer-3.2.0.jar

-rwxr-xr-x 1 root root  12322656 3æœˆ  21 15:01 flink-cdc-pipeline-connector-doris-3.2.0.jar

-rwxr-xr-x 1 root root  21345935 3æœˆ  21 15:01 flink-cdc-pipeline-connector-mysql-3.2.0.jar

-rwxr-xr-x 1 root root  14032447 3æœˆ  21 15:01 flink-cdc-pipeline-connector-starrocks-3.2.0.jar

-rw-r--r-- 1 root root    379084 3æœˆ  21 15:01 flink-cdc-runtime-3.2.0.jar

-rwxr-xr-x 1 root root  21566086 3æœˆ  21 15:01 flink-sql-connector-mysql-cdc-3.2.0.jar

-rwxr-xr-x 1 root root  19944874 3æœˆ  21 15:01 flink-sql-connector-oracle-cdc-3.2.0.jar

-rwxr-xr-x 1 root root  19512109 3æœˆ  21 15:01 flink-sql-connector-postgres-cdc-3.2.0.jar

-rwxr-xr-x 1 root root  17551979 3æœˆ  21 15:01 flink-sql-connector-sqlserver-cdc-3.2.0.jar



### 4.4. æ•´åº“åŒæ­¥éªŒè¯ï¼ˆMysql To Dorisï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765689204-bede72be-3a1c-4c98-904b-d6774acac3ad.png)

Source-Mysql

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765714540-449ea53b-9b20-48ae-8fbe-cfdcb9c6c095.png)

åŠ å…¥ä¸€è¡Œæ•°æ®ï¼š

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765819689-fc76c029-9d93-4186-8a59-3bec4c4ef33d.png)

CDC-Flink

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765722098-a83903d9-4828-4ec7-850a-5cf69a504431.png)

CDC-åŠ å…¥ä¸€è¡Œæ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765836966-37ffb14e-a0d4-4fda-b9a4-b598c0a66212.png)

Sink-Doris

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765755479-e01cc8b9-b27a-46a5-ab1d-9dcfd656e3c9.png)

Sink-Dorisç»“æœè¡¨-å¢åŠ ä¸€è¡Œæ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755765868049-c371bb2c-33ad-4a53-9f43-78f7401db0b4.png)

## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **ä¾èµ–å†²çª**ï¼š

- ç¡®ä¿ JDK å’Œ Maven ç‰ˆæœ¬ä¸é¡¹ç›®è¦æ±‚ä¸€è‡´ã€‚
- ä½¿ç”¨ `mvn dependency:tree` è§£å†³ä¾èµ–å†²çªã€‚

### 5.2. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼š

- æ£€æŸ¥ `application.yml` ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®ä¿ MySQL æœåŠ¡å¯è®¿é—®ã€‚

### 5.3. **ç«¯å£å†²çª**ï¼š

- å¦‚æœ 8888 ç«¯å£è¢«å ç”¨ï¼Œå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ `server.port` å‚æ•°ã€‚

### 5.4. **ç‰ˆæœ¬ä¸åŒ¹é…**ï¼š

- ç¡®ä¿ Dinky ç‰ˆæœ¬ä¸ Flink ç‰ˆæœ¬å¯¹åº”ï¼Œä¾èµ–åŒ…æ”¾ç½®åœ¨æ­£ç¡®çš„ç›®å½•ä¸‹ã€‚





------





# **ç¦»çº¿å¼€å‘å¹³å°(DolphinScheduler)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. ç¦»çº¿å¼€å‘å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Tr3QziE3a/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. ç¦»çº¿å¼€å‘å¹³å°åŸºäºå¼€æºé¡¹ç›®DolphinSchedulerå»ºè®¾ã€‚

DolphinScheduler æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œæ”¯æŒå¤æ‚å·¥ä½œæµç¼–æ’ã€ä»»åŠ¡ç›‘æ§ä¸å‘Šè­¦ï¼Œé€‚ç”¨äºç¦»çº¿æ•°æ®å¤„ç†åœºæ™¯ã€‚

**2.1.1 å¯è§†åŒ–æ“ä½œ**

- æä¾›ç›´è§‚çš„å¯è§†åŒ–ç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡ç®€å•çš„æ‹–æ‹½å’Œé…ç½®æ“ä½œï¼Œå°±èƒ½è½»æ¾åˆ›å»ºå¤æ‚çš„å·¥ä½œæµä»»åŠ¡ï¼Œæ— éœ€ç¼–å†™å¤§é‡ä»£ç ï¼Œé™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡ã€‚

**2.1.2 ä»»åŠ¡è°ƒåº¦ä¸ä¾èµ–ç®¡ç†**

- æ”¯æŒå¤šç§ä»»åŠ¡ç±»å‹ï¼Œå¦‚ Shellã€SQLã€Python ç­‰ï¼Œèƒ½æ»¡è¶³ä¸åŒæ•°æ®å¤„ç†åœºæ™¯çš„éœ€æ±‚ã€‚
- å¯çµæ´»è®¾ç½®ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿ä»»åŠ¡æŒ‰ç…§é¢„å®šé¡ºåºæ‰§è¡Œï¼Œæœ‰æ•ˆå¤„ç†å¤æ‚çš„æ•°æ®å¤„ç†æµç¨‹ã€‚

**2.1.3 èµ„æºç®¡ç†**

- èƒ½å¤Ÿå¯¹è®¡ç®—èµ„æºè¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œåˆ†é…ï¼Œæ ¹æ®ä»»åŠ¡çš„èµ„æºéœ€æ±‚åˆç†è°ƒåº¦ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ï¼Œé¿å…èµ„æºæµªè´¹ã€‚

**2.1.4 ç›‘æ§ä¸å‘Šè­¦**

- å®æ—¶ç›‘æ§ä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬ä»»åŠ¡è¿›åº¦ã€è¿è¡Œæ—¶é•¿ã€èµ„æºä½¿ç”¨æƒ…å†µç­‰ã€‚
- å½“ä»»åŠ¡å‡ºç°å¼‚å¸¸æ—¶ï¼Œèƒ½åŠæ—¶å‘å‡ºå‘Šè­¦é€šçŸ¥ï¼Œæ–¹ä¾¿è¿ç»´äººå‘˜å¿«é€Ÿå“åº”å’Œå¤„ç†é—®é¢˜ï¼Œä¿éšœæ•°æ®å¤„ç†çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚

**2.1.5 å¤šç§Ÿæˆ·æ”¯æŒ**

- æ”¯æŒå¤šç§Ÿæˆ·æ¨¡å¼ï¼Œä¸åŒç§Ÿæˆ·å¯ä»¥åœ¨åŒä¸€ä¸ªå¹³å°ä¸Šç‹¬ç«‹è¿›è¡Œä»»åŠ¡å¼€å‘å’Œç®¡ç†ï¼Œå®ç°èµ„æºéš”ç¦»å’Œæƒé™æ§åˆ¶ï¼Œæ»¡è¶³ä¼ä¸šå†…ä¸åŒéƒ¨é—¨æˆ–å›¢é˜Ÿçš„ä½¿ç”¨éœ€æ±‚ã€‚



ğŸ”¹DolphinSchedulerå¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/DolphinScheduler

ğŸ”¹æ–‡æ¡£åœ°å€ï¼šhttps://dolphinscheduler.apache.org/zh-cn/docs/3.2.1/guide/homepage



### 2.2. ç¦»çº¿å¼€å‘å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- åˆ†å¸ƒå¼æ˜“æ‰©å±•æ¶æ„
- å¯è§†åŒ–DAGå·¥ä½œæµç¼–æ’
- å¤šç§Ÿæˆ·ä¸æƒé™ç®¡ç†
- ä»»åŠ¡ç±»å‹ä¸°å¯Œ
- é«˜å¯é æ€§ä¸å®¹é”™æœºåˆ¶
- çµæ´»çš„è°ƒåº¦ç­–ç•¥
- ä»»åŠ¡çŠ¶æ€ç›‘æ§ä¸æ—¥å¿—
- æ•°æ®æºé›†æˆèƒ½åŠ›
- ç‰ˆæœ¬æ§åˆ¶ä¸çŠ¶æ€ç®¡ç†
- ç”Ÿæ€å…¼å®¹æ€§





## 3. AllDataæ•°æ®ä¸­å°-ç¦»çº¿å¼€å‘å¹³å°ï¼ˆDolphinSchedulerï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486680578-dc66c520-d870-4506-8903-d884dbb6a949.jpeg)

### 3.1. æºç è·å–

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.2. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ Tipsï¼š**æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- æ”¯æŒ Linux æˆ– macOS ç³»ç»Ÿï¼ˆæ¨èä½¿ç”¨ Ubuntu/CentOS æˆ– macOSï¼‰ã€‚
- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…åŸºç¡€ä¾èµ–å·¥å…·ï¼ˆå¦‚ `git`ã€`curl`ã€`wget` ç­‰ï¼‰ã€‚



 ğŸ’¡Tipsï¼š**Javaç¯å¢ƒ**ï¼š

- å®‰è£… JDK 1.8 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨èä½¿ç”¨ JDK 11ï¼‰ã€‚
- é…ç½®ç¯å¢ƒå˜é‡ `JAVA_HOME`ï¼Œå¹¶å°† `$JAVA_HOME/bin` æ·»åŠ åˆ° `PATH`ã€‚
- éªŒè¯å®‰è£…ï¼šjava -version



ğŸ’¡ Tipsï¼š**Maven ç¯å¢ƒ**ï¼š

- å®‰è£… Maven 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- é…ç½®ç¯å¢ƒå˜é‡ `MAVEN_HOME`ï¼Œå¹¶å°† `$MAVEN_HOME/bin` æ·»åŠ åˆ° `PATH`ã€‚
- éªŒè¯å®‰è£…ï¼šmvn -v



ğŸ’¡ Tipsï¼š**æ•°æ®åº“**ï¼š

- æ”¯æŒ MySQLæˆ– PostgreSQLã€‚
- åˆ›å»ºæ•°æ®åº“ç”¨æˆ·å¹¶æˆäºˆæƒé™ï¼Œä¾‹å¦‚ï¼š

```javascript
CREATE DATABASE dolphinscheduler DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'dolphinscheduler'@'%' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON dolphinscheduler.* TO 'dolphinscheduler'@'%';
FLUSH PRIVILEGES;
```

ğŸ’¡ Tipsï¼š**å…¶ä»–ä¾èµ–ï¼š**

- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Node.jsï¼ˆç”¨äºå‰ç«¯æ„å»ºï¼Œå¯é€‰ï¼‰ã€‚
- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Pythonï¼ˆç”¨äºéƒ¨åˆ†è„šæœ¬æ‰§è¡Œï¼Œå¯é€‰ï¼‰ã€‚



### 3.3. ç¼–è¯‘æ„å»º

#### 3.3.1. **ç¼–è¯‘åç«¯ä»£ç **ï¼š

ğŸ’¡ Tipsï¼šè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š

```javascript
mvn clean install -DskipTests -Dcheckstyle.skip -Dspotless.skip -Djacoco.skip -Dassembly.skip -Dnexus-snapshot-repository-id=public
```

ğŸ’¡ Tipsï¼šç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶åŒ…ä½äº `dolphinscheduler-assembly/target` ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ï¼š

```javascript
dolphinscheduler-3.1.3-bin.tar.gz
```

#### 3.3.2. **ç¼–è¯‘å‰ç«¯ä»£ç ï¼ˆå¯é€‰ï¼‰**ï¼š

ğŸ’¡ Tipsï¼šå¦‚æœéœ€è¦ä¿®æ”¹å‰ç«¯ç•Œé¢ï¼Œå¯ä»¥ç¼–è¯‘å‰ç«¯ä»£ç ï¼š

ğŸ’¡ Tipsï¼šç¼–è¯‘å®Œæˆåï¼Œå‰ç«¯é™æ€æ–‡ä»¶ä¼šç”Ÿæˆåˆ° `ui_ds/ui_ds` ç›®å½•ã€‚

```javascript
mvn clean install -DskipTests
```

#### 3.3.3. ç¦»çº¿å¼€å‘å¹³å°-é€‰æ‹©JDK8

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750302312003-17ed0d89-afe3-4792-881d-26a177abdaf8.png)

### 3.4. **æºç æ‰“åŒ…**

#### 3.4.1. **ç¦»çº¿å¼€å‘å¹³å°-Maven Clean**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750302631548-241d6d48-2b1e-406f-aa54-00d9a3ee9488.png)

#### 3.4.2. **ç¦»çº¿å¼€å‘å¹³å°-Maven Package**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750302649531-c1a56d7b-2ff1-4f41-a961-cd4efc7e96c1.png)

#### 3.4.3. **ç¦»çº¿å¼€å‘å¹³å°-è·å–å®‰è£…åŒ…dolphinscheduler-install.tar.gz**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750302933256-f4751a27-bd12-4a26-a044-fd2f2ea69bec.png)



### 3.5. **éƒ¨ç½²ä¸å®‰è£…**

#### 3.5.1. **è§£å‹äºŒè¿›åˆ¶åŒ…**

ğŸ’¡ Tipsï¼šå°†ç¼–è¯‘ç”Ÿæˆçš„äºŒè¿›åˆ¶åŒ…è§£å‹åˆ°éƒ¨ç½²ç›®å½•ï¼š

```javascript
tar -zxvf dolphinscheduler-3.1.3-bin.tar.gz -C /opt/dolphinscheduler
cd /opt/dolphinscheduler
```

#### 3.5.2. **é…ç½®æ•°æ®åº“**

ğŸ’¡ Tipsï¼šä¿®æ”¹æ•°æ®åº“é…ç½®æ–‡ä»¶ `conf/application.yaml`ï¼Œä¾‹å¦‚ï¼š

```javascript
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/dolphinscheduler?useUnicode=true&characterEncoding=UTF-8&useSSL=false
    username: dolphinscheduler
    password: your_password
```

#### 3.5.3. **é…ç½® ZooKeeper**

ğŸ’¡ Tipsï¼šä¿®æ”¹ ZooKeeper é…ç½®æ–‡ä»¶ `conf/zookeeper.properties`ï¼Œä¾‹å¦‚ï¼š

```javascript
zookeeper.quorum=localhost:2181
```

#### 3.5.4. **é…ç½®Zookeeper**

ğŸ’¡ Tipsï¼šä¿®æ”¹ ZooKeeper é…ç½®æ–‡ä»¶ `conf/zookeeper.properties`ï¼Œä¾‹å¦‚ï¼š

```javascript
./bin/sql/create-dolphinscheduler.sh
```

#### 3.5.5. **åˆå§‹åŒ–æ•°æ®åº“**

ğŸ’¡ Tipsï¼šè„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œ `dolphinscheduler-dao/src/main/resources/sql` ç›®å½•ä¸‹çš„ SQL æ–‡ä»¶ã€‚

#### 3.5.6. **å¯åŠ¨æœåŠ¡**

å¯åŠ¨Zookeeperï¼ˆå¦‚æœå°šæœªå¯åŠ¨ï¼‰ï¼š

```javascript
zkServer.sh start
```

å¯åŠ¨DolphinScheduleræœåŠ¡ï¼š

```javascript
./bin/start-all.sh
```

éªŒè¯æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸï¼š

```javascript
jps | grep -E "MasterServer|WorkerServer|ApiServer|AlertServer|LoggerServer"
```

#### 3.5.7. **è®¿é—® Web ç•Œé¢**





## 4. è®¿é—®ç¦»çº¿å¼€å‘å¹³å°é¡µé¢

#### 4.1.1. **å®æ—¶å¼€å‘IDE-åŠŸèƒ½æ¦‚è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305205975-d9cf2189-4260-4d48-8899-c9d54741e1bf.jpeg)

#### 4.1.2. **å®æ—¶å¼€å‘IDE-é¡¹ç›®ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305278183-924586cb-1350-477a-92d4-163fa821586a.jpeg)

#### 4.1.3. **è¿›å…¥å·¥ä½œæµé¡µé¢**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306159827-d2a72ed6-e4ad-4d05-afa3-3fbbde820746.png)

##### 4.1.3.1. **æ‹–åŠ¨ShellèŠ‚ç‚¹**

- é…ç½®èŠ‚ç‚¹åç§°ï¼šmysql1
- é…ç½®è¿è¡Œæ ‡å¿—ï¼šæ­£å¸¸
- ä»»åŠ¡ä¼˜å…ˆçº§ï¼šMEDIUM
- Workeråˆ†ç»„ï¼šDS-Worker
- é…ç½®è„šæœ¬ï¼š

```javascript
#!/bin/bash

echo "test is ok"
```

##### 4.1.3.2. **å¯åŠ¨å·¥ä½œæµ**

- å¡«å†™HTTPè¯·æ±‚çš„URLã€è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚GETã€POSTï¼‰ã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ç­‰ä¿¡æ¯ã€‚è¿™äº›å‚æ•°å°†ç”¨äºå‘HTTPæœåŠ¡å‘é€è¯·æ±‚å¹¶è·å–æ•°æ®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306590392-e718022d-fb78-44b4-8301-b584359a4842.png)

##### 4.1.3.3. **æ‹–åŠ¨ShellèŠ‚ç‚¹**

- é…ç½®èŠ‚ç‚¹åç§°ï¼šmysql2
- é…ç½®è¿è¡Œæ ‡å¿—ï¼šæ­£å¸¸
- ä»»åŠ¡ä¼˜å…ˆçº§ï¼šMEDIUM
- Workeråˆ†ç»„ï¼šDS-Worker
- å‰ç½®ä»»åŠ¡: Mysql1
- é…ç½®è„šæœ¬ï¼š

```javascript
#!/bin/bash

# è®¾ç½® Java ç¯å¢ƒ
export JAVA_HOME=/usr/bin/java
export PATH=$PATH:$JAVA_HOME/bin

# è®¾ç½®å·¥ä½œç›®å½•
WORK_DIR="/opt/shell"
cd $WORK_DIR

# æ‰§è¡Œ jar åŒ…
java -jar insert-table2-jar-with-dependencies.jar

# æ£€æŸ¥æ‰§è¡ŒçŠ¶æ€
if [ $? -eq 0 ]; then
    echo "è¡¨2æ•°æ®æ’å…¥æˆåŠŸ"
    exit 0
else
    echo "è¡¨2æ•°æ®æ’å…¥å¤±è´¥"
    exit 1
fi
```

##### 4.1.3.4. **æ‹–åŠ¨ç¬¬3ä¸ªShellèŠ‚ç‚¹**

- é…ç½®èŠ‚ç‚¹åç§°ï¼šmysql3
- é…ç½®è¿è¡Œæ ‡å¿—ï¼šæ­£å¸¸
- ä»»åŠ¡ä¼˜å…ˆçº§ï¼šMEDIUM
- Workeråˆ†ç»„ï¼šDS-Worker
- å‰ç½®ä»»åŠ¡: Mysql2
- é…ç½®è„šæœ¬ï¼š

```javascript
#!/bin/bash

# è®¾ç½® Java ç¯å¢ƒ
export JAVA_HOME=/usr/bin/java
export PATH=$PATH:$JAVA_HOME/bin

# è®¾ç½®å·¥ä½œç›®å½•
WORK_DIR="/opt/shell"
cd $WORK_DIR

# æ‰§è¡Œ jar åŒ…
java -jar insert-table3-jar-with-dependencies.jar

# æ£€æŸ¥æ‰§è¡ŒçŠ¶æ€
if [ $? -eq 0 ]; then
    echo "è¡¨3æ•°æ®æ’å…¥æˆåŠŸ"
    exit 0
else
    echo "è¡¨3æ•°æ®æ’å…¥å¤±è´¥"
    exit 1
fi
```

#### 4.1.4. **å¯åŠ¨å·¥ä½œæµ**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306718205-50919b1b-c6b2-444c-9ddf-487a39cdefe1.png)

#### 4.1.5. **æŸ¥çœ‹å·¥ä½œæµå®ä¾‹**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306794999-07166734-ecdf-43a6-a5bc-20a81d105d3c.png)

#### 4.1.6. **æŸ¥çœ‹ä»»åŠ¡å®ä¾‹**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306806465-35b84833-7643-426c-a705-633762b0d5f0.png)

#### 4.1.7. **ä»»åŠ¡æ‰§è¡Œç»“æœæ—¥å¿—**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306818984-9f5f4b4b-2cd2-4fcf-8ef9-7d9b8134af41.png)

#### 4.1.8. **é¡¹ç›®ç®¡ç†-æ–°å»ºé¡¹ç›®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305289296-a62d0f90-4fcf-49a7-a0af-eb76b9e9afbf.jpeg)

#### 4.1.9. **æ–‡ä»¶ç®¡ç†-åˆ›å»ºæ–‡ä»¶å¤¹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305310744-a2d4d11d-a869-40a0-9411-6c69e143c02d.jpeg)

#### 4.1.10. **æ–‡ä»¶ç®¡ç†-åˆ›å»ºæ–‡ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305331377-f8be5fda-32b5-4d16-8749-e6377a16a4e9.jpeg)

#### 4.1.11. **æ–‡ä»¶ç®¡ç†-ä¸Šä¼ æ–‡ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305351055-e139fc07-61dc-4f0c-9b08-e058b4f9691d.jpeg)

#### 4.1.12. **èµ„æºç®¡ç†-åˆ›å»ºæ–‡ä»¶å¤¹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305372268-568db053-c835-4c69-ab5d-a43f5e877dbd.jpeg)

#### 4.1.13. **èµ„æºç®¡ç†-ä¸Šä¼ UDFèµ„æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305384687-c082e01e-b0b1-43c1-aa06-fa5b3bc32687.jpeg)

#### 4.1.14. **å‡½æ•°ç®¡ç†-UDFå‡½æ•°**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305398103-85e8b562-9084-4977-ba90-9493ed14722e.jpeg)

#### 4.1.15. **å‡½æ•°ç®¡ç†-åˆ›å»ºUDFå‡½æ•°**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305411088-38e41b4a-de5e-44f5-9bb8-9cedc20acb77.jpeg)

#### 4.1.16. **ä»»åŠ¡ç»„ç®¡ç†-ä»»åŠ¡ç»„é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305427035-b612f9e6-1809-4dbd-acfb-323f2a07ea32.jpeg)

#### 4.1.17. **ä»»åŠ¡ç»„é…ç½®-åˆ›å»ºä»»åŠ¡ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305440440-69bb5a44-161b-440c-81b6-762c6c4c45ee.jpeg)

#### 4.1.18. **ä»»åŠ¡ç»„é…ç½®-ç¼–è¾‘ä»»åŠ¡ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305452841-fb4d90d2-6d74-4b92-b5f2-42cbb24c186a.jpeg)

#### 4.1.19. **ä»»åŠ¡ç»„ç®¡ç†-ä»»åŠ¡ç»„é˜Ÿåˆ—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305466505-8b846dda-a1eb-4025-8aa6-373a7642cc82.jpeg)

#### 4.1.20. **æ•°æ®è´¨é‡-ä»»åŠ¡ç»“æœ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305479003-ff49a926-cf68-482c-bc8b-2f0315781952.jpeg)

#### 4.1.21. **æ•°æ®è´¨é‡-è§„åˆ™ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305494497-9f225fde-0f0f-43df-ac01-fe69832d6b67.jpeg)

#### 4.1.22. **æºä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305502807-c360060a-7825-4129-bdbb-d865e46fb1ec.jpeg)

#### 4.1.23. **æºä¸­å¿ƒ-åˆ›å»ºæº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305523195-d3e80875-b48c-45ab-99a6-541fe710cf06.jpeg)

#### 4.1.24. **æºä¸­å¿ƒ-åˆ›å»ºæº-åˆ›å»ºæ•°æ®æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305550367-a358429b-c98d-4cfd-a66a-f174d2588245.jpeg)

#### 4.1.25. **ç›‘æ§ä¸­å¿ƒ-æœåŠ¡ç®¡ç†-Master**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305551675-351cba5f-13f3-45ee-b7e1-d48310f530d6.jpeg)

#### 4.1.26. **ç›‘æ§ä¸­å¿ƒ-æœåŠ¡ç®¡ç†-Worker**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305573040-3779445e-ef25-4ab8-b6b6-fa72982f7ff1.jpeg)

#### 4.1.27. **ç›‘æ§ä¸­å¿ƒ-æœåŠ¡ç®¡ç†-Alert Server**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305578150-808ed776-4a36-402a-818d-8181f98b0124.jpeg)

#### 4.1.28. **ç›‘æ§ä¸­å¿ƒ-æœåŠ¡ç®¡ç†-DB**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305604992-3c207585-c0f0-47f1-b926-4dba07609625.jpeg)

#### 4.1.29. **ç›‘æ§ä¸­å¿ƒ-ç»Ÿè®¡ç®¡ç†-Statistics**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305687712-bd497153-1b1e-4a59-a4f8-7c5d27747fc4.jpeg)

#### 4.1.30. **ç›‘æ§ä¸­å¿ƒ-ç»Ÿè®¡ç®¡ç†-å®¡è®¡æ—¥æŠ¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305689224-c524ed8c-1083-4b68-b7b3-e03cbf21db06.jpeg)

#### 4.1.31. **å®‰å…¨ä¸­å¿ƒ-ç§Ÿæˆ·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305879077-10728d60-e784-424a-82b3-f452cb1fb649.jpeg)

#### 4.1.32. **å®‰å…¨ä¸­å¿ƒ-ç§Ÿæˆ·ç®¡ç†-åˆ›å»ºç§Ÿæˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305890075-f4dea450-9d64-42b6-8403-7c65a0aea798.jpeg)

#### 4.1.33. **å®‰å…¨ä¸­å¿ƒ-ç”¨æˆ·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305901670-8a2eb9ee-bf5b-43c1-9471-fa42dc7f7f0f.jpeg)

#### 4.1.34. **å®‰å…¨ä¸­å¿ƒ-ç”¨æˆ·ç®¡ç†-åˆ›å»ºç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305912965-e3639672-59a5-464b-97c1-3c0e6afdcdef.jpeg)

#### 4.1.35. **å®‰å…¨ä¸­å¿ƒ-å‘Šè­¦ç»„ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305925708-1920cccf-a875-461c-a2f5-a8a16b7a0508.jpeg)

#### 4.1.36. **å®‰å…¨ä¸­å¿ƒ-å‘Šè­¦ç»„ç®¡ç†-åˆ›å»ºå‘Šè­¦ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305937312-be1b8e48-2e2c-4b44-b9e4-8f0b51b0a8e7.jpeg)

#### 4.1.37. **å®‰å…¨ä¸­å¿ƒ-å¿è­¦å®ä¾‹ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305947980-6fa0c5ca-e6cb-43e9-a968-5f4e547fd98e.jpeg)

#### 4.1.38. **å®‰å…¨ä¸­å¿ƒ-å¿è­¦å®ä¾‹ç®¡ç†-åˆ›å»ºå‘Šè­¦å®ä¾‹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305959880-bf1ecf44-cee3-4b78-b843-f64a3cb3a334.jpeg)

#### 4.1.39. **å®‰å…¨ä¸­å¿ƒ-Workeråˆ†ç»„ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305971651-50b6e9f1-aeb0-4929-aad2-7c1491418942.jpeg)

#### 4.1.40. **å®‰å…¨ä¸­å¿ƒ-Workeråˆ†ç»„ç®¡ç†-åˆ›å»ºWorkeråˆ†ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305983013-225dfa6c-67e8-4d42-9ec4-d1659ae658db.jpeg)

#### 4.1.41. **å®‰å…¨ä¸­å¿ƒ-Yaré˜Ÿåˆ—ç®¡ç†-åˆ›å»ºé˜Ÿåˆ—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305993981-27b257f5-aa0f-481a-a317-86df9c0d7be4.jpeg)

#### 4.1.42. **å®‰å…¨ä¸­å¿ƒ-Yaré˜Ÿåˆ—ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306005101-5c1fc946-3b65-46b0-92a8-7e62a3555ee3.jpeg)

#### 4.1.43. **å®‰å…¨ä¸­å¿ƒ-ç¯å¢ƒç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306015614-5b6a1761-1b83-4e95-ae29-d8b2e5c1b01b.jpeg)

#### 4.1.44. **å®‰å…¨ä¸­å¿ƒ-ç¯å¢ƒç®¡ç†-åˆ›å»ºç¯å¢ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306028920-0e5c64ae-c443-4023-a700-74e91fa26f16.jpeg)

#### 4.1.45. **å®‰å…¨ä¸­å¿ƒ-é›†ç¾¤ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306041467-9880b817-60fe-44b4-8b8c-5f619a80440d.jpeg)

#### 4.1.46. **å®‰å…¨ä¸­å¿ƒ-é›†ç¾¤ç®¡ç†-åˆ›å»ºé›†ç¾¤**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306053760-00ca3bea-b346-4592-802c-b533d4f9c398.jpeg)

#### 4.1.47. **å®‰å…¨ä¸­å¿ƒ-K8Så‘½åç©ºé—´ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306066425-7ad82079-c1c0-471b-a5c1-b83398190ed3.jpeg)

#### 4.1.48. **å®‰å…¨ä¸­å¿ƒ-K8Så‘½åç©ºé—´ç®¡ç†-åˆ›å»ºå‘½åç©ºé—´**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306075970-eea91e56-f492-44b1-bbb3-23601a4c878a.jpeg)

#### 4.1.49. **å®‰å…¨ä¸­å¿ƒ-ä»¤ç‰Œç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306090180-dd6c4e43-4e4e-4bd8-b2a8-aa9548b6a1b7.jpeg)

#### 4.1.50. **å®‰å…¨ä¸­å¿ƒ-ä»¤ç‰Œç®¡ç†â€”åˆ›å»ºä»¤ç‰Œ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750306104175-0dbb4054-6592-44f5-a4dd-f7fb3b229e1f.jpeg)





## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **ç¼–è¯‘å¤±è´¥**ï¼š

- ç¡®ä¿ Maven ç‰ˆæœ¬ç¬¦åˆè¦æ±‚ï¼ˆ3.6+ï¼‰ã€‚
- ç¡®ä¿ç½‘ç»œç¯å¢ƒè‰¯å¥½ï¼ˆå¯èƒ½éœ€è¦é…ç½® Maven é•œåƒï¼‰ã€‚
- å¦‚æœé‡åˆ°ä¾èµ–å†²çªï¼Œå¯ä»¥å°è¯•æ¸…ç†æœ¬åœ° Maven ä»“åº“ï¼š

```bash
mvn dependency:purge-local-repository
```

### 5.2. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼š

- æ£€æŸ¥æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®ä¿æ•°æ®åº“æœåŠ¡å·²å¯åŠ¨ï¼Œå¹¶ä¸”ç”¨æˆ·æƒé™é…ç½®æ­£ç¡®ã€‚
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº†æ•°æ®åº“ç«¯å£ï¼ˆé»˜è®¤ 3306ï¼‰ã€‚

### 5.3. **ZooKeeper è¿æ¥å¤±è´¥**ï¼š

- æ£€æŸ¥ ZooKeeper æœåŠ¡æ˜¯å¦å·²å¯åŠ¨ã€‚
- æ£€æŸ¥ ZooKeeper é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº† ZooKeeper ç«¯å£ï¼ˆé»˜è®¤ 2181ï¼‰ã€‚

### 5.4. **æœåŠ¡å¯åŠ¨å¤±è´¥**ï¼š

- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ `logs/dolphinscheduler-*.log` è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚
- ç¡®ä¿ç³»ç»Ÿèµ„æºå……è¶³ï¼ˆå†…å­˜ã€CPU ç­‰ï¼‰ã€‚
- ç¡®ä¿ç«¯å£æœªè¢«å ç”¨ï¼ˆé»˜è®¤ç«¯å£ï¼š12345ã€25333ã€50050 ç­‰ï¼‰ã€‚





------





**ç¦»çº¿å¼€å‘å¹³å°-HTTPæ•°æ®åŒæ­¥åˆ°Dorisèƒ½åŠ›æ¼”ç¤º**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. ç¦»çº¿å¼€å‘å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Tr3QziE3a/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. ç¦»çº¿å¼€å‘å¹³å°åŸºäºå¼€æºé¡¹ç›®DolphinSchedulerå»ºè®¾ã€‚

DolphinScheduler æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œæ”¯æŒå¤æ‚å·¥ä½œæµç¼–æ’ã€ä»»åŠ¡ç›‘æ§ä¸å‘Šè­¦ï¼Œé€‚ç”¨äºç¦»çº¿æ•°æ®å¤„ç†åœºæ™¯ã€‚

**2.1.1 å¯è§†åŒ–æ“ä½œ**

- æä¾›ç›´è§‚çš„å¯è§†åŒ–ç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡ç®€å•çš„æ‹–æ‹½å’Œé…ç½®æ“ä½œï¼Œå°±èƒ½è½»æ¾åˆ›å»ºå¤æ‚çš„å·¥ä½œæµä»»åŠ¡ï¼Œæ— éœ€ç¼–å†™å¤§é‡ä»£ç ï¼Œé™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡ã€‚

**2.1.2 ä»»åŠ¡è°ƒåº¦ä¸ä¾èµ–ç®¡ç†**

- æ”¯æŒå¤šç§ä»»åŠ¡ç±»å‹ï¼Œå¦‚ Shellã€SQLã€Python ç­‰ï¼Œèƒ½æ»¡è¶³ä¸åŒæ•°æ®å¤„ç†åœºæ™¯çš„éœ€æ±‚ã€‚
- å¯çµæ´»è®¾ç½®ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿ä»»åŠ¡æŒ‰ç…§é¢„å®šé¡ºåºæ‰§è¡Œï¼Œæœ‰æ•ˆå¤„ç†å¤æ‚çš„æ•°æ®å¤„ç†æµç¨‹ã€‚

**2.1.3 èµ„æºç®¡ç†**

- èƒ½å¤Ÿå¯¹è®¡ç®—èµ„æºè¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œåˆ†é…ï¼Œæ ¹æ®ä»»åŠ¡çš„èµ„æºéœ€æ±‚åˆç†è°ƒåº¦ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ï¼Œé¿å…èµ„æºæµªè´¹ã€‚

**2.1.4 ç›‘æ§ä¸å‘Šè­¦**

- å®æ—¶ç›‘æ§ä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬ä»»åŠ¡è¿›åº¦ã€è¿è¡Œæ—¶é•¿ã€èµ„æºä½¿ç”¨æƒ…å†µç­‰ã€‚
- å½“ä»»åŠ¡å‡ºç°å¼‚å¸¸æ—¶ï¼Œèƒ½åŠæ—¶å‘å‡ºå‘Šè­¦é€šçŸ¥ï¼Œæ–¹ä¾¿è¿ç»´äººå‘˜å¿«é€Ÿå“åº”å’Œå¤„ç†é—®é¢˜ï¼Œä¿éšœæ•°æ®å¤„ç†çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚

**2.1.5 å¤šç§Ÿæˆ·æ”¯æŒ**

- æ”¯æŒå¤šç§Ÿæˆ·æ¨¡å¼ï¼Œä¸åŒç§Ÿæˆ·å¯ä»¥åœ¨åŒä¸€ä¸ªå¹³å°ä¸Šç‹¬ç«‹è¿›è¡Œä»»åŠ¡å¼€å‘å’Œç®¡ç†ï¼Œå®ç°èµ„æºéš”ç¦»å’Œæƒé™æ§åˆ¶ï¼Œæ»¡è¶³ä¼ä¸šå†…ä¸åŒéƒ¨é—¨æˆ–å›¢é˜Ÿçš„ä½¿ç”¨éœ€æ±‚ã€‚



ğŸ”¹DolphinSchedulerå¼€æºé¡¹ç›®ï¼šhttps://github.com/apache/DolphinScheduler

ğŸ”¹æ–‡æ¡£åœ°å€ï¼šhttps://dolphinscheduler.apache.org/zh-cn/docs/3.2.1/guide/homepage



### 2.2. ç¦»çº¿å¼€å‘å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- åˆ†å¸ƒå¼æ˜“æ‰©å±•æ¶æ„
- å¯è§†åŒ–DAGå·¥ä½œæµç¼–æ’
- å¤šç§Ÿæˆ·ä¸æƒé™ç®¡ç†
- ä»»åŠ¡ç±»å‹ä¸°å¯Œ
- é«˜å¯é æ€§ä¸å®¹é”™æœºåˆ¶
- çµæ´»çš„è°ƒåº¦ç­–ç•¥
- ä»»åŠ¡çŠ¶æ€ç›‘æ§ä¸æ—¥å¿—
- æ•°æ®æºé›†æˆèƒ½åŠ›
- ç‰ˆæœ¬æ§åˆ¶ä¸çŠ¶æ€ç®¡ç†
- ç”Ÿæ€å…¼å®¹æ€§





## 3. AllDataæ•°æ®ä¸­å°-ç¦»çº¿å¼€å‘å¹³å°ï¼ˆDolphinSchedulerï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486680578-dc66c520-d870-4506-8903-d884dbb6a949.jpeg)

### 3.1. æºç è·å–

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.2. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ Tipsï¼š**æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- æ”¯æŒ Linux æˆ– macOS ç³»ç»Ÿï¼ˆæ¨èä½¿ç”¨ Ubuntu/CentOS æˆ– macOSï¼‰ã€‚
- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…åŸºç¡€ä¾èµ–å·¥å…·ï¼ˆå¦‚ `git`ã€`curl`ã€`wget` ç­‰ï¼‰ã€‚



 ğŸ’¡Tipsï¼š**Javaç¯å¢ƒ**ï¼š

- å®‰è£… JDK 1.8 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨èä½¿ç”¨ JDK 11ï¼‰ã€‚
- é…ç½®ç¯å¢ƒå˜é‡ `JAVA_HOME`ï¼Œå¹¶å°† `$JAVA_HOME/bin` æ·»åŠ åˆ° `PATH`ã€‚
- éªŒè¯å®‰è£…ï¼šjava -version



ğŸ’¡ Tipsï¼š**Maven ç¯å¢ƒ**ï¼š

- å®‰è£… Maven 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- é…ç½®ç¯å¢ƒå˜é‡ `MAVEN_HOME`ï¼Œå¹¶å°† `$MAVEN_HOME/bin` æ·»åŠ åˆ° `PATH`ã€‚
- éªŒè¯å®‰è£…ï¼šmvn -v



ğŸ’¡ Tipsï¼š**æ•°æ®åº“**ï¼š

- æ”¯æŒ MySQLæˆ– PostgreSQLã€‚
- åˆ›å»ºæ•°æ®åº“ç”¨æˆ·å¹¶æˆäºˆæƒé™ï¼Œä¾‹å¦‚ï¼š

```javascript
CREATE DATABASE dolphinscheduler DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'dolphinscheduler'@'%' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON dolphinscheduler.* TO 'dolphinscheduler'@'%';
FLUSH PRIVILEGES;
```

ğŸ’¡ Tipsï¼š**å…¶ä»–ä¾èµ–ï¼š**

- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Node.jsï¼ˆç”¨äºå‰ç«¯æ„å»ºï¼Œå¯é€‰ï¼‰ã€‚
- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Pythonï¼ˆç”¨äºéƒ¨åˆ†è„šæœ¬æ‰§è¡Œï¼Œå¯é€‰ï¼‰ã€‚



### 3.3. ç¼–è¯‘æ„å»º

#### 3.3.1. **ç¼–è¯‘åç«¯ä»£ç **ï¼š

ğŸ’¡ Tipsï¼šè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š

```javascript
mvn clean install -DskipTests -Dcheckstyle.skip -Dspotless.skip -Djacoco.skip -Dassembly.skip -Dnexus-snapshot-repository-id=public
```

ğŸ’¡ Tipsï¼šç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶åŒ…ä½äº `dolphinscheduler-assembly/target` ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ï¼š

```javascript
dolphinscheduler-3.1.3-bin.tar.gz
```

#### 3.3.2. **ç¼–è¯‘å‰ç«¯ä»£ç ï¼ˆå¯é€‰ï¼‰**ï¼š

ğŸ’¡ Tipsï¼šå¦‚æœéœ€è¦ä¿®æ”¹å‰ç«¯ç•Œé¢ï¼Œå¯ä»¥ç¼–è¯‘å‰ç«¯ä»£ç ï¼š

ğŸ’¡ Tipsï¼šç¼–è¯‘å®Œæˆåï¼Œå‰ç«¯é™æ€æ–‡ä»¶ä¼šç”Ÿæˆåˆ° `ui_ds/ui_ds` ç›®å½•ã€‚

```javascript
mvn clean install -DskipTests
```



### 3.4. **éƒ¨ç½²ä¸å®‰è£…**

#### 3.4.1. **è§£å‹äºŒè¿›åˆ¶åŒ…**

ğŸ’¡ Tipsï¼šå°†ç¼–è¯‘ç”Ÿæˆçš„äºŒè¿›åˆ¶åŒ…è§£å‹åˆ°éƒ¨ç½²ç›®å½•ï¼š

```javascript
tar -zxvf dolphinscheduler-3.1.3-bin.tar.gz -C /opt/dolphinscheduler
cd /opt/dolphinscheduler
```

#### 3.4.2. **é…ç½®æ•°æ®åº“**

ğŸ’¡ Tipsï¼šä¿®æ”¹æ•°æ®åº“é…ç½®æ–‡ä»¶ `conf/application.yaml`ï¼Œä¾‹å¦‚ï¼š

```javascript
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/dolphinscheduler?useUnicode=true&characterEncoding=UTF-8&useSSL=false
    username: dolphinscheduler
    password: your_password
```

#### 3.4.3. **é…ç½® ZooKeeper**

ğŸ’¡ Tipsï¼šä¿®æ”¹ ZooKeeper é…ç½®æ–‡ä»¶ `conf/zookeeper.properties`ï¼Œä¾‹å¦‚ï¼š

```javascript
zookeeper.quorum=localhost:2181
```

#### 3.4.4. **é…ç½®Zookeeper**

ğŸ’¡ Tipsï¼šä¿®æ”¹ ZooKeeper é…ç½®æ–‡ä»¶ `conf/zookeeper.properties`ï¼Œä¾‹å¦‚ï¼š

```javascript
./bin/sql/create-dolphinscheduler.sh
```

#### 3.4.5. **åˆå§‹åŒ–æ•°æ®åº“**

ğŸ’¡ Tipsï¼šè„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œ `dolphinscheduler-dao/src/main/resources/sql` ç›®å½•ä¸‹çš„ SQL æ–‡ä»¶ã€‚

#### 3.4.6. **å¯åŠ¨æœåŠ¡**

å¯åŠ¨Zookeeperï¼ˆå¦‚æœå°šæœªå¯åŠ¨ï¼‰ï¼š

```javascript
zkServer.sh start
```

å¯åŠ¨DolphinScheduleræœåŠ¡ï¼š

```javascript
./bin/start-all.sh
```

éªŒè¯æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸï¼š

```javascript
jps | grep -E "MasterServer|WorkerServer|ApiServer|AlertServer|LoggerServer"
```

## 4. è®¿é—®ç¦»çº¿å¼€å‘å¹³å°é¡µé¢

### 4.1. ç¦»çº¿å¼€å‘å¹³å°-åŠŸèƒ½æ¦‚è§ˆ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305205975-d9cf2189-4260-4d48-8899-c9d54741e1bf.jpeg)

### 4.2. ç¦»çº¿å¼€å‘å¹³å°-é¡¹ç›®ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750305278183-924586cb-1350-477a-92d4-163fa821586a.jpeg)

### 4.3. è¿›å…¥å·¥ä½œæµé¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750306159827-d2a72ed6-e4ad-4d05-afa3-3fbbde820746.png)

### 4.4. Httpå¯¼å…¥Dorisçš„æ¡ˆä¾‹

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755775692390-517edc22-0fc8-4e06-a94a-22b22ed0ae0b.png)

### 4.5. å¯è§†åŒ–é›†æˆSeatunnelä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755775734866-77e0ecf5-a8d1-4634-a034-f598cd333efd.png)

### 4.6. é…ç½®HttpåŒæ­¥åˆ°Dorisçš„Yaml

env {

  parallelism = 1

  job.mode = "BATCH"

}



source {

  Http {

â€‹    plugin_output = "stock"

â€‹    url = "http://43.138.156.44:5173/api/data/api/services/v2/test/v1?pageNum=1&pageSize=20"

â€‹    method = "GET"

â€‹    headers {

â€‹      Authorization = "Basic XXX"

â€‹      Content-Type = "application/json"

â€‹    }

â€‹    body = """{"IT_WERKS": [{"VALUE": "1080"}]}"""

â€‹    format = "json"

â€‹    content_field = "$.data.data.*"

â€‹    schema {

â€‹      fields {

â€‹        ACCOUNT_ID = "int"

â€‹        ACCOUNT_DESCRIPTION = "string"

â€‹        ACCOUNT_PARENT = "int"

â€‹        ACCOUNT_TYPE = "string"

â€‹        ACCOUNT_ROLLUP = "string"

â€‹        CUSTOM_MEMBERS = "string"

â€‹      }

â€‹    }

  }

}



sink {

â€‹    Doris {

â€‹        fenodes = "8g003:18030"

â€‹        username = "root"

â€‹        password = "123456"

â€‹        database = "doris_mysql_db"

â€‹        table = "account"

â€‹        sink.enable-2pc = "true"

â€‹        sink.label-prefix = "test_json"

â€‹        doris.config = {

â€‹            format="json"

â€‹            read_json_by_line="true"

â€‹        }

â€‹    }

}

### 4.7.  é…ç½®è¯¦æƒ…

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/53404148/1755776010958-a15dd393-1760-4864-9496-2d8a8d9d55db.jpeg)

### 4.8. å¯åŠ¨Httpåˆ°Dorisä»»åŠ¡åŒæ­¥å·¥ä½œæµ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755776033352-b8b423df-8ec1-4646-bedb-b0b3bd24744b.png)

### 4.9. ä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼ŒåŒæ­¥æ•°æ®æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755776063499-cc6bcc29-edff-46cc-bde8-46ca7db88c9e.png)

### 4.10. æ—¥å¿—æŸ¥çœ‹åŒæ­¥æ“ä½œè®°å½•

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755776090384-bf9ccf0c-46ca-4773-8352-0edbd702f3de.png)



### 4.11. æˆåŠŸä»HttpåŒæ­¥8æ¡æ•°æ®åˆ°Doris

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755776112340-8412ca82-f107-4980-ab8d-db15a668fde3.png)

### 4.12. æ•°æ®æºå¹³å°æŸ¥çœ‹æ•°æ®

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1755776129580-ae13b7b7-868b-47f3-92b1-b5238462639e.png)

## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **ç¼–è¯‘å¤±è´¥**ï¼š

- ç¡®ä¿ Maven ç‰ˆæœ¬ç¬¦åˆè¦æ±‚ï¼ˆ3.6+ï¼‰ã€‚
- ç¡®ä¿ç½‘ç»œç¯å¢ƒè‰¯å¥½ï¼ˆå¯èƒ½éœ€è¦é…ç½® Maven é•œåƒï¼‰ã€‚
- å¦‚æœé‡åˆ°ä¾èµ–å†²çªï¼Œå¯ä»¥å°è¯•æ¸…ç†æœ¬åœ° Maven ä»“åº“ï¼š

```bash
mvn dependency:purge-local-repository
```

### 5.2. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼š

- æ£€æŸ¥æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®ä¿æ•°æ®åº“æœåŠ¡å·²å¯åŠ¨ï¼Œå¹¶ä¸”ç”¨æˆ·æƒé™é…ç½®æ­£ç¡®ã€‚
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº†æ•°æ®åº“ç«¯å£ï¼ˆé»˜è®¤ 3306ï¼‰ã€‚

### 5.3. **ZooKeeper è¿æ¥å¤±è´¥**ï¼š

- æ£€æŸ¥ ZooKeeper æœåŠ¡æ˜¯å¦å·²å¯åŠ¨ã€‚
- æ£€æŸ¥ ZooKeeper é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº† ZooKeeper ç«¯å£ï¼ˆé»˜è®¤ 2181ï¼‰ã€‚

### 5.4. **æœåŠ¡å¯åŠ¨å¤±è´¥**ï¼š

- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ `logs/dolphinscheduler-*.log` è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚
- ç¡®ä¿ç³»ç»Ÿèµ„æºå……è¶³ï¼ˆå†…å­˜ã€CPU ç­‰ï¼‰ã€‚
- ç¡®ä¿ç«¯å£æœªè¢«å ç”¨ï¼ˆé»˜è®¤ç«¯å£ï¼š12345ã€25333ã€50050 ç­‰ï¼‰ã€‚





------

# ç¦»çº¿å¼€å‘å¹³å°(dolphinScheduler)-HdfsFile åŒæ­¥ Doris

# 1. ç¯å¢ƒå‡†å¤‡

- HDFS
- Doris
- seatunnel

## 1.1. Seatunnel

- ä¸‹è½½åœ°å€ï¼šhttps://seatunnel.apache.org/download
- ç‰ˆæœ¬ï¼š2.3.8

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312414296-bed442aa-1e13-4af6-8a72-d10172ad3d3d.png)

- ä¸‹è½½å®Œæˆåä¸Šä¼ åˆ°æœåŠ¡å™¨å¹¶è§£å‹

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312441159-957f278a-a2b1-4041-b950-458f69ab02e6.png)

# 2. æ•°æ®å‡†å¤‡

## 2.1. hdfs file

- ç¼–è¾‘ json æ–‡ä»¶

```json
{"ACCOUNT_ID":522,"ACCOUNT_PARENT":6,"ACCOUNT_DESCRIPTION":"eWNhia4ITXUTUU5583NGRvGAjyI=","ACCOUNT_TYPE":"FrRkEo1qCI0HXp\/p6AXHGw==","ACCOUNT_ROLLUP":"22","CUSTOM_MEMBERS":"3"}
```

- ä¸Šä¼ åˆ° HDFSï¼Œå¦‚ä¸‹å›¾é¢„è§ˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762311873832-91dca75b-f178-467b-ac59-334392aeb09e.png)

## 2.2. Doris æ•°æ®åº“è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762311950534-331ba46d-c813-43a4-ba80-5b65497dc2d9.png)

# 3. ç¦»çº¿å¼€å‘å¹³å°

è¿›å…¥ç¦»çº¿å¼€å‘å¹³å°

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312093061-59664d7f-686d-4ee2-a27d-0a3c8fbf7921.png)

## 3.1. é…ç½®ç¯å¢ƒ

- ç‚¹å‡» å®‰å…¨ä¸­å¿ƒ - ç¯å¢ƒç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312497755-8c4deb15-e6e2-40ee-9234-0793b6cdc4d6.png)

- ç¼–è¾‘ SEATUNNEL_HOMEï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»º
- å°†æœåŠ¡å™¨ JDK ç¯å¢ƒå’Œ SEATUNNEL è·¯å¾„é…ç½®è¿›å»

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312534368-26627b78-63a0-46f9-8029-d07e2dfb28ab.png)

## 3.2. æ–°å»ºé¡¹ç›®é…ç½®

- ç‚¹å‡» é¡¹ç›®ç®¡ç† - åˆ›å»ºé¡¹ç›®

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312244219-7b99652a-1346-4814-909c-ebfaf3c591a3.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312617331-7786fed2-4fd2-4788-9821-bac762d48154.png)

## 3.3. è¿›å…¥é¡¹ç›®ç®¡ç†

ç‚¹å‡»é¡¹ç›®åç§°å³å¯è¿›å…¥é¡¹ç›®ç®¡ç†ç•Œé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312642093-45f68d91-ddaa-4531-85ee-e6ed86d377b9.png)

## 3.4. åˆ›å»ºå·¥ä½œæµ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312741239-822d729f-f7b0-4273-889f-b17adf329315.png)

- é€‰æ‹© æ•°æ®é›†æˆ - seatunnelï¼Œæ‹–æ‹½åˆ°å·¥ä½œåŒºä¸­

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312794691-af06aa0c-1fcc-4e61-99cb-8559ef486cad.png)

- é…ç½® seatunnel

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762312978129-a26499f6-70e5-405c-8db2-db0f1dfd4e93.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313081392-6522947f-81a1-4d44-95bf-9bba9b61c1cb.png)

- è„šæœ¬å†…å®¹
- ç”¨æˆ·æ ¹æ®å®é™…éœ€æ±‚ä¿®æ”¹hdfsé…ç½®ï¼Œschemaå¯¹åº”å­—æ®µï¼Œä»¥åŠDorisé…ç½®ä¿¡æ¯

```plain
env {
  parallelism = 1
  job.mode = "BATCH"
}

source {
  HdfsFile {
    path = "/sanguo/cluster_host2.json"
    file_format_type = "json"
    fs.defaultFS = "hdfs://32g005:18020"
    schema {
      fields {
        ACCOUNT_ID = "int"
        ACCOUNT_DESCRIPTION = "string"
        ACCOUNT_PARENT = "int"
        ACCOUNT_TYPE = "string"
        ACCOUNT_ROLLUP = "string"
        CUSTOM_MEMBERS = "string"
      }
    }
  }
}

sink {
    Doris {
        fenodes = "8g003:18030"
        username = "root"
        password = "123456"
        database = "db1"
        table = "account"
        sink.enable-2pc = "true"
        sink.label-prefix = "test_json"
        doris.config = {
            format="json"
            read_json_by_line="true"
        }
    }
}
```

- ç¼–è¾‘å®Œæˆåç‚¹å‡» ä¿å­˜

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313189316-2d1c6b51-3bd2-48f1-965d-c8b7806bf85a.png)

- é…ç½®åŸºæœ¬ä¿¡æ¯ ç‚¹å‡»ç¡®å®š

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313208251-12aeeb5f-3d94-490c-8a1b-9408e2dddd6d.png)

## 3.5. ä¸Šçº¿å·¥ä½œæµ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313303728-a65342f0-d559-4436-979b-92ef65947dee.png)

- æˆ‘ä»¬æ‰‹åŠ¨æµ‹è¯•ï¼Œä¸éœ€è¦é…ç½®å®šæ—¶ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313315540-0d506eed-fead-444e-95bc-e0435943617b.png)

## 3.6. å¯åŠ¨å·¥ä½œæµ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313330475-dd3be002-e3b0-42dd-a93c-208320d47498.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313371108-1eb54848-f9b3-4ecd-8c61-08a1f5aea94c.png)

## 3.7. æŸ¥çœ‹å·¥ä½œæµå®ä¾‹

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313393164-61c79bdd-b3e2-4ff2-b7f8-c38cc35389d7.png)

## 3.8. æŸ¥çœ‹ä»»åŠ¡ç¤ºä¾‹

- å¯ä»¥çœ‹åˆ°æ­¤æ—¶ä»»åŠ¡æ‰§è¡Œå®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313409795-99956324-9a69-4b94-9ac5-2c4953fd84ce.png)

## 3.9. æŸ¥çœ‹Dorisæ•°æ®åº“

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1762313477429-7d8fafa1-8db0-4e84-b799-432dee1d0488.png)

# 4. QA

## 4.1. HdfsFileé…ç½®

å‚è€ƒé“¾æ¥ï¼šhttps://seatunnel.incubator.apache.org/zh-CN/docs/2.3.12/connector-v2/source/HdfsFile



# å…«ã€æ•°æ®æ²»ç†å¹³å°

**æ•°æ®æƒé™ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æƒé™ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°åœ¨æ•°æ®æƒé™ç®¡ç†æ–¹é¢æä¾›äº†å…¨é¢è€Œå¼ºå¤§çš„åŠŸèƒ½ã€‚ä¼ä¸šå¯ä»¥ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ã€å®Œæ•´æ€§å’Œå¯ç”¨æ€§ï¼Œæœ‰æ•ˆé˜²æ­¢æ•°æ®æ³„éœ²å’Œæ»¥ç”¨ï¼Œä¸ä»…æå‡äº†ä¼ä¸šçš„æ•°æ®æƒé™ç®¡ç†æ°´å¹³ï¼Œè¿˜ä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹å’Œä¸šåŠ¡å‘å±•æä¾›äº†æœ‰åŠ›ä¿éšœã€‚

### 2.1. æ•°æ®æƒé™ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¤šå±‚çº§æ•°æ®æˆæƒ
- åŠ¨æ€è„±æ•ä¸åŠ å¯†èƒ½åŠ›
- ç»†ç²’åº¦æƒé™æ§åˆ¶æœºåˆ¶



### 2.2. åŠŸèƒ½èƒ½åŠ›æ¼”ç¤º

**ç®¡ç†å‘˜ç”¨æˆ·å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®åº“ã€æ•°æ®è¡¨ã€æ•°æ®å­—æ®µ**

âš ï¸æ³¨æ„ç»™è§’è‰²æˆæƒå…·ä½“çš„æ•°æ®åº“ã€æ•°æ®è¡¨ã€æ•°æ®å­—æ®µæ—¶ï¼Œæˆæƒä¿å­˜ï¼›

âš ï¸å¿…é¡»ç‚¹å‡»åˆ·æ–°ç¼“å­˜æ‰ç”Ÿæ•ˆï¼Œå¦åˆ™å…¶ä»–è§’è‰²çœ‹åˆ°çš„è¿˜æ˜¯ä¹‹å‰çš„æ•°æ®åº“/è¡¨/å­—æ®µæƒé™ï¼›

âš ï¸æ³¨æ„ä¸åŒçš„åŠŸèƒ½åšçš„æ•°æ®æˆæƒé™åˆ¶ä¸ä¸€æ ·ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥äºŒå¼€å®šåˆ¶æƒé™ã€‚



- æ•°æ®ç›®å½•ï¼ˆè¡¨çº§åˆ«ï¼‰
- æ•°ä»“æŸ¥è¯¢ä¸­å¿ƒï¼ˆè¡¨çº§åˆ«ï¼‰
- BIæŠ¥è¡¨ç®¡ç†ï¼ˆè¡¨çº§åˆ«ï¼‰
- æ•°æ®åœ°å›¾ï¼ˆå­—æ®µçº§åˆ«ï¼‰
- æ•°æ®æ ‡å‡†ç®¡ç†ï¼ˆå­—æ®µçº§åˆ«ï¼‰
- æ•°æ®è´¨é‡ç®¡ç†ï¼ˆå­—æ®µçº§åˆ«ï¼‰
- æ•°æ®æœåŠ¡ç®¡ç†ï¼ˆå­—æ®µçº§åˆ«ï¼‰



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æƒé™ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **ç¡¬ä»¶è¦æ±‚**ï¼šç¡®ä¿æœåŠ¡å™¨å…·å¤‡è¶³å¤Ÿçš„CPUã€å†…å­˜ï¼ˆå»ºè®®è‡³å°‘8GBï¼‰å’Œç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘50GBï¼‰ï¼Œä»¥æ»¡è¶³æ•°æ®æƒé™ç®¡ç†åŠŸèƒ½çš„è¿è¡Œéœ€æ±‚ã€‚

ğŸ’¡ **è½¯ä»¶ä¾èµ–**ï¼š

- **æ“ä½œç³»ç»Ÿ**ï¼šæ¨èä½¿ç”¨Linuxå‘è¡Œç‰ˆï¼ˆå¦‚Ubuntu/CentOSï¼‰ã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 11æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œéœ€é…ç½®JAVA_HOMEç¯å¢ƒå˜é‡ã€‚
- **Maven**ï¼š3.6.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºé¡¹ç›®æ„å»ºã€‚
- **Git**ï¼šç”¨äºä»£ç å…‹éš†ä¸ç‰ˆæœ¬ç®¡ç†ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œéœ€æå‰å®‰è£…å¹¶é…ç½®ã€‚
- **å…¶ä»–å·¥å…·**ï¼šNode.jsï¼ˆéƒ¨åˆ†å‰ç«¯æ¨¡å—ä¾èµ–ï¼‰ã€Dockerï¼ˆå¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰ã€‚

ğŸ’¡ **ç½‘ç»œé…ç½®**ï¼šç¡®ä¿æœåŠ¡å™¨å¯ä»¥è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œä»¥ä¾¿ä¸‹è½½ä¾èµ–åº“å’Œæ’ä»¶ã€‚åŒæ—¶ï¼Œæ ¹æ®å®‰å…¨éœ€æ±‚é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œä»…å¼€æ”¾å¿…è¦çš„ç«¯å£ã€‚



### 3.2. è·å–æºç 

ğŸ’¡**è®¿é—®é¡¹ç›®ä»“åº“**ï¼šAllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆçš„æºç é€šå¸¸é€šè¿‡ç§æœ‰ä»“åº“æˆ–æˆæƒæ¸ é“è·å–ã€‚ç¡®ä¿æ‚¨æœ‰åˆæ³•çš„è®¿é—®æƒé™ã€‚



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **é…ç½®Mavené•œåƒ**ï¼š

- è‹¥ä¾èµ–ä¸‹è½½ç¼“æ…¢ï¼Œå¯é…ç½®Mavené•œåƒä»“åº“ï¼ˆå¦‚é˜¿é‡Œäº‘é•œåƒï¼‰ä»¥åŠ é€Ÿä¸‹è½½è¿‡ç¨‹ã€‚

ğŸ’¡ **æ‰§è¡Œæ„å»ºå‘½ä»¤**ï¼š

- åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡ŒMavenæ„å»ºå‘½ä»¤ï¼Œå¦‚`mvn clean install`ã€‚è¿™å°†ç¼–è¯‘æºä»£ç ã€è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆå¯éƒ¨ç½²çš„åŒ…ã€‚

ğŸ’¡ **éªŒè¯æ„å»ºç»“æœ**ï¼š

- æ£€æŸ¥æ„å»ºè¾“å‡ºç›®å½•ï¼ˆå¦‚`target/`ï¼‰ä¸‹æ˜¯å¦ç”Ÿæˆäº†é¢„æœŸçš„JARåŒ…æˆ–WARåŒ…ã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–ï¼š**

- æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ˆä½äº`install/sql/`ç›®å½•ä¸‹ï¼‰ï¼Œåˆ›å»ºå¿…è¦çš„è¡¨ç»“æ„å’Œæ•°æ®ã€‚
- ä¿®æ”¹åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆå¦‚`application.properties`æˆ–`application.yml`ï¼‰ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œç¡®ä¿åº”ç”¨å¯ä»¥è¿æ¥åˆ°æ•°æ®åº“ã€‚

#### 3.4.2. **æœåŠ¡å¯åŠ¨é¡ºåº**ï¼š

- **æ³¨å†Œä¸­å¿ƒï¼ˆEurekaï¼‰**ï¼šé¦–å…ˆå¯åŠ¨æ³¨å†Œä¸­å¿ƒæœåŠ¡ï¼Œä»¥ä¾¿å…¶ä»–æœåŠ¡å¯ä»¥æ³¨å†Œåˆ°å…¶ä¸­ã€‚
- **é…ç½®ä¸­å¿ƒï¼ˆConfigï¼‰**ï¼šå¯åŠ¨é…ç½®ä¸­å¿ƒæœåŠ¡ï¼Œç”¨äºç®¡ç†åº”ç”¨çš„é…ç½®ä¿¡æ¯ã€‚
- **ç½‘å…³æœåŠ¡ï¼ˆGatewayï¼‰**ï¼šå¯åŠ¨ç½‘å…³æœåŠ¡ï¼Œä½œä¸ºåº”ç”¨çš„å…¥å£ç‚¹ï¼Œè´Ÿè´£è·¯ç”±è¯·æ±‚åˆ°å„ä¸ªå¾®æœåŠ¡ã€‚
- **æ•°æ®æƒé™ç®¡ç†æœåŠ¡**ï¼šæœ€åå¯åŠ¨æ•°æ®æƒé™ç®¡ç†æœåŠ¡ï¼Œè¯¥æœåŠ¡ä¾èµ–äºä¸Šè¿°åŸºç¡€æœåŠ¡ã€‚

#### 3.4.3. **å‰ç«¯éƒ¨ç½²**ï¼š

- è‹¥é¡¹ç›®åŒ…å«å‰ç«¯æ¨¡å—ï¼Œéœ€ç¼–è¯‘å‰ç«¯ä»£ç å¹¶éƒ¨ç½²åˆ°Nginxæˆ–Tomcatç­‰WebæœåŠ¡å™¨ä¸Šã€‚
- é…ç½®WebæœåŠ¡å™¨çš„åå‘ä»£ç†è§„åˆ™ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°åç«¯ç½‘å…³æœåŠ¡ã€‚

#### 3.4.4. **æ—¥å¿—é…ç½®**ï¼š

- ä¿®æ”¹æ—¥å¿—é…ç½®æ–‡ä»¶ï¼ˆå¦‚`logback.xml`ï¼‰ï¼Œé…ç½®æ—¥å¿—è¾“å‡ºè·¯å¾„å’Œçº§åˆ«ï¼ˆå¦‚INFOæˆ–DEBUGï¼‰ã€‚
- ç¡®ä¿æ—¥å¿—æ–‡ä»¶å­˜å‚¨åœ¨å®‰å…¨çš„ä½ç½®ï¼Œå¹¶å®šæœŸå¤‡ä»½ä»¥é˜²æ­¢æ—¥å¿—ä¸¢å¤±ã€‚



## 4. å¯é€‰é…ç½®

#### 4.1.1. **æ•°æ®å¤‡ä»½ä¸æ¢å¤**ï¼š

- é…ç½®æ•°æ®å¤‡ä»½è®¡åˆ’ï¼Œå®šæœŸæ‰§è¡Œå¤‡ä»½æ“ä½œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚
- éªŒè¯å¤‡ä»½æ•°æ®çš„å®Œæ•´æ€§å’Œå¯ç”¨æ€§ï¼Œç¡®ä¿åœ¨éœ€è¦æ—¶å¯ä»¥è¿…é€Ÿæ¢å¤æ•°æ®ã€‚

#### 4.1.2. **å®‰å…¨å®¡è®¡ä¸ç›‘æ§**ï¼š

- é…ç½®å…¨é¢çš„å®¡è®¡ç­–ç•¥ï¼Œè®°å½•ç”¨æˆ·å¯¹æ•°æ®çš„æ‰€æœ‰è®¿é—®å’Œæ“ä½œè¡Œä¸ºã€‚
- å°†å®¡è®¡æ—¥å¿—å­˜å‚¨åœ¨å®‰å…¨çš„ä½ç½®ï¼Œå¹¶å®šæœŸå¤‡ä»½ä»¥é˜²æ­¢æ—¥å¿—è¢«ç¯¡æ”¹æˆ–åˆ é™¤ã€‚
- å®æ–½å®æ—¶ç›‘æ§æœºåˆ¶ï¼ŒåŠæ—¶å‘ç°å¹¶å“åº”å®‰å…¨äº‹ä»¶ã€‚

#### 4.1.3. **æ€§èƒ½ä¼˜åŒ–**ï¼š

- æ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´JVMå‚æ•°ï¼ˆå¦‚å †å†…å­˜å¤§å°ã€åƒåœ¾å›æ”¶å™¨ç±»å‹ç­‰ï¼‰ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚
- å¯¹å…³é”®æœåŠ¡è¿›è¡Œé›†ç¾¤åŒ–éƒ¨ç½²ä»¥æé«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚

## 5. è®¿é—®æ•°æ®æƒé™ç®¡ç†é¡µé¢

### 5.1. **æ•°æ®åº“å®‰å…¨ç®¡ç†**

#### 5.1.1. **é€‰ä¸­è§’è‰²ç»„-è¶…çº§ç®¡ç†å‘˜**

- é€šè¿‡è®¾ç½®ç”¨æˆ·è§’è‰²å’Œæƒé™ï¼Œå®ç°æ•°æ®çš„ç»†ç²’åº¦è®¿é—®æ§åˆ¶ï¼›åªæœ‰ç»è¿‡æˆæƒçš„ç”¨æˆ·æ‰èƒ½è®¿é—®å’Œæ“ä½œæŒ‡å®šçš„æ•°æ®ï¼Œç¡®ä¿æ•°æ®çš„æœºå¯†æ€§å’Œå®Œæ•´æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407956504-a74f0f87-b7f7-4988-bfd8-304c90d6c731.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.1.2. **å¢åŠ æ•°æ®åº“æƒé™æˆæƒ**

- é€šè¿‡æ•°æ®åº“æƒé™æˆæƒåŠŸèƒ½ï¼Œä¸ºé€‰ä¸­çš„è§’è‰²ç»„ç²¾å‡†é…ç½®æ•°æ®åº“è®¿é—®æƒé™ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407920475-a8384a4e-d68f-4fdd-b3fe-572569b8414c.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.1.3. **æ•°æ®è¡¨çº§åˆ«å®‰å…¨ç®¡ç†**

- å¯¹äºæ•æ„Ÿæ•°æ®è¡¨æˆ–å­—æ®µï¼Œå¯ä»¥é€‰æ‹©åŠ å¯†å­˜å‚¨ä»¥ç¡®ä¿æ•°æ®å®‰å…¨ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407983305-c9eb60d8-2c48-4836-973e-f7c8b878efb5.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741408020441-19b4f858-e934-461f-897d-838a998c6d5a.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.1.4. **å­—æ®µçº§åˆ«å®‰å…¨ç®¡ç†**

- å¯¹æ•æ„Ÿå­—æ®µåŠ å¯†ã€è„±æ•ï¼Œå¹¶è®¾ç½®ç²¾ç»†è®¿é—®æƒé™ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741408056380-11d7711c-94c9-4c29-91f2-f31a23a49065.png?x-oss-process=image%2Fformat%2Cwebp)

### 5.2. **æ•°æ®å®‰å…¨ç®¡æ§æˆæƒæ¡ˆä¾‹**

#### 5.2.1. **é€‰æ‹©æ¶æ„å¸ˆè§’è‰²**

- åœ¨ç³»ç»Ÿçš„è§’è‰²ç®¡ç†è®¾ç½®ç•Œé¢ä¸­ï¼Œä»è§’è‰²åˆ—è¡¨é‡Œé€‰ä¸­â€œæ¶æ„å¸ˆè§’è‰²â€ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742295442678-adb9e4e7-d9d6-41ea-b906-11d1c6743fff.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.2. **æ¶æ„å¸ˆè§’è‰²å¯¹åº”çš„æ•°æ®åº“ï¼Œæ•°æ®è¡¨ï¼Œæ•°æ®å­—æ®µæƒé™ï¼ˆæœªä¿®æ”¹æƒé™å‰ï¼Œåªæœ‰4ä¸ªå­—æ®µï¼‰**

- å¯ä»¥äº†è§£æ¶æ„å¸ˆè§’è‰²çš„åˆå§‹æƒé™çŠ¶æ€ï¼Œä¸ºåç»­æƒé™ä¿®æ”¹å’Œå¯¹æ¯”æä¾›åŸºå‡†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294158627-70f2ff4c-a0af-4d5c-963f-d1b1041570fa.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.3. **æ¶æ„å¸ˆè§’è‰²å¯¹åº”çš„æ•°æ®åº“ï¼Œæ•°æ®è¡¨ï¼Œæ•°æ®å­—æ®µæƒé™ï¼ˆä¿®æ”¹æƒé™åï¼‰**

- ç”¨äºéªŒè¯æƒé™ä¿®æ”¹æ˜¯å¦æˆåŠŸï¼Œä»¥åŠä¿®æ”¹åçš„æƒé™æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294202291-5dc7a56c-3f85-4630-93db-956835245b3c.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.4. **æ¶æ„å¸ˆè§’è‰²ä¿®æ”¹è§’è‰²åï¼Œç®¡ç†å‘˜ç”¨æˆ·éœ€è¦ç‚¹å‡»åˆ·æ–°ç¼“å­˜ç”Ÿæ•ˆï¼ˆå¿…é¡»åˆ·æ–°ç”Ÿæ•ˆï¼‰**

- éœ€è¦åœ¨ç³»ç»Ÿçš„ç›¸åº”ç®¡ç†ç•Œé¢ç‚¹å‡»â€œåˆ·æ–°ç¼“å­˜â€æŒ‰é’®ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿä½¿ç”¨çš„æ˜¯æœ€æ–°çš„è§’è‰²æƒé™ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294237651-166e9e6c-8fbe-4237-8185-2f0e32d70848.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.5. **é€€å‡ºç™»å½•ï¼Œä½¿ç”¨æ¶æ„å¸ˆè§’è‰²è´¦å·å¯†ç ç™»å½•**

- åœ¨å®Œæˆè§’è‰²æƒé™è®¾ç½®å’Œä¿®æ”¹åï¼Œå½“å‰ç”¨æˆ·å…ˆé€€å‡ºç³»ç»Ÿç™»å½•ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294264024-54a85ad9-9224-48ec-ad72-68fe3ba32414.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.6. **æ¶æ„å¸ˆè§’è‰²ç™»å½•**

- ç¡®è®¤æ¶æ„å¸ˆè§’è‰²èƒ½å¤ŸæˆåŠŸç™»å½•ç³»ç»Ÿï¼Œè¿›å…¥ç³»ç»Ÿçš„æ“ä½œç•Œé¢ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294288989-324cc6d9-5885-4097-b22d-ecbb8bfa9480.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.7. **æ•°æ®ç›®å½•æˆæƒåªå¯¹æ•°æ®åº“æƒé™ç”Ÿæ•ˆï¼ŒéªŒè¯é€šè¿‡****âœ…**

- å¯¹æ¶æ„å¸ˆè§’è‰²è¿›è¡Œæˆæƒæ“ä½œï¼Œç„¶åéªŒè¯è¯¥æˆæƒæ“ä½œæ˜¯å¦ä»…å¯¹æ•°æ®åº“çº§åˆ«çš„æƒé™äº§ç”Ÿå½±å“ï¼Œè€Œä¸ä¼šæ¶‰åŠåˆ°æ•°æ®è¡¨æˆ–æ•°æ®å­—æ®µçº§åˆ«çš„æƒé™ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294569258-232a5d0d-cf44-4d7a-bb73-b8d43c9380dc.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.8. **æ•°æ®åœ°å›¾æŸ¥çœ‹æ¶æ„å¸ˆè§’è‰²çš„accountè¡¨ï¼Œå­—æ®µä¸ªæ•°ä¸º5ï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯æ•°æ®åœ°å›¾åŠŸèƒ½èƒ½å¦æ­£ç¡®ä½“ç°è¯¥è§’è‰²å¯¹æ­¤è¡¨çš„å­—æ®µè®¿é—®æƒé™åŠè¡¨ç»“æ„æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294461650-f34526e9-4340-4f1d-86cb-f3c3b6974328.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.9. **æ•°ä»“æŸ¥è¯¢ä¸­å¿ƒï¼ŒæŸ¥è¯¢çš„SQLåªè¿‡æ»¤æ•°æ®åº“å±‚çº§ï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯æ•°æ®æƒé™ç®¡ç†åŠŸèƒ½æ˜¯å¦æ­£ç¡®å±•ç¤ºè¯¥è§’è‰²å¯¹æ­¤è¡¨çš„å­—æ®µè®¿é—®æƒé™åŠå­—æ®µä¿¡æ¯å‡†ç¡®æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294648640-76bd3f15-0c4b-4933-b733-00f96172849e.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.10. **æ•°æ®æ ‡å‡†ï¼Œæ¶æ„å¸ˆè§’è‰²ä¸‹æ•°æ®è¡¨accountåªæœ‰5ä¸ªå­—æ®µï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½æ˜¯å¦å‡†ç¡®åæ˜ è¯¥è§’è‰²å¯¹è¡¨ç»“æ„çš„è®¤çŸ¥åŠè¡¨æ ‡å‡†ç»“æ„æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294700251-82fce977-e67b-4ae9-9dde-6b2fdaf8f6f3.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.11. **æ•°æ®æƒé™ç®¡ç†æŸ¥çœ‹è§’è‰²å¯¹åº”çš„accountè¡¨5ä¸ªå­—æ®µï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯è¯¥åŠŸèƒ½æ˜¯å¦æ­£ç¡®å±•ç¤ºè¯¥è§’è‰²å¯¹è¡¨çš„å­—æ®µè®¿é—®æƒé™åŠå­—æ®µä¿¡æ¯å‡†ç¡®æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294745707-bd7cfa8d-9767-47ea-88c0-2cb24d29c5e2.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.12. **æ•°æ®è´¨é‡ç®¡ç†ï¼ŒæŸ¥çœ‹è§’è‰²å¯¹åº”çš„5ä¸ªå­—æ®µï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯è¯¥åŠŸèƒ½æ˜¯å¦æ­£ç¡®å¤„ç†è¯¥è§’è‰²å¯¹è¡¨çš„å­—æ®µæƒé™åŠæ£€æŸ¥æ˜¯å¦åŸºäºæ­£ç¡®å­—æ®µèŒƒå›´ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294782495-84b2eb6f-ee2e-4456-ae52-48ba00372e70.png?x-oss-process=image%2Fformat%2Cwebp)

- æ­¤æ—¶åªæœ‰5ä¸ªå­—æ®µå¯ä»¥ç­›é€‰

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294823019-72d68d4c-be22-4aef-b39c-c314630c6a91.png?x-oss-process=image%2Fformat%2Cwebp)

##### 5.2.12.1. **æ•°æ®æœåŠ¡ç®¡ç†ï¼Œé€šè¿‡æŸ¥çœ‹æ¥å£å¸‚åœºçš„å­—æ®µï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯æ¥å£å¸‚åœºæ˜¯å¦æ­£ç¡®åæ˜ äº†æ¶æ„å¸ˆè§’è‰²å¯¹æ•°æ®æœåŠ¡ç›¸å…³å­—æ®µçš„è®¿é—®æƒé™ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294860551-78bf037e-8843-46e5-a053-ac902b3fd277.png?x-oss-process=image%2Fformat%2Cwebp)

##### 5.2.12.2. ç¼–è¾‘æ¨¡å¼æ‰“å¼€æ•°æ®æœåŠ¡moatæ•°æ®æœåŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294883691-c67ca61d-0c27-469d-86f4-5544835820dd.png?x-oss-process=image%2Fformat%2Cwebp)

##### 5.2.12.3. æ•°æ®æœåŠ¡accountè¡¨åªæœ‰5ä¸ªå­—æ®µï¼ŒéªŒè¯é€šè¿‡âœ…

- éªŒè¯æ•°æ®æœåŠ¡ç®¡ç†ä¸æ¶æ„å¸ˆè§’è‰²çš„å®é™…æƒé™å’Œæ•°æ®è¡¨ç»“æ„ä¸€è‡´ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294919766-5a115081-1a02-4ef9-a4ab-0b6782e6957d.png?x-oss-process=image%2Fformat%2Cwebp)

#### 5.2.13. **BIæŠ¥è¡¨ç®¡ç†ï¼ŒæŸ¥è¯¢çš„SQLåªè¿‡æ»¤æ•°æ®åº“å±‚çº§ï¼ŒéªŒè¯é€šè¿‡****âœ…**

- éªŒè¯ç³»ç»Ÿæƒé™æ§åˆ¶çš„åˆç†æ€§ï¼Œéœ€è¦éªŒè¯æŸ¥è¯¢åŠŸèƒ½åœ¨æ•°æ®åº“å±‚çº§è¿‡æ»¤çš„æ­£ç¡®æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742294950734-c137eb70-719b-4ade-b4e0-23805f69e425.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742295192102-00c03aee-62c0-42ed-835f-3da50277cdfd.png?x-oss-process=image%2Fformat%2Cwebp)



## 6. æ•°æ®å¤‡ä»½ä¸æ¢å¤é…ç½®

### 6.1. **å®šæœŸå¤‡ä»½æ•°æ®** 

- åˆ¶å®šæ•°æ®å¤‡ä»½è®¡åˆ’ï¼Œå¹¶å®šæœŸæ‰§è¡Œå¤‡ä»½æ“ä½œã€‚
- å¤‡ä»½æ•°æ®åº”å­˜å‚¨åœ¨å®‰å…¨å¯é çš„å­˜å‚¨ä»‹è´¨ä¸Šï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±æˆ–æŸåã€‚

### 6.2. **éªŒè¯å¤‡ä»½æ•°æ®** 

- å®šæœŸéªŒè¯å¤‡ä»½æ•°æ®çš„å®Œæ•´æ€§å’Œå¯ç”¨æ€§ã€‚
- ç¡®ä¿åœ¨éœ€è¦æ¢å¤æ•°æ®æ—¶ï¼Œå¤‡ä»½æ•°æ®èƒ½å¤Ÿè¿…é€Ÿæ¢å¤å¹¶æ­£å¸¸ä½¿ç”¨ã€‚





## 7. æ³¨æ„äº‹é¡¹

### 7.1.  **å®¡è®¡ç­–ç•¥é…ç½®ï¼š**

- é…ç½®å…¨é¢çš„å®¡è®¡ç­–ç•¥ï¼Œè®°å½•ç”¨æˆ·å¯¹æ•°æ®çš„æ‰€æœ‰è®¿é—®å’Œæ“ä½œè¡Œä¸ºã€‚
- ç¡®ä¿å®¡è®¡æ—¥å¿—åŒ…å«è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨å‘ç”Ÿå®‰å…¨äº‹ä»¶æ—¶è¿›è¡Œè¿½æº¯å’Œè°ƒæŸ¥ã€‚

### 7.2. **æ—¥å¿—å­˜å‚¨ä¸ä¿æŠ¤ï¼š**

- å°†å®¡è®¡æ—¥å¿—å­˜å‚¨åœ¨å®‰å…¨çš„ä½ç½®ï¼Œé˜²æ­¢æ—¥å¿—è¢«ç¯¡æ”¹æˆ–åˆ é™¤ã€‚
- å¯¹æ—¥å¿—è¿›è¡Œå®šæœŸå¤‡ä»½ï¼Œç¡®ä¿æ—¥å¿—çš„å®Œæ•´æ€§å’Œå¯ç”¨æ€§ã€‚

### 7.3. **æ—¥å¿—åˆ†æä¸ç›‘æ§ï¼š**

- å®šæœŸå¯¹å®¡è®¡æ—¥å¿—è¿›è¡Œåˆ†æï¼Œå‘ç°æ½œåœ¨çš„å®‰å…¨å¨èƒå’Œå¼‚å¸¸è¡Œä¸ºã€‚
- å®æ–½å®æ—¶ç›‘æ§æœºåˆ¶ï¼ŒåŠæ—¶å‘ç°å¹¶å“åº”å®‰å…¨äº‹ä»¶ã€‚





------



# **æ•°æ®è´¨é‡ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®è´¨é‡ç®¡ç†åŠŸèƒ½ç®€ä»‹

AIIDataæ•°æ®ä¸­å°æ•°æ®è´¨é‡ç®¡ç†åŠŸèƒ½ï¼Œæä¾›äº†å…¨é¢çš„æ•°æ®è´¨é‡ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®è´¨é‡æŠ¥å‘Šç»Ÿè®¡ã€åˆ›å»ºå’Œæ‰§è¡Œè´¨é‡ä»»åŠ¡ã€æ–°å¢è´¨é‡è§„åˆ™ä»¥åŠå®šæ—¶æ‰§è¡Œä»»åŠ¡çš„è®¾ç½®ç­‰ï¼Œæ—¨åœ¨ç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§ã€å®Œæ•´æ€§ã€ä¸€è‡´æ€§å’ŒåŠæ—¶æ€§ï¼Œä¸ºä¼ä¸šçš„ä¸šåŠ¡å†³ç­–æä¾›å¯é çš„æ•°æ®æ”¯æŒã€‚

### 2.1. æ•°æ®è´¨é‡ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å…¨é¢çš„è´¨é‡è¯„ä¼°ä¸æ”¹è¿›å·¥å…·
- çµæ´»çš„è´¨é‡è§„åˆ™é…ç½®
- è‡ªåŠ¨åŒ–ä»»åŠ¡è°ƒåº¦ä¸ç›‘æ§
- é—­ç¯é—®é¢˜å¤„ç†æœºåˆ¶
- å¯è§†åŒ–æŠ¥å‘Šä¸è¶‹åŠ¿åˆ†æ
- å¤šæºå¼‚æ„æ•°æ®æ”¯æŒ
- æ·±åº¦é›†æˆä¸æ‰©å±•æ€§

### 2.2. **æ•°æ®æºæ”¯æŒ**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1752573605590-7e53e467-c65a-48c2-9578-83ee3ec9cb40.png?x-oss-process=image%2Fcrop%2Cx_0%2Cy_5%2Cw_1102%2Ch_2519)

### 2.3. **æ•°æ®è´¨é‡æ”¯æŒ**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1752573720162-286095e9-b2bd-4b51-9534-6f8482742b25.png)



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®è´¨é‡ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **åŸºç¡€ç¯å¢ƒï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼šLinuxï¼ˆæ¨èCentOS/Ubuntuï¼‰æˆ–macOSï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 1.8+ï¼Œé…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7+ï¼ˆæ¨èï¼‰ï¼Œéœ€æå‰åˆ›å»ºæ•°æ®åº“å¹¶åˆ†é…æƒé™ã€‚
- **ç¼“å­˜ä¸æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRedis 3.0+ï¼ˆç”¨äºç¼“å­˜åŠ é€Ÿï¼‰ã€RabbitMQ 3.0.x+ï¼ˆæ”¯æŒå¼‚æ­¥ä»»åŠ¡ï¼‰ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0+ï¼Œç”¨äºä¾èµ–ç®¡ç†ï¼›Node.js 12.x+ï¼ˆå‰ç«¯æ„å»ºï¼‰ã€‚
- **ç‰¹åˆ«æç¤º**ï¼šMySQL 8.xç”¨æˆ·éœ€æ³¨æ„æ•°æ®å¯¼å…¥ç¼–ç æ ¼å¼ï¼ˆå¦‚UTF-8ï¼‰ï¼Œé¿å…ä¹±ç é—®é¢˜ã€‚



ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–ç½‘ï¼ˆä¸‹è½½ä¾èµ–åº“ï¼‰ã€‚
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œä»…å¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚8080ã€3306ã€6379ã€5672ï¼‰ã€‚



### 3.2. è·å–æºç 

ğŸ’¡**ä»£ç å…‹éš†**ï¼š

é€šè¿‡Gitå…‹éš†AllDataå•†ä¸šç‰ˆä»“åº“ï¼ˆéœ€æˆæƒï¼‰ï¼š

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ è¿›å…¥é¡¹ç›®ç›®å½•ï¼š

```javascript
cd alldata-commercial
```

ğŸ’¡ **æ¨¡å—è¯´æ˜**ï¼š

- æ•°æ®è´¨é‡ç®¡ç†æ¨¡å—ä½äº`modules/data-quality-service-parent`ï¼Œéœ€ç¡®ä¿è¯¥ç›®å½•å®Œæ•´ä¸‹è½½ã€‚



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **åç«¯ç¼–è¯‘**ï¼š

- ä½¿ç”¨Mavenç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼ˆé¦–æ¬¡æ„å»ºéœ€ä¸‹è½½ä¾èµ–ï¼Œè€—æ—¶è¾ƒé•¿ï¼‰ï¼š

```javascript
mvn clean install -DskipTests
```

ğŸ’¡ **å…³é”®è¾“å‡º**ï¼š

- `data-quality-service-parent/target/`ç›®å½•ä¸‹ç”ŸæˆJARåŒ…ï¼ˆå¦‚`data-quality-service.jar`ï¼‰ã€‚
- è‹¥ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œéœ€å•ç‹¬æ„å»ºé…ç½®ä¸­å¿ƒï¼ˆ`config`ï¼‰ã€æ³¨å†Œä¸­å¿ƒï¼ˆ`eureka`ï¼‰ç­‰åŸºç¡€æœåŠ¡ã€‚



ğŸ’¡ **å‰ç«¯æ„å»º**ï¼š

- è¿›å…¥å‰ç«¯ç›®å½•ï¼ˆå¦‚`moat_ui`ï¼‰ï¼Œå®‰è£…ä¾èµ–å¹¶æ„å»ºï¼š

```javascript
npm install
npm run build:prod
```

- **è¾“å‡º**ï¼šç”Ÿæˆé™æ€èµ„æºæ–‡ä»¶ï¼ˆ`dist/`ç›®å½•ï¼‰ï¼Œéœ€éƒ¨ç½²åˆ°Nginxç­‰WebæœåŠ¡å™¨ã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- æ‰§è¡ŒSQLè„šæœ¬åˆå§‹åŒ–è¡¨ç»“æ„ï¼š

```javascript
mysql -u root -p studio < install/sql/alldata-quality.sql
```

- è„šæœ¬é€šå¸¸åŒ…å«è´¨é‡è§„åˆ™è¡¨ã€ä»»åŠ¡æ—¥å¿—è¡¨ç­‰æ ¸å¿ƒè¡¨ã€‚

#### 3.4.2. **é…ç½®ä¿®æ”¹**

- **åç«¯é…ç½®**ï¼šä¿®æ”¹`application-common-dev.yml`ï¼ˆæˆ–å¯¹åº”ç¯å¢ƒæ–‡ä»¶ï¼‰ï¼š

```javascript
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/studio?useUnicode=true&characterEncoding=utf8
    username: root
    password: your_password
  redis:
    host: localhost
    port: 6379
  rabbitmq:
    host: localhost
    port: 5672
```

- **å‰ç«¯é…ç½®**ï¼šè‹¥éœ€åå‘ä»£ç†åç«¯APIï¼Œä¿®æ”¹Nginxé…ç½®ï¼š

```javascript
location /api/ {
  proxy_pass http://localhost:8080/;
}
```

#### 3.4.3. **æœåŠ¡å¯åŠ¨é¡ºåº**

ğŸ’¡ **åŸºç¡€æœåŠ¡**ï¼š

- æ³¨å†Œä¸­å¿ƒï¼ˆ`DataxEurekaApplication`ï¼‰
- é…ç½®ä¸­å¿ƒï¼ˆ`DataxConfigApplication`ï¼‰
- APIç½‘å…³ï¼ˆ`DataxGatewayApplication`ï¼‰



ğŸ’¡ **æ•°æ®è´¨é‡ç®¡ç†æœåŠ¡**ï¼š

- **å‰ç«¯æœåŠ¡**ï¼šé€šè¿‡NginxåŠ è½½é™æ€èµ„æºï¼Œæ— éœ€å•ç‹¬å¯åŠ¨ã€‚

```javascript
java -jar modules/data-quality-service-parent/target/data-quality-service.jar
```

#### 3.4.4. **éªŒè¯éƒ¨ç½²**

- è®¿é—®Webç•Œé¢ï¼ˆå¦‚`http://localhost:8080`ï¼‰ï¼Œç™»å½•åæ£€æŸ¥â€œæ•°æ®è´¨é‡ç®¡ç†â€æ¨¡å—æ˜¯å¦å¯ç”¨ã€‚
- åˆ›å»ºæµ‹è¯•ä»»åŠ¡ï¼ˆå¦‚éç©ºæ ¡éªŒï¼‰ï¼ŒæŸ¥çœ‹æ—¥å¿—ç¡®è®¤æ‰§è¡Œç»“æœï¼š

```javascript
tail -f logs/data-quality-service.log
```



### 3.5. å¯é€‰é…ç½®

ğŸ’¡ **å®šæ—¶ä»»åŠ¡è°ƒåº¦**

- é€šè¿‡`quartz-service-parent`æ¨¡å—é…ç½®å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚æ¯æ—¥å‡Œæ™¨æ‰§è¡Œæ•°æ®è´¨é‡æ£€æŸ¥ï¼‰ï¼š

```javascript
# application-quartz.yml
quartz:
  enabled: true
  jobs:
    - name: dailyQualityCheck
      cron: 0 0 0 * * ?
      class: com.alldata.quality.job.DailyCheckJob
```



ğŸ’¡ **è‡ªå®šä¹‰è´¨é‡è§„åˆ™**

- æ”¯æŒé€šè¿‡SQLæˆ–Javaä»£ç æ‰©å±•æ ¡éªŒè§„åˆ™ï¼ˆå¦‚è¡Œä¸šç‰¹å®šåˆè§„æ£€æŸ¥ï¼‰ï¼š

```javascript
@Rule(name = "é‡‘èè¡Œä¸šåˆè§„æ ¡éªŒ", description = "æ£€æŸ¥èº«ä»½è¯å·æ˜¯å¦ç¬¦åˆè§„èŒƒ")
public class FinanceRule implements QualityRule {
    @Override
    public boolean validate(String value) {
        return Pattern.matches("^[1-9]\\d{5}(18|19|20)\\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])\\d{3}[\\dXx]$", value);
    }
}
```

ğŸ’¡ **é›†ç¾¤éƒ¨ç½²ï¼š**

- **æ°´å¹³æ‰©å±•**ï¼šå°†æ•°æ®è´¨é‡ç®¡ç†æœåŠ¡éƒ¨ç½²åˆ°å¤šå°æœåŠ¡å™¨ï¼Œé€šè¿‡Nginxè´Ÿè½½å‡è¡¡ã€‚
- **é…ç½®åŒæ­¥**ï¼šç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹å…±äº«ç›¸åŒçš„Rediså’ŒRabbitMQé…ç½®ï¼Œé¿å…ä»»åŠ¡é‡å¤æ‰§è¡Œã€‚



ğŸ’¡ **ç›‘æ§ä¸å‘Šè­¦ï¼š**

- é›†æˆPrometheus+Grafanaç›‘æ§è´¨é‡ä»»åŠ¡æ‰§è¡Œè€—æ—¶ã€æˆåŠŸç‡ç­‰æŒ‡æ ‡ã€‚
- é…ç½®å‘Šè­¦è§„åˆ™ï¼ˆå¦‚ä»»åŠ¡å¤±è´¥ç‡>10%æ—¶å‘é€ä¼ä¸šå¾®ä¿¡/é‚®ä»¶é€šçŸ¥ï¼‰ã€‚



## 4. è®¿é—®æ•°æ®è´¨é‡ç®¡ç†é¡µé¢

#### 4.1.1. **æ•°æ®è´¨é‡è§„åˆ™ç®¡ç†**

- åœ¨æµè§ˆå™¨ä¸­è¾“å…¥AllDataæ•°æ®ä¸­å°çš„Webç•Œé¢åœ°å€ï¼Œå¹¶ç™»å½•åˆ°ç³»ç»Ÿä¸­ã€‚
- åœ¨ç³»ç»Ÿèœå•ä¸­æ‰¾åˆ°â€œæ•°æ®è´¨é‡ç®¡ç†â€å¹¶ç‚¹å‡»è¿›å…¥ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403829236-0b3045ea-2586-4f1d-afe2-4381a71a7daa.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.2. **åˆ›å»ºå”¯ä¸€æ€§è´¨é‡è§„åˆ™**

- åœ¨æ•°æ®è´¨é‡ç®¡ç†æ¨¡å—ä¸­ï¼Œé€‰æ‹©æ–°å»ºæŒ‰é’®-â€œåˆ›å»ºè´¨é‡ä»»åŠ¡â€ã€‚
- æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œè®¾ç½®ä»»åŠ¡åç§°ã€ä»»åŠ¡ç±»å‹ï¼ˆå¦‚æ•°æ®æ¸…æ´—ã€æ•°æ®æ ¡éªŒç­‰ï¼‰ã€æ•°æ®æºã€ç›®æ ‡åº“ç­‰å‚æ•°ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372397210-90249f2d-0407-4d02-b500-03f08422f695.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.3.  é€‰æ‹©æ ¸æŸ¥è§„åˆ™ç±»å‹

- åˆ›å»ºä»»åŠ¡åï¼Œå¯ä»¥åœ¨ä»»åŠ¡åˆ—è¡¨ä¸­æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403861197-4f699f02-d90f-4640-855a-78903e0e6feb.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.4. **åˆ›å»ºéç©ºå®Œæ•´æ€§è´¨é‡è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372165107-5fd7ff82-cca0-42e6-88db-46a4d80690b8.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403875504-ca65707e-d4ce-4471-9255-65524b285920.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.5. **åˆ›å»ºå‡†ç¡®æ€§è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372576366-885ec861-bebc-4e8e-bde0-09d2169c4b64.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403888183-095ad197-c182-4f9f-8828-13c6de118b4a.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.6. **åˆ›å»ºæ•°æ®æ ‡å‡†æ ¡éªŒ**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403914516-b0fcc2f5-9632-4229-b956-49cf93f6c335.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403904758-9942e049-ef4e-42a2-881e-0b3b498a5429.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.7. **åˆ›å»ºå…³è”æ€§è´¨é‡è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372761946-b40b2533-dd6e-4c76-a934-52fe6a32dd62.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741403926521-2e9cc412-0ef1-4a03-8573-83c6b7655b24.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.8. **åˆ›å»ºåŠæ—¶æ€§æ•°æ®è´¨é‡è§„åˆ™**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372815695-ea4999d4-9d94-4924-ab0e-7d7b06bcba24.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372827972-186614a5-73b2-41b7-8279-47c37b5e4277.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.9. **é…ç½®è´¨é‡è°ƒåº¦æ¨¡ç‰ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372211598-3daa1377-b50a-4092-a9b9-f93ca89ee7ba.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.10. **æŸ¥çœ‹æ•°æ®è´¨é‡åˆ†ææŠ¥å‘Š**

- ç³»ç»Ÿä¼šæ ¹æ®é…ç½®çš„ä»»åŠ¡è§„åˆ™å’Œå‚æ•°ï¼Œå¯¹æ•°æ®è¿›è¡Œå¤„ç†å¹¶ç”Ÿæˆè´¨é‡æŠ¥å‘Šã€‚æŠ¥å‘Šç»¼åˆè¯„ä¼°æ•°æ®å®Œæ•´æ€§ã€å‡†ç¡®æ€§ç­‰å…³é”®æŒ‡æ ‡ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿè¯†åˆ«æ•°æ®é—®é¢˜ï¼Œä¸ºæ•°æ®æ²»ç†å’Œä¼˜åŒ–æä¾›æœ‰åŠ›æ”¯æŒã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372239169-e7c2cbd1-82e7-4cc3-9eea-488aea187fec.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741413646357-58fbf629-ed25-4dfc-9f4d-6e22649952b0.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.11. **æŸ¥çœ‹æ•°æ®è´¨é‡ç»Ÿè®¡åˆ†æ**

- ç³»ç»Ÿä¼šæ ¹æ®é…ç½®çš„ä»»åŠ¡è§„åˆ™å’Œå‚æ•°ï¼Œå¯¹æ•°æ®è¿›è¡Œå¤„ç†å¹¶ç”Ÿæˆè´¨é‡æŠ¥å‘Šã€‚
- ç”¨æˆ·å¯ä»¥åœ¨ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼ŒæŸ¥çœ‹è´¨é‡æŠ¥å‘Šä»¥äº†è§£ä»»åŠ¡æ‰§è¡Œç»“æœå’Œæ•°æ®è´¨é‡æ”¹è¿›æƒ…å†µã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372259310-c82e207d-44ae-437e-8d6f-39868fb6157c.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.12. **æŸ¥çœ‹æ•°æ®è´¨é‡æ‰§è¡Œæ—¥å¿—**

- ç”¨æˆ·å¯ä»¥åœ¨ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼ŒæŸ¥çœ‹æ•°æ®è´¨é‡æ—¥å¿—è¯¦ç»†è®°å½•çš„æ‰§è¡Œæƒ…å†µï¼Œä»¥ä¾¿ç”¨æˆ·åˆ†ææ•°æ®è´¨é‡é—®é¢˜çš„åŸå› ï¼Œå¹¶é‡‡å–ç›¸åº”æªæ–½è¿›è¡Œæ”¹è¿›å’Œä¼˜åŒ–ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741372286393-81b4cbcf-97af-41df-a323-fc7446bcba09.png?x-oss-process=image%2Fformat%2Cwebp)



## 5. æ•°æ®è´¨é‡ç®¡ç†åˆ†æä¸ä¼˜åŒ–

### 5.1. **åˆ†ææ•°æ®è´¨é‡è¶‹åŠ¿**

- é€šè¿‡æ•°æ®è´¨é‡æŠ¥å‘Šå’Œç›‘æ§æŒ‡æ ‡ï¼Œåˆ†ææ•°æ®è´¨é‡çš„å˜åŒ–è¶‹åŠ¿ã€‚

### 5.2. **è¯†åˆ«é—®é¢˜æ ¹æº**

- é’ˆå¯¹å‘ç°çš„æ•°æ®è´¨é‡é—®é¢˜ï¼Œè¯†åˆ«å…¶æ ¹æºå¹¶é‡‡å–ç›¸åº”çš„æ”¹è¿›æªæ–½ã€‚

### 5.3. **ä¼˜åŒ–æ•°æ®æ²»ç†æµç¨‹**

- æ ¹æ®åˆ†æç»“æœï¼Œä¼˜åŒ–æ•°æ®æºç®¡ç†ã€æ•°æ®æ¸…æ´—æµç¨‹ã€è´¨é‡è§„åˆ™è®¾ç½®ç­‰ï¼Œä»¥æŒç»­æå‡æ•°æ®è´¨é‡ã€‚



## 6. æ³¨æ„äº‹é¡¹

### 6.1.  **ç¡®ä¿æ•°æ®æºçš„æ­£ç¡®æ€§ï¼š**

- åœ¨è¿›è¡Œæ•°æ®è´¨é‡æ£€æŸ¥ä¹‹å‰ï¼Œç”¨æˆ·éœ€è¦ç¡®ä¿æ•°æ®æºçš„æ­£ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚

### 6.2.  **åˆç†é…ç½®è´¨é‡è§„åˆ™ï¼š**

- è´¨é‡è§„åˆ™çš„å®šä¹‰åº”è¯¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œæ•°æ®ç‰¹ç‚¹è¿›è¡Œåˆç†é…ç½®ã€‚

### 6.3.  **å®šæœŸç›‘æ§å’Œä¼˜åŒ–ï¼š**

- ç”¨æˆ·éœ€è¦å®šæœŸç›‘æ§æ•°æ®è´¨é‡çŠ¶å†µï¼Œå¹¶æ ¹æ®å®é™…æƒ…å†µå¯¹è´¨é‡ä»»åŠ¡ã€è´¨é‡è§„åˆ™ç­‰è¿›è¡Œä¼˜åŒ–å’Œè°ƒæ•´ã€‚



------

# **æ•°æ®æ¯”å¯¹ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æ¯”å¯¹ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°çš„æ•°æ®æ¯”å¯¹ç®¡ç†åŠŸèƒ½ï¼Œé€šè¿‡åˆç†è®¾ç½®æ¯”å¯¹è§„åˆ™ã€æ¥å…¥å¤šç§æ•°æ®æºã€æ‰§è¡Œæ¯”å¯¹æ“ä½œå¹¶ç›‘æ§è¿›åº¦ã€å±•ç¤ºå’Œåˆ†ææ¯”å¯¹ç»“æœä»¥åŠè§¦å‘å‘Šè­¦å’Œé€šçŸ¥ç­‰åŠŸèƒ½ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°è¯†åˆ«æ•°æ®ä¸­çš„å·®å¼‚å’Œå˜åŒ–ï¼Œä¸ºæ•°æ®æ²»ç†ã€ä¸šåŠ¡å†³ç­–ç­‰æ–¹é¢æä¾›æœ‰åŠ›æ”¯æŒã€‚AllDataæ•°æ®ä¸­å°èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›å…¨é¢ã€é«˜æ•ˆçš„æ•°æ®æ¯”å¯¹ç®¡ç†æœåŠ¡ã€‚

### 2.1. æ•°æ®æ¯”å¯¹ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¤šå¼•æ“æ”¯æŒä¸çµæ´»æ‰©å±•
- å¼‚æ„æ•°æ®æºå…¨è¦†ç›–
- åˆ†å±‚è®¾è®¡ä¸æŠ€æœ¯å®ç°

### 2.2. AllDataæ•°æ®ä¸­å°æ•°æ®æ¯”å¯¹ç®¡ç†æ”¯æŒå¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬ï¼š

#### 2.2.1. **å…³ç³»å‹æ•°æ®åº“**

- MySQL
- Oracle
- SQL Server
- PostgreSQL
- TiDB

#### 2.2.2. **å¤§æ•°æ®å­˜å‚¨**

- Hadoop HDFS
- Hive
- Spark
- Flink
- ClickHouse
- Greenplum

#### 2.2.3. **äº‘æœåŠ¡æ•°æ®æº**

- AWS S3
- é˜¿é‡Œäº‘OSS
- Azure Data Lake
- Delta Lake
- Iceberg
- â€¦â€¦



### 2.3. æ•°æ®æºæ”¯æŒReader/Writer

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1752570726889-835f8890-b0a6-4b69-8a14-dbeb8e0fd8cc.png)





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æ¯”å¯¹ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡ï¼šæ„å»ºæ•°æ®æ¯”å¯¹çš„åŸºç¡€è®¾æ–½

ğŸ’¡**ç¡¬ä»¶ä¸æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- **æœåŠ¡å™¨é…ç½®**ï¼šå»ºè®®é‡‡ç”¨3èŠ‚ç‚¹é›†ç¾¤æ¶æ„ï¼ˆ16gmaster/16gslave/16gdataï¼‰ï¼Œæ¯èŠ‚ç‚¹é…ç½®16æ ¸CPUã€64GBå†…å­˜åŠ500GB SSDå­˜å‚¨ï¼Œç¡®ä¿å¤„ç†å¤§è§„æ¨¡æ•°æ®æ¯”å¯¹ä»»åŠ¡æ—¶çš„æ€§èƒ½ã€‚
- **æ“ä½œç³»ç»Ÿ**ï¼šæ¨èCentOS 7.9æˆ–Ubuntu 20.04 LTSï¼Œéœ€æå‰å®‰è£…`wget`ã€`unzip`ã€`git`ç­‰åŸºç¡€å·¥å…·ã€‚
- **ä¾èµ–ç»„ä»¶**ï¼š

- **JDK 11+**ï¼šé…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ï¼ŒéªŒè¯å‘½ä»¤`java -version`ã€‚
- **MySQL 8.0**ï¼šåˆ›å»ºä¸“ç”¨æ•°æ®åº“`alldata_compare`ï¼Œæ‰§è¡Œåˆå§‹åŒ–è„šæœ¬`install/sql/alldata-v0.x.x.sql`ã€‚
- **Redis 6.2**ï¼šç”¨äºç¼“å­˜æ¯”å¯¹ä»»åŠ¡çŠ¶æ€ï¼Œé…ç½®å¯†ç è®¤è¯åŠæŒä¹…åŒ–ç­–ç•¥ã€‚
- **RabbitMQ 3.9**ï¼šæ”¯æŒå¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œåˆ›å»ºè™šæ‹Ÿä¸»æœº`/alldata`å¹¶åˆ†é…ç”¨æˆ·æƒé™ã€‚



ğŸ’¡ **ç½‘ç»œä¸å®‰å…¨é…ç½®ï¼š**

- å¼€æ”¾å…³é”®ç«¯å£ï¼š`8080`ï¼ˆAPIç½‘å…³ï¼‰ã€`8761`ï¼ˆEurekaæ³¨å†Œä¸­å¿ƒï¼‰ã€`5672`ï¼ˆRabbitMQï¼‰ã€`6379`ï¼ˆRedisï¼‰ã€‚
- é…ç½®SSLè¯ä¹¦ï¼ˆå¦‚Letâ€™s Encryptï¼‰ï¼Œå¯ç”¨HTTPSåŠ å¯†ä¼ è¾“ã€‚
- è®¾ç½®é˜²ç«å¢™è§„åˆ™ï¼šä»…å…è®¸å†…ç½‘IPè®¿é—®æ•°æ®åº“ç«¯å£ï¼Œå¤–ç½‘ä»…å¼€æ”¾80/443ã€‚



### 3.2. è·å–æºç ï¼šè·å–æ•°æ®æ¯”å¯¹æ ¸å¿ƒæ¨¡å—

ğŸ’¡**é€šè¿‡Gitè·å–å•†ä¸šç‰ˆæºç ï¼š**

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ **åˆ†æ”¯é€‰æ‹©**ï¼š

- åˆ‡æ¢è‡³ç¨³å®šåˆ†æ”¯`release/v2.5.0`ï¼Œè¯¥ç‰ˆæœ¬ä¼˜åŒ–äº†æ¯”å¯¹ç®—æ³•æ€§èƒ½ã€‚



ğŸ’¡ **æ¨¡å—å®šä½**

- æ•°æ®æ¯”å¯¹åŠŸèƒ½æ ¸å¿ƒä»£ç ä½äº`studio/modules/data-compare-service-parent`ï¼ŒåŒ…å«ä»¥ä¸‹å­æ¨¡å—ï¼š

- `compare-engine`ï¼šæ¯”å¯¹è§„åˆ™è§£æä¸æ‰§è¡Œå¼•æ“ã€‚
- `compare-api`ï¼šæä¾›RESTfulæ¥å£ä¾›å‰ç«¯è°ƒç”¨ã€‚
- `compare-scheduler`ï¼šå®šæ—¶ä»»åŠ¡è°ƒåº¦ç»„ä»¶ã€‚



### 3.3. ç¼–è¯‘æ„å»ºï¼šç”Ÿæˆå¯éƒ¨ç½²åŒ…

ğŸ’¡ **Mavenæ„å»ºé…ç½®ï¼š**

- ä¿®æ”¹`pom.xml`ä¸­çš„ä¾èµ–ç‰ˆæœ¬ï¼Œç¡®ä¿ä¸MySQL Connector/J 8.0.28ã€Redisson 3.16.8ç­‰ç»„ä»¶å…¼å®¹ã€‚
- æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š

```javascript
mvn clean install -DskipTests -Pprod
```

- **è¾“å‡ºéªŒè¯**ï¼šæ£€æŸ¥`target/`ç›®å½•ä¸‹æ˜¯å¦ç”Ÿæˆ`data-compare-service-2.5.0.jar`åŠé…å¥—é…ç½®æ–‡ä»¶ã€‚



ğŸ’¡ **Dockeré•œåƒæ„å»ºï¼ˆå¯é€‰ï¼‰**

- åˆ›å»º`Dockerfile`ï¼š

```javascript
FROM openjdk:11-jre-slim
COPY target/data-compare-service-2.5.0.jar /app.jar
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

- æ„å»ºé•œåƒï¼š

```javascript
docker build -t alldata-compare:2.5.0 .
```



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®ï¼šå¯åŠ¨æ•°æ®æ¯”å¯¹æœåŠ¡

#### 3.4.1. **æœåŠ¡å¯åŠ¨é¡ºåº**

- **ä¾èµ–æœåŠ¡å…ˆè¡Œ**ï¼š

01 å¯åŠ¨Eurekaæ³¨å†Œä¸­å¿ƒï¼š

```javascript
java -jar eureka-server-2.5.0.jar --spring.profiles.active=prod
```

02 å¯åŠ¨é…ç½®ä¸­å¿ƒï¼ˆåŠ è½½`application-prod.yml`ä¸­çš„æ¯”å¯¹ä»»åŠ¡è¶…æ—¶æ—¶é—´ç­‰å‚æ•°ï¼‰ã€‚

03 å¯åŠ¨RabbitMQæ¶ˆè´¹è€…æœåŠ¡ï¼ˆå¤„ç†æ¯”å¯¹ç»“æœé€šçŸ¥ï¼‰ã€‚

- **æ•°æ®æ¯”å¯¹æœåŠ¡å¯åŠ¨**ï¼š

```javascript
java -jar data-compare-service-2.5.0.jar \
  --spring.datasource.url=jdbc:mysql://16gmaster:3306/alldata_compare?useSSL=false \
  --spring.redis.host=16gslave \
  --spring.rabbitmq.host=16gdata
```

#### 3.4.2. **åˆå§‹åŒ–æ•°æ®åŠ è½½**

- æ‰§è¡ŒSQLè„šæœ¬`install/sql/compare_init.sql`ï¼Œåˆ›å»ºæ¯”å¯¹ä»»åŠ¡è¡¨ã€è§„åˆ™è¡¨åŠå†å²è®°å½•è¡¨ã€‚
- å¯¼å…¥ç¤ºä¾‹è§„åˆ™ï¼š

```javascript
INSERT INTO `compare_rule` (`rule_name`, `source_ds_id`, `target_ds_id`, `compare_fields`) 
VALUES ('è®¢å•é‡‘é¢æ¯”å¯¹', 1, 2, 'order_amount,currency_type');
```



### 3.5. å¯é€‰é…ç½®ï¼šå¢å¼ºåŠŸèƒ½ä¸æ€§èƒ½ä¼˜åŒ–

#### 3.5.1. **æœåŠ¡å¯åŠ¨é¡ºåº**

- é…ç½®`compare-scheduler`çš„`quartz.properties`ï¼Œå¯ç”¨é›†ç¾¤æ¨¡å¼ï¼š

- é€šè¿‡ç®¡ç†ç•Œé¢åˆ›å»ºå®šæ—¶æ¯”å¯¹ä»»åŠ¡ï¼ˆå¦‚æ¯æ—¥å‡Œæ™¨3ç‚¹æ‰§è¡Œå…¨é‡æ•°æ®æ¯”å¯¹ï¼‰ã€‚

```javascript
org.quartz.scheduler.instanceId=AUTO
org.quartz.jobStore.isClustered=true
```

#### 3.5.2. **æ¯”å¯¹ç»“æœå‘Šè­¦**

- é›†æˆä¼ä¸šå¾®ä¿¡/é’‰é’‰æœºå™¨äººï¼š

```javascript
# application-prod.yml
alert:
  wecom:
    webhook-url: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxxx
    template: "æ•°æ®æ¯”å¯¹å¼‚å¸¸ï¼šå·®å¼‚ç‡{{diffRate}}%ï¼Œè¯·åŠæ—¶å¤„ç†ï¼"
```

#### 3.5.3. **æ€§èƒ½è°ƒä¼˜**

- **JVMå‚æ•°**ï¼š

```javascript
-Xms4g -Xmx8g -XX:+UseG1GC -XX:MaxGCPauseMillis=200
```

- **MySQLä¼˜åŒ–**ï¼šä¸ºæ¯”å¯¹ä»»åŠ¡è¡¨æ·»åŠ ç´¢å¼•ï¼š

```javascript
CREATE INDEX idx_task_status ON compare_task(status, create_time);
```



### 3.6. éªŒè¯ä¸ç›‘æ§

#### 3.6.1. **åŠŸèƒ½éªŒè¯**

- é€šè¿‡Swagger UIè®¿é—®`http://16gmaster:8080/compare-api/doc.html`ï¼Œè°ƒç”¨`/api/compare/trigger`æ¥å£è§¦å‘æ¯”å¯¹ä»»åŠ¡ã€‚
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶`logs/compare-service.log`ï¼Œç¡®è®¤ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ã€‚

#### 3.6.2. **ç›‘æ§ä½“ç³»**

- **Prometheus+Grafana**ï¼šé‡‡é›†`/actuator/prometheus`ç«¯ç‚¹æŒ‡æ ‡ï¼Œç›‘æ§æ¯”å¯¹ä»»åŠ¡ååé‡ã€å¹³å‡è€—æ—¶ã€‚
- **ELKæ—¥å¿—åˆ†æ**ï¼šé…ç½®Filebeatæ”¶é›†æ—¥å¿—ï¼Œé€šè¿‡Kibanaæœç´¢`ERROR`çº§åˆ«æ—¥å¿—å®šä½é—®é¢˜ã€‚

#### 3.6.3. éƒ¨ç½²ç¤ºä¾‹ï¼šå…¨é‡æµç¨‹è„šæœ¬

```javascript
#!/bin/bash
# ç¯å¢ƒå‡†å¤‡
yum install -y java-11-openjdk-devel maven git docker
systemctl start docker
 
# æºç è·å–
git clone https://gitcode.com/gh_mirrors/all/alldata-enterprise.git
cd alldata-enterprise
git checkout release/v2.5.0
 
# ç¼–è¯‘æ„å»º
mvn clean install -DskipTests -Pprod
 
# æ•°æ®åº“åˆå§‹åŒ–
mysql -h16gmaster -uroot -p < install/sql/alldata-v0.x.x.sql
mysql -h16gmaster -uroot -p < install/sql/compare_init.sql
 
# æœåŠ¡å¯åŠ¨
nohup java -jar eureka-server-2.5.0.jar --spring.profiles.active=prod > /dev/null 2>&1 &
nohup java -jar data-compare-service-2.5.0.jar --spring.profiles.active=prod > /dev/null 2>&1 &
 
echo "éƒ¨ç½²å®Œæˆï¼è®¿é—®åœ°å€ï¼šhttp://16gmaster:8080/compare-ui"
```







## 4. è®¿é—®æ•°æ®æ¯”å¯¹ç®¡ç†é¡µé¢

### 4.1. æ•°æ®æ¯”å¯¹ç®¡ç†

#### 4.1.1. **æ•°æ®åº“é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813027982-bfd54b36-3ab4-47aa-a6a0-6557c40eac09.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.2. **æ–°å¢Mysqlæ•°æ®åº“**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813059558-0e278b94-168b-44dc-92d4-8584c019aadc.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.3. **æ–°å¢Hiveæ•°æ®åº“**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813171181-55c4dad5-7d6b-4d52-826a-d9195d6ed97c.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.4. **æ–°å¢Dorisæ•°æ®åº“**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813327118-cbf897b3-64b0-4d54-a1cc-340ad74ce9b7.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.5. **ä»»åŠ¡é…ç½®**

##### 4.1.5.1. **æ–°å¢æ•°æ®æ¯”å¯¹ä»»åŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813376273-169afbdc-1c2b-421a-a203-db0d0ea5e024.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.5.2. **ç¼–è¾‘æ•°æ®æ¯”å¯¹ä»»åŠ¡**

- åœ¨é€‰æ‹©æ•°æ®æºåï¼Œéœ€è¦è®¾ç½®æ¯”å¯¹æ¡ä»¶ã€‚æ ¹æ®éœ€è¦ï¼Œè®¾ç½®é€‚å½“çš„æ¯”å¯¹æ¡ä»¶ï¼Œä»¥ç¡®ä¿æ¯”å¯¹ç»“æœçš„å‡†ç¡®æ€§å’Œæœ‰ç”¨æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813402463-95a4421f-ce9d-428a-985e-0e3d0bf1e57a.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.5.3. **è¿è¡Œæ•°æ®æ¯”å¯¹ä»»åŠ¡**

- è®¾ç½®å¥½æ¯”å¯¹æ¡ä»¶åï¼Œç‚¹å‡»â€œå¼€å§‹æ¯”å¯¹â€æˆ–ç±»ä¼¼çš„æŒ‰é’®ï¼Œæ‰§è¡Œæ¯”å¯¹æ“ä½œã€‚ç³»ç»Ÿå°†æ ¹æ®è®¾ç½®çš„æ¯”å¯¹æ¡ä»¶å’Œé€‰æ‹©çš„æ•°æ®æºï¼Œè‡ªåŠ¨è¿›è¡Œæ•°æ®æ¯”å¯¹ï¼Œå¹¶ç”Ÿæˆæ¯”å¯¹ç»“æœã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813450305-1571cda5-14f0-4991-81e4-4d9fd3ea6b06.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.6. **ä»»åŠ¡å®ä¾‹**

##### 4.1.6.1. **æŸ¥çœ‹ä»»åŠ¡å®ä¾‹åˆ—è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813497741-2c100e66-1fd3-4b66-ad27-e89749c8917d.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.6.2. **æŸ¥çœ‹æ•°æ®æ¯”å¯¹ä»»åŠ¡ç»“æœ**

- æ¯”å¯¹æ“ä½œå®Œæˆåï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ¯”å¯¹ç»“æœï¼Œæ ¹æ®æ¯”å¯¹ç»“æœï¼Œå¯ä»¥è¿›ä¸€æ­¥çš„åˆ†æå’Œå†³ç­–ã€‚
- æ¯”å¯¹ç»“æœé€šå¸¸ä»¥è¡¨æ ¼ã€å›¾è¡¨æˆ–æŠ¥å‘Šçš„å½¢å¼å‘ˆç°ï¼Œæ–¹ä¾¿ç›´è§‚åœ°äº†è§£æ•°æ®ä¹‹é—´çš„å·®å¼‚ã€å¼‚å¸¸æˆ–è¶‹åŠ¿ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1740813523812-3453c658-d230-4284-8b0e-df33ab421ea4.png?x-oss-process=image%2Fformat%2Cwebp)





## 5. æ¯”å¯¹ä»»åŠ¡é…ç½®

### 5.1. **ä»»åŠ¡åç§°ä¸æè¿°**

ç”¨æˆ·å¯ä»¥ä¸ºæ¯æ¬¡æ¯”å¯¹ä»»åŠ¡è®¾ç½®åç§°å’Œæè¿°ï¼Œä»¥ä¾¿æ›´å¥½åœ°è¯†åˆ«å’Œç®¡ç†ä»»åŠ¡ã€‚



### 5.2. **ä»»åŠ¡æ‰§è¡Œé¢‘ç‡**

æ ¹æ®å®é™…éœ€æ±‚ï¼Œç”¨æˆ·å¯ä»¥è®¾å®šæ¯”å¯¹ä»»åŠ¡çš„æ‰§è¡Œé¢‘ç‡ï¼Œå¦‚å®šæ—¶æ‰§è¡Œã€å®æ—¶æ‰§è¡Œç­‰ã€‚



### 5.3. **ä»»åŠ¡ä¼˜å…ˆçº§**

åœ¨å¤šä¸ªæ¯”å¯¹ä»»åŠ¡åŒæ—¶æ‰§è¡Œæ—¶ï¼Œç”¨æˆ·å¯ä»¥ä¸ºä»»åŠ¡è®¾ç½®ä¼˜å…ˆçº§ï¼Œä»¥ç¡®ä¿é‡è¦ä»»åŠ¡èƒ½å¤Ÿä¼˜å…ˆå¾—åˆ°å¤„ç†ã€‚







## 6. åº”ç”¨åœºæ™¯

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1752570981935-c1d29732-c5e0-4206-911c-2fa4d65070c2.png)

### 6.1. **æ•°æ®è¿ç§»ä¸æ•´åˆ**

åœ¨æ•°æ®è¿ç§»å’Œæ•´åˆè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨AllDataæ•°æ®ä¸­å°çš„æ•°æ®æ¯”å¯¹ç®¡ç†åŠŸèƒ½å¯ä»¥ç¡®ä¿æ–°æ—§æ•°æ®ä¹‹é—´çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ï¼Œé€šè¿‡æ¯”å¯¹ç»“æœï¼Œç”¨æˆ·å¯ä»¥åŠæ—¶å‘ç°å¹¶è§£å†³æ•°æ®è¿ç§»è¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ã€‚

### 6.2. **ä¸šåŠ¡å†³ç­–æ”¯æŒ**

åœ¨ä¸šåŠ¡å†³ç­–è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨å‡†ç¡®çš„æ•°æ®æ˜¯è‡³å…³é‡è¦çš„ã€‚AllDataæ•°æ®ä¸­å°çš„æ•°æ®æ¯”å¯¹ç®¡ç†åŠŸèƒ½å¯ä»¥å¸®åŠ©ç”¨æˆ·è¯†åˆ«å’Œæ¶ˆé™¤æ•°æ®ä¸­çš„å¼‚å¸¸å’Œé”™è¯¯ï¼Œä¸ºä¸šåŠ¡å†³ç­–æä¾›å¯é çš„æ•°æ®æ”¯æŒã€‚

### 6.3. **æ•°æ®è´¨é‡ç›‘æ§ä¸æ²»ç†**

æ•°æ®è´¨é‡æ˜¯æ•°æ®ç®¡ç†å’Œæ²»ç†çš„æ ¸å¿ƒã€‚é€šè¿‡AllDataæ•°æ®ä¸­å°çš„æ•°æ®æ¯”å¯¹ç®¡ç†åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥å®æ—¶ç›‘æ§æ•°æ®è´¨é‡å¹¶é‡‡å–ç›¸åº”çš„æªæ–½è¿›è¡Œæ”¹è¿›å’Œä¼˜åŒ–ã€‚



## 7. ä¼˜åŒ–ä¸è°ƒæ•´

### 7.1. **åˆ†æå¯¹æ¯”ç»“æœ**

- å¯¹å¯¼å‡ºçš„å¯¹æ¯”ç»“æœè¿›è¡Œæ·±å…¥åˆ†æï¼›
- æ ¹æ®åˆ†æç»“æœï¼Œè¯†åˆ«æ•°æ®ä¸­çš„é—®é¢˜å’Œå·®å¼‚ï¼Œå¹¶åˆ¶å®šç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚



### 7.2. **è°ƒæ•´å¯¹æ¯”è§„åˆ™**

- å¦‚å‘ç°å¯¹æ¯”è§„åˆ™å­˜åœ¨ä¸è¶³æˆ–è¯¯å·®ï¼ŒåŠæ—¶è°ƒæ•´å’Œä¼˜åŒ–å¯¹æ¯”è§„åˆ™ï¼›
- é€šè¿‡ä¸æ–­è¿­ä»£å’Œä¼˜åŒ–ï¼Œæé«˜æ•°æ®å¯¹æ¯”çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚





------

# **æ•°æ®æ ‡å‡†ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°çš„æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®šä¹‰ã€å®æ–½ã€ç›‘æ§å’Œç»´æŠ¤æ•°æ®æ ‡å‡†ï¼Œä»¥ç¡®ä¿æ•°æ®åœ¨æ•´ä¸ªç»„ç»‡å†…éƒ¨çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚é€šè¿‡é›†æˆå¤šä¸ªå¼€æºé¡¹ç›®å’Œå…ˆè¿›æŠ€æœ¯ï¼Œæä¾›äº†å…¨é¢ä¸”é«˜æ•ˆçš„æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½ã€‚

### 2.1. æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- æ ‡å‡†ç®¡æ§
- æ‰‹å·¥æ ‡å‡†å¯¹ç…§ä¸è‡ªåŠ¨æ ‡å‡†å¯¹ç…§
- æ ‡å‡†ä¸å­—æ®µæ˜ å°„
- å¼€æ”¾é›†æˆä¸æ‰©å±•æ€§



### 2.2. AllDataæ•°æ®ä¸­å°æ•°æ®æ ‡å‡†ç®¡ç†æ”¯æŒå¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬ï¼š

#### 2.2.1. **å…³ç³»å‹æ•°æ®åº“**

- MySQL
- Oracle
- SQL Server
- PostgreSQL

#### 2.2.2. **éå…³ç³»å‹æ•°æ®åº“**

- MongoDB
- Redis
- Elasticsearch

#### 2.2.3. **å¤§æ•°æ®å­˜å‚¨**

- Hadoop
- Hive
- Spark
- å…¶ä»–å¤§æ•°æ®å­˜å‚¨

#### 2.2.4. **å®æ—¶æ•°æ®æµä¸æ¶ˆæ¯é˜Ÿåˆ—**

- Kafka
- RocketMQ
- Flinkæµå¼æ•°æ®

#### 2.2.5. **å…¶ä»–æ•°æ®æº**

- CSV
- Excel
- JSON
- Parquet
- â€¦â€¦



### 2.3. çµæ´»çš„æ•°æ®æ ‡å‡†åˆ¶å®šä¸æ‰§è¡Œ

#### 2.3.1. **è‡ªå®šä¹‰æ•°æ®æ ‡å‡†**

AllDataæ•°æ®ä¸­å°æ”¯æŒä¼ä¸šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰æ•°æ®æ ‡å‡†ï¼ŒåŒ…æ‹¬æ•°æ®çš„å‘½åè§„åˆ™ã€æ•°æ®æ ¼å¼ã€æ•°æ®å­—æ®µç­‰ã€‚è¿™ç§çµæ´»æ€§ä½¿å¾—æ•°æ®æ ‡å‡†ç®¡ç†èƒ½å¤Ÿç´§å¯†è´´åˆä¼ä¸šçš„å®é™…ä¸šåŠ¡éœ€æ±‚ã€‚

#### 2.3.2. **æ•°æ®æ ‡å‡†å¼ºåˆ¶æ‰§è¡Œ**

åˆ¶å®šå¥½çš„æ•°æ®æ ‡å‡†å¯ä»¥é€šè¿‡AllDataè¿›è¡Œå¼ºåˆ¶æ‰§è¡Œï¼Œç¡®ä¿å„éƒ¨é—¨æŒ‰ç…§ç»Ÿä¸€çš„æ ‡å‡†è¿›è¡Œæ•°æ®ç®¡ç†å’Œåº”ç”¨ã€‚è¿™æœ‰åŠ©äºæé«˜æ•°æ®çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ï¼Œé™ä½æ•°æ®ç®¡ç†å’Œåº”ç”¨çš„éš¾åº¦ã€‚





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æ ‡å‡†ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **åŸºç¡€ç¯å¢ƒï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼šLinuxæˆ–macOSï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šä¸”æ”¯æŒåç»­ç»„ä»¶çš„å®‰è£…ä¸è¿è¡Œã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 1.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œä¸ºAllDataæä¾›Javaè¿è¡Œç¯å¢ƒã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è5.7+ï¼‰ï¼Œç”¨äºå­˜å‚¨æ•°æ®æ ‡å‡†ç®¡ç†ç›¸å…³çš„å…ƒæ•°æ®å’Œé…ç½®ä¿¡æ¯ã€‚
- **ç¼“å­˜**ï¼šRedis 3.0æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œæé«˜æ•°æ®è®¿é—®æ€§èƒ½ã€‚
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ 3.0.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œæ”¯æŒå¼‚æ­¥æ¶ˆæ¯å¤„ç†ï¼Œå¢å¼ºç³»ç»Ÿå¯æ‰©å±•æ€§ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºé¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†ã€‚
- **å‰ç«¯ç¯å¢ƒ**ï¼šNode.js 12.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œæ”¯æŒå‰ç«¯é¡¹ç›®çš„å¼€å‘ä¸æ„å»ºã€‚



ğŸ’¡ **ç‰¹åˆ«æç¤º**ï¼š

- ä½¿ç”¨MySQL 8.xç‰ˆæœ¬çš„ç”¨æˆ·éœ€æ³¨æ„å¯¼å…¥æ•°æ®æ—¶çš„ç¼–ç æ ¼å¼é—®é¢˜ï¼Œç¡®ä¿æ•°æ®æ­£ç¡®å¯¼å…¥ã€‚



### 3.2. è·å–æºç 

ğŸ’¡**è·å–æ–¹å¼**ï¼š

- ç¡®ä¿è·å–çš„ä»£ç ç‰ˆæœ¬ä¸æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½å…¼å®¹ï¼Œé¿å…å› ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„é—®é¢˜ã€‚



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **åç«¯ç¼–è¯‘**ï¼š

- é€šè¿‡è”ç³»å¸‚åœºæ€»ç›‘è·å–å•†ä¸šç‰ˆæºç ã€‚
- ç¡®ä¿è·å–çš„ä»£ç ç‰ˆæœ¬ä¸æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½å…¼å®¹ï¼Œé¿å…å› ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„é—®é¢˜ã€‚



ğŸ’¡ **å‰ç«¯æ„å»º**ï¼š

- è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œ`npm install`å®‰è£…å‰ç«¯ä¾èµ–ã€‚
- ä½¿ç”¨`npm run build:prod`æ„å»ºå‰ç«¯ç”Ÿäº§åŒ…ï¼Œç”Ÿæˆé™æ€èµ„æºæ–‡ä»¶ã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- åˆ›å»ºMySQLæ•°æ®åº“ï¼Œå¹¶æ‰§è¡Œå®‰è£…ç›®å½•ä¸‹çš„SQLè„šæœ¬ï¼ˆå¦‚`install/sql/studio.sql`å’Œ`install/sql/studio-v0.x.x.sql`ï¼‰ï¼Œåˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„å’Œæ•°æ®ã€‚
- å¯¼å…¥BIç›¸å…³SQLï¼ˆå¦‚éœ€è¦ï¼‰ï¼Œç¡®ä¿æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½èƒ½ä¸å…¶ä»–æ¨¡å—ååŒå·¥ä½œã€‚

#### 3.4.2. **é…ç½®ä¿®æ”¹**ï¼š

- ä¿®æ”¹`application.properties`æˆ–`application.yml`æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¿æ¥ã€æ—¥å¿—è·¯å¾„ç­‰å‚æ•°ï¼Œç¡®ä¿é…ç½®ä¸å®é™…ç¯å¢ƒä¸€è‡´ã€‚
- é…ç½®æ•°æ®æ ‡å‡†ç®¡ç†ç›¸å…³çš„å‚æ•°ï¼Œå¦‚æ•°æ®æ ‡å‡†åˆ†ç±»ã€æ•°æ®æ ‡å‡†æ¨¡æ¿ç­‰ã€‚

#### 3.4.3. **æœåŠ¡å¯åŠ¨**ï¼š

- å¯åŠ¨æ³¨å†Œä¸­å¿ƒï¼ˆå¦‚DataxEurekaApplicationï¼‰ã€é…ç½®ä¸­å¿ƒï¼ˆå¦‚DataxConfigApplicationï¼‰å’Œç½‘å…³ï¼ˆå¦‚DataxGatewayApplicationï¼‰ç­‰åŸºç¡€æœåŠ¡ã€‚
- å¯åŠ¨æ•°æ®æ ‡å‡†ç®¡ç†æœåŠ¡ï¼ˆå¦‚DataStandardServiceApplicationï¼‰ï¼Œç¡®ä¿æœåŠ¡èƒ½æ­£å¸¸æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒå¹¶å¯¹å¤–æä¾›æœåŠ¡ã€‚

#### 3.4.4. **å‰ç«¯éƒ¨ç½²**ï¼š

- å°†å‰ç«¯æ„å»ºç”Ÿæˆçš„é™æ€èµ„æºæ–‡ä»¶éƒ¨ç½²åˆ°Nginxç­‰WebæœåŠ¡å™¨ä¸Šã€‚
- é…ç½®Nginxåå‘ä»£ç†è§„åˆ™ï¼Œå°†å‰ç«¯è¯·æ±‚è½¬å‘åˆ°åç«¯ç½‘å…³æœåŠ¡ã€‚



### 3.5. å¯é€‰é…ç½®

#### 3.5.1. **æ•°æ®æ ‡å‡†æ¨¡æ¿å®šåˆ¶**ï¼š

- æ ¹æ®ä¼ä¸šå®é™…éœ€æ±‚ï¼Œå®šåˆ¶æ•°æ®æ ‡å‡†æ¨¡æ¿ï¼ŒåŒ…æ‹¬æ•°æ®å­—æ®µçš„å‘½åè§„åˆ™ã€æ•°æ®ç±»å‹ã€æ•°æ®æ ¼å¼ç­‰ã€‚
- å°†å®šåˆ¶çš„æ•°æ®æ ‡å‡†æ¨¡æ¿å¯¼å…¥AllDataæ•°æ®ä¸­å°ï¼Œä¾›æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½ä½¿ç”¨ã€‚

#### 3.5.2. **æ•°æ®æ ‡å‡†å…³è”ä¸æ˜ å°„**ï¼š

- é…ç½®æ•°æ®æ ‡å‡†ä¸æ•°æ®æºã€æ•°æ®è¡¨ã€å­—æ®µçš„å…³è”å…³ç³»ï¼Œç¡®ä¿æ•°æ®æ ‡å‡†èƒ½å‡†ç¡®åº”ç”¨åˆ°å®é™…æ•°æ®ä¸Šã€‚
- å»ºç«‹æ•°æ®æ ‡å‡†æ˜ å°„è§„åˆ™ï¼Œå®ç°æ•°æ®æ ‡å‡†åœ¨ä¸åŒæ•°æ®æºä¹‹é—´çš„è½¬æ¢å’Œæ˜ å°„ã€‚

#### 3.5.3. **æ•°æ®æ ‡å‡†ç›‘æ§ä¸å‘Šè­¦**ï¼š

- é…ç½®æ•°æ®æ ‡å‡†ç›‘æ§è§„åˆ™ï¼Œå®æ—¶ç›‘æ§æ•°æ®æ ‡å‡†çš„æ‰§è¡Œæƒ…å†µå’Œæ•°æ®è´¨é‡çŠ¶å†µã€‚
- è®¾ç½®æ•°æ®æ ‡å‡†å¼‚å¸¸å‘Šè­¦é˜ˆå€¼ï¼Œå½“æ•°æ®æ ‡å‡†æ‰§è¡Œå¼‚å¸¸æˆ–æ•°æ®è´¨é‡ä¸è¾¾æ ‡æ—¶ï¼ŒåŠæ—¶è§¦å‘å‘Šè­¦é€šçŸ¥ç›¸å…³äººå‘˜ã€‚



## 4. è®¿é—®æ•°æ®æ ‡å‡†ç®¡ç†é¡µé¢

#### 4.1.1. **æ ‡å‡†ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406986600-c916f7b0-6c8d-4840-ab5d-1ec19c82b1f1.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.2. **æ•°æ®æ ‡å‡†æ›´æ–°**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407015565-b6bcd1e6-e7a0-40dd-afe3-606a5b2ea8e7.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.3. **æ–°å¢æ•°æ®æ ‡å‡†**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407039375-1339ba5f-fb3a-4191-96f9-4f7744575506.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407080556-5f37aaff-15ec-4ebd-b037-95be2aa4ccbb.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.4. **æ–°å¢æ•°æ®æ ‡å‡†æˆåŠŸ**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407103960-d9e3dd91-4d8c-4679-b97d-bdd01248e664.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.5. **ä¿®æ”¹æ•°æ®æ ‡å‡†**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407174127-73146c78-1b24-4a98-98f9-9c286faf8a61.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.6. **æ ‡å‡†å…³ç³»ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407216794-06c831ad-40c1-400d-876f-4ea9fdbf6675.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.7. **æ–°å¢æ ‡å‡†å…³ç³»æ˜ å°„**

##### 4.1.7.1. **é€šè¿‡é€‰æ‹©æ•°æ®æºã€æ•°æ®è¡¨ã€å­—æ®µåˆ›å»ºæ ‡å‡†å…³ç³»æ˜ å°„**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407289062-521a5282-4ff7-4d80-a8da-e52f5cd9584c.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.7.2. **ç¼–è¾‘æ ‡å‡†å…³ç³»æ˜ å°„**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407351967-63b9bdc0-1884-4032-bdbc-f605291ff700.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.8. **æ ‡å‡†ä»»åŠ¡ä¸­å¿ƒ**

##### 4.1.8.1. **è‡ªåŠ¨å¯¹ç…§æ ‡å‡†ä»»åŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407476218-90267856-acc4-4ecc-8aec-6951d2ed69d1.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.8.2. **å–æ¶ˆå¯¹ç…§æ ‡å‡†ä»»åŠ¡å…³ç³»**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407494053-ee2156af-7601-45e0-a75d-349a88ce446d.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.8.3. **å–æ¶ˆå¯¹ç…§æ ‡å‡†ä»»åŠ¡æˆåŠŸ**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407502338-6a636f56-c793-4d12-b948-7583df354263.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.8.4. **æ‰‹å·¥å¯¹ç…§æ ‡å‡†ä»»åŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407547083-946e549d-1dac-4172-88a2-58d1a1f6abc8.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.9. **æ ‡å‡†ç»“æœä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407589850-5c592d74-4a47-4979-a0d7-691b6e1702b6.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.10. **æ£€ç´¢æ ‡å‡†ç»“æœ**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741407661867-fa784276-8f2a-4b2a-902f-21aebba24139.png?x-oss-process=image%2Fformat%2Cwebp)



## 5. æ•°æ®æ ‡å‡†ç®¡ç†åŠŸèƒ½ä¼˜åŠ¿

### 5.1. **æé«˜æ•°æ®è´¨é‡**

- é€šè¿‡å®šä¹‰å’Œå®æ–½æ•°æ®æ ‡å‡†ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šæé«˜æ•°æ®è´¨é‡ï¼Œå‡å°‘æ•°æ®é”™è¯¯å’Œä¸ä¸€è‡´æ€§ã€‚æœ‰åŠ©äºä¼ä¸šåšå‡ºæ›´å‡†ç¡®çš„ä¸šåŠ¡å†³ç­–ï¼Œæé«˜ä¸šåŠ¡æ•ˆç‡å’Œç«äº‰åŠ›ã€‚

### 5.2. **å¢å¼ºæ•°æ®å¯å¤ç”¨æ€§**

- é€šè¿‡ç»Ÿä¸€çš„æ•°æ®æ ‡å‡†ï¼Œä¼ä¸šå¯ä»¥å®ç°æ•°æ®çš„å¤ç”¨å’Œå…±äº«ã€‚æœ‰åŠ©äºä¼ä¸šé¿å…æ•°æ®å­¤å²›é—®é¢˜ï¼Œæé«˜æ•°æ®åˆ©ç”¨æ•ˆç‡å’Œä»·å€¼ã€‚

### 5.3. **ç»Ÿä¸€çš„æ•°æ®æ ‡å‡†å®šä¹‰**

- å…è®¸ä¼ä¸šæ ¹æ®è‡ªèº«ä¸šåŠ¡éœ€æ±‚ï¼Œç»Ÿä¸€å®šä¹‰æ•°æ®æ ‡å‡†ï¼ŒåŒ…æ‹¬æ•°æ®å­—æ®µçš„åç§°ã€ç±»å‹ã€æè¿°ã€é»˜è®¤å€¼ç­‰å±æ€§ã€‚



## 6. æ³¨æ„äº‹é¡¹

### 6.1. **ç¡®ä¿æ•°æ®æ ‡å‡†** 

- åœ¨åˆ›å»ºå’Œç¼–è¾‘æ•°æ®æ ‡å‡†å…³ç³»æ—¶ï¼Œéœ€è¦ç¡®ä¿å…³ç³»çš„å‡†ç¡®æ€§å’Œåˆç†æ€§ï¼Œä»¥é¿å…æ•°æ®é”™è¯¯å’Œä¸ä¸€è‡´ã€‚

### 6.2. **æ€§èƒ½ä¼˜åŒ–** 

- é¿å…åœ¨å®æ—¶æµä¸­é…ç½®è¿‡å¤šå¤æ‚æ­£åˆ™æ ¡éªŒï¼Œä¼˜å…ˆä¿éšœååé‡ï¼Œç¦»çº¿ä»»åŠ¡å¯æ”¾å®½é™åˆ¶ã€‚

### 6.3. **æ•°æ®ä¸€è‡´æ€§** 

- åœ¨é…ç½®æ•°æ®æ ‡å‡†æ—¶ï¼Œåº”ç¡®ä¿æ‰€æœ‰æ•°æ®æºå’Œæ•°æ®è¡¨éµå¾ªç»Ÿä¸€çš„æ•°æ®æ ‡å‡†ï¼Œä»¥æé«˜æ•°æ®çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚



------

# **æ•°æ®é—¨æˆ·ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®é—¨æˆ·ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°çš„æ•°æ®é—¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œé€šè¿‡é›†ä¸­ç®¡ç†å…ƒæ•°æ®å…¨é¢é‡‡é›†ã€æ•´åˆã€å­˜å‚¨å’Œåˆ†æä¼ä¸šå†…å¤–çš„å„ç±»å…ƒæ•°æ®ï¼Œæ”¯æŒæ•°æ®è¡€ç¼˜è¿½è¸ªä¸ä¸Šä¸‹æ–‡ç†è§£ï¼Œç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚é€šè¿‡æ•°æ®å‘ç°ã€è´¨é‡ç›‘æ§åŠç‰ˆæœ¬æ§åˆ¶ï¼Œæ•°æ®é—¨æˆ·ç®¡ç†åŠŸèƒ½æœ‰æ•ˆæå‡äº†æ•°æ®æ²»ç†æ•ˆç‡ä¸æ•°æ®èµ„äº§ä»·å€¼ã€‚

### 2.1. æ•°æ®é—¨æˆ·ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- é›†ä¸­å­˜å‚¨ä¸ç®¡ç†
- æ•°æ®è¡€ç¼˜è¿½è¸ª
- æ•°æ®å‘ç°ä¸æŸ¥è¯¢
- è´¨é‡ç›‘æ§
- ç‰ˆæœ¬æ§åˆ¶



### 2.2. AllDataæ•°æ®ä¸­å°æ•°æ®é—¨æˆ·ç®¡ç†åŠŸèƒ½æ‰€æ”¯æŒçš„æ•°æ®æºï¼ŒåŒ…æ‹¬ï¼š

#### 2.2.1. å…³ç³»å‹æ•°æ®åº“

- MySQLã€Oracleã€PostgreSQLç­‰ï¼Œç”¨äºå­˜å‚¨ç»“æ„åŒ–æ•°æ®ã€‚

#### 2.2.2. NoSQLæ•°æ®åº“

- MongoDBã€Cassandraã€Redisç­‰ï¼Œè¿™äº›æ•°æ®åº“åœ¨å¤„ç†å¤§è§„æ¨¡ã€éç»“æ„åŒ–æ•°æ®æ–¹é¢å…·æœ‰ä¼˜åŠ¿

#### 2.2.3. å®æ—¶æ•°æ®æµ

- Kafkaã€Flinkç­‰ï¼Œè¿™äº›å·¥å…·èƒ½å¤Ÿå¤„ç†å®æ—¶æ•°æ®æµï¼Œæ”¯æŒå®æ—¶æ•°æ®åˆ†æå’Œå†³ç­–ã€‚

#### 2.2.4. äº‘æ•°æ®æº

- Amazon S3ã€Azure Blob Storageã€é˜¿é‡Œäº‘OSSç­‰ï¼Œè¿™äº›äº‘å­˜å‚¨æœåŠ¡æä¾›äº†é«˜å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§ã€‚

#### 2.2.5. æ•°æ®ä»“åº“

- Redshiftã€Greenplumç­‰ï¼Œè¿™äº›ä»“åº“ä¸“é—¨ç”¨äºå­˜å‚¨å’Œç®¡ç†å¤§é‡å†å²æ•°æ®ï¼Œæ”¯æŒå¤æ‚çš„æ•°æ®åˆ†æå’ŒæŠ¥å‘Šéœ€æ±‚ã€‚

#### 2.2.6. å…¶ä»–æ•°æ®æº





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®é—¨æˆ·ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **æ“ä½œç³»ç»Ÿè¦æ±‚ï¼š**

- **JDK**ï¼š1.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç¡®ä¿Javaå¼€å‘ç¯å¢ƒå·²æ­£ç¡®é…ç½®ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è5.7+ï¼‰ï¼Œç”¨äºå­˜å‚¨å…ƒæ•°æ®ä¿¡æ¯ã€‚
- **ç¼“å­˜**ï¼šRedis 3.0æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºç¼“å­˜å…ƒæ•°æ®æŸ¥è¯¢ç»“æœï¼Œæå‡å“åº”é€Ÿåº¦ã€‚
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ 3.0.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºå¼‚æ­¥æ¶ˆæ¯å¤„ç†å’Œä»»åŠ¡è°ƒåº¦ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºé¡¹ç›®ç¼–è¯‘å’Œä¾èµ–ç®¡ç†ã€‚
- **å‰ç«¯ç¯å¢ƒ**ï¼šNode.js 10.15.3æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºå‰ç«¯é¡¹ç›®çš„å¼€å‘å’Œæ„å»ºã€‚



ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–éƒ¨ä¾èµ–ä»“åº“ï¼ˆå¦‚Mavenä¸­å¤®ä»“åº“ã€NPMä»“åº“ï¼‰ã€‚
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œå¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚MySQLçš„3306ã€Redisçš„6379ã€RabbitMQçš„5672ç­‰ï¼‰ã€‚



### 3.2. è·å–æºç 

ğŸ’¡**ç‰ˆæœ¬é€‰æ‹©**ï¼š

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ **ä»£ç ç»“æ„ï¼š**

- **åç«¯**ï¼šæ•°æ®é—¨æˆ·ç®¡ç†åŠŸèƒ½é€šå¸¸ä½äº`modules/data-metadata-service-parent`ç›®å½•ä¸‹ï¼ŒåŒ…å«å…ƒæ•°æ®é‡‡é›†ã€å­˜å‚¨ã€æŸ¥è¯¢ç­‰æ¨¡å—ã€‚
- **å‰ç«¯**ï¼šå‰ç«¯ä»£ç ä½äº`moat_ui`ç›®å½•ä¸‹ï¼ŒåŒ…å«æ•°æ®é—¨æˆ·ç®¡ç†ç›¸å…³çš„é¡µé¢å’Œç»„ä»¶ã€‚



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **åç«¯ç¼–è¯‘**ï¼š

- è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡ŒMavenæ„å»ºå‘½ä»¤ï¼š

```javascript
mvn clean package -DskipTests
```

- å¦‚éœ€æŒ‡å®šç‰ˆæœ¬å‚æ•°ï¼ˆå¦‚Hadoopã€Flinkã€Sparkç‰ˆæœ¬ï¼‰ï¼Œå¯æ·»åŠ `-D`å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```javascript
mvn clean package -DskipTests -Dhadoop.version=3.3.4
```



ğŸ’¡ **å‰ç«¯æ„å»º**ï¼š

- è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•ï¼Œå®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```javascript
cd moat_ui
npm install
npm run dev
```

- ç”Ÿäº§ç¯å¢ƒæ„å»ºï¼š

```javascript
npm run build:prod
```



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- åˆ›å»ºåä¸º`studio`çš„æ•°æ®åº“ã€‚
- æ‰§è¡ŒSQLè„šæœ¬ï¼š

```javascript
source install/sql/alldata.sql
source install/sql/alldata-v0.x.x.sql
```

- å¯¼å…¥æ•°æ®é—¨æˆ·ç®¡ç†ç›¸å…³çš„SQLè„šæœ¬ï¼ˆå¦‚`data-metadata.sql`ï¼‰ã€‚



#### 3.4.2. **åç«¯æœåŠ¡å¯åŠ¨**

ğŸ’¡ **æ ¸å¿ƒæœåŠ¡å¯åŠ¨é¡ºåº**ï¼š

- æ³¨å†Œä¸­å¿ƒï¼ˆ`DataxEurekaApplication`ï¼‰

- é…ç½®ä¸­å¿ƒï¼ˆ`DataxConfigApplication`ï¼‰

- APIç½‘å…³ï¼ˆ`DataxGatewayApplication`ï¼‰

- ç³»ç»ŸæœåŠ¡ï¼ˆ`SystemServiceApplication`ï¼‰

- æ•°æ®é—¨æˆ·ç®¡ç†æœåŠ¡ï¼ˆ`DataxMetadataApplication`ï¼‰



#### 3.4.3. **å‰ç«¯éƒ¨ç½²**

- å°†æ„å»ºåçš„ç”Ÿäº§åŒ…ï¼ˆ`dist`ç›®å½•ï¼‰éƒ¨ç½²åˆ°NginxæœåŠ¡å™¨ã€‚
- Nginxé…ç½®ç¤ºä¾‹ï¼š

```javascript
server {
    listen 80;
    server_name your_domain.com;
    location / {
        root /path/to/dist;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    location /api/ {
        proxy_pass http://backend_server:port/;
        proxy_set_header Host $proxy_host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```



### 3.5. å¯é€‰é…ç½®

#### 3.5.1. **å…ƒæ•°æ®è¡€ç¼˜åˆ†æé…ç½®**

- å¯ç”¨å…ƒæ•°æ®è¡€ç¼˜åˆ†æåŠŸèƒ½ï¼Œé…ç½®æ•°æ®è¡€ç¼˜çš„é‡‡é›†è§„åˆ™å’Œå­˜å‚¨ç­–ç•¥ã€‚
- æ”¯æŒé€šè¿‡å¯è§†åŒ–ç•Œé¢æŸ¥çœ‹æ•°æ®çš„æ¥æºå’Œæµè½¬è·¯å¾„ï¼Œä¾¿äºæ•°æ®æº¯æºå’Œå½±å“åˆ†æã€‚

#### 3.5.2. **å…ƒæ•°æ®è´¨é‡ç›‘æ§é…ç½®**

- é…ç½®å…ƒæ•°æ®è´¨é‡ç›‘æ§è§„åˆ™ï¼Œå®šæœŸæ£€æŸ¥å…ƒæ•°æ®çš„å®Œæ•´æ€§ã€å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚
- è®¾ç½®å‘Šè­¦è§„åˆ™ï¼Œå½“å…ƒæ•°æ®è´¨é‡ä¸ç¬¦åˆè¦æ±‚æ—¶ï¼Œé€šè¿‡é‚®ä»¶ã€çŸ­ä¿¡ç­‰æ–¹å¼é€šçŸ¥ç®¡ç†å‘˜ã€‚

#### 3.5.3. **å…ƒæ•°æ®æƒé™ç®¡ç†é…ç½®**

- åœ¨ç³»ç»Ÿç®¡ç†ä¸­ï¼Œä¸ºä¸åŒè§’è‰²åˆ†é…å…ƒæ•°æ®çš„è®¿é—®æƒé™ã€‚
- æ”¯æŒç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼Œç¡®ä¿å…ƒæ•°æ®çš„å®‰å…¨æ€§å’Œåˆè§„æ€§ã€‚



## 4. è®¿é—®æ•°æ®é—¨æˆ·ç®¡ç†é¡µé¢

#### 4.1.1. æ•°æ®é—¨æˆ·ç®¡ç†-æ•°æ®æºç®¡ç†

- åœ¨æ•°æ®æºç®¡ç†é¡µé¢ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹å·²ç»æ·»åŠ çš„æ•°æ®æºåˆ—è¡¨ã€‚
- åˆ—è¡¨ä¼šæ˜¾ç¤ºæ•°æ®æºçš„ç±»å‹ã€åç§°ã€è¿æ¥çŠ¶æ€ç­‰ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674682041-c8aaba48-c692-4e44-8390-2175e78e603c.png)

#### 4.1.2. å…ƒæ•°æ®åŒæ­¥

- åœ¨åŒæ­¥ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ•°æ®é—¨æˆ·ç®¡ç†é¡µé¢ä¸­æŸ¥çœ‹åŒæ­¥è¿›åº¦å’ŒçŠ¶æ€ã€‚
- ç”¨æˆ·éœ€è¦æ›´è¯¦ç»†åœ°äº†è§£åŒæ­¥ä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹åŒæ­¥æ—¥å¿—ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674654753-ca87bb2d-130c-478e-9101-41ec83641ff4.png)![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674654763-1c432e25-8cea-4d74-8bd0-0a9a6f92a588.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674660223-dd14e8f6-e5c2-4561-b92a-168b00c7f535.png)

#### 4.1.3. æ•°æ®ç›®å½•

- é€šè¿‡åˆ†ç±»ç­›é€‰æˆ–å…³é”®è¯æœç´¢ã€å¿«é€Ÿå®šä½æ‰€éœ€æ•°æ®ï¼Œå¯ä»¥æŸ¥çœ‹æ•°æ®çš„è¯¦ç»†æè¿°ã€æ¥æºã€æ ¼å¼ç­‰ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674669134-fcb3e28f-bf92-4cf7-96f9-51f12ad474e4.png)

#### 4.1.4. æŸ¥çœ‹å­—æ®µè¯¦æƒ…

- åœ¨æŸ¥çœ‹å­—æ®µè¯¦æƒ…æ—¶ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¯¹å­—æ®µè¿›è¡Œç¼–è¾‘ã€å˜æ›´ç­‰æ“ä½œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674697096-a107ab39-5cb8-4fe7-8d47-38fb02b7285d.png)

#### 4.1.5. æ•°æ®ç›®å½•å…ƒæ•°æ®å˜æ›´

- åœ¨ç¼–è¾‘é¡µé¢ä¸Šï¼Œå¯ä»¥å˜æ›´å…ƒæ•°æ®çš„ç±»å‹ã€åç§°ã€ç‰ˆæœ¬å·ã€æœ€æ–°çš„å€¼ã€çŠ¶æ€ç­‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674716317-073dc35c-43cd-4593-9069-6b3168a2ce83.png)

#### 4.1.6. æ•°æ®åœ°å›¾

- ç”¨æˆ·å¯ä»¥å¿«é€Ÿå®šä½å’Œå‘ç°æ‰€éœ€çš„æ•°æ®èµ„æºï¼Œäº†è§£æ•°æ®çš„æ¥æºã€æµå‘ã€è´¨é‡ä»¥åŠä½¿ç”¨æƒé™ç­‰ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674721820-0014ba87-5b56-4050-b7f6-30cae92a7fd5.png)

#### 4.1.7. å…ƒæ•°æ®æŸ¥è¯¢

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674754641-6d1a52e8-2dbc-42cd-8159-ff96729069aa.png)![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674754255-ce61ef6d-9420-456b-8b8c-6a9adb60441e.png)

#### 4.1.8. è¡Œçº§å˜æ›´

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750674782495-4c8b5ee5-ba3d-4c59-9bc6-cb3c9745eea6.png)



## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **å…ƒæ•°æ®æŸ¥è¯¢å¤±è´¥**

- **ç°è±¡**ï¼šå…ƒæ•°æ®æŸ¥è¯¢è¿”å›é”™è¯¯æˆ–è¶…æ—¶ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æ•°æ®é—¨æˆ·ç®¡ç†æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œç½‘ç»œæ˜¯å¦é€šç•…ï¼Œæ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸ã€‚

### 5.2. **å…ƒæ•°æ®è¡€ç¼˜åˆ†æä¸å‡†ç¡®**

- **ç°è±¡**ï¼šå…ƒæ•°æ®è¡€ç¼˜åˆ†æç»“æœä¸å®é™…ä¸ç¬¦ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æ•°æ®è¡€ç¼˜é‡‡é›†è§„åˆ™æ˜¯å¦æ­£ç¡®ï¼Œæ•°æ®æµè½¬è·¯å¾„æ˜¯å¦å®Œæ•´ã€‚

### 5.3. **å…ƒæ•°æ®è´¨é‡ç›‘æ§å‘Šè­¦é¢‘ç¹**

- **ç°è±¡**ï¼šå…ƒæ•°æ®è´¨é‡ç›‘æ§é¢‘ç¹è§¦å‘å‘Šè­¦ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥å…ƒæ•°æ®è´¨é‡ç›‘æ§è§„åˆ™æ˜¯å¦åˆç†ï¼Œå…ƒæ•°æ®æ˜¯å¦ç¬¦åˆè´¨é‡è¦æ±‚ã€‚



## 6. æ³¨æ„äº‹é¡¹

### 6.1. **æ•°æ®ä¸€è‡´æ€§** 

- åœ¨é…ç½®æ•°æ®é—¨æˆ·ç®¡ç†æ—¶ï¼Œåº”ç¡®ä¿æ‰€æœ‰å…ƒæ•°æ®çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ï¼Œä»¥é¿å…æ•°æ®è´¨é‡é—®é¢˜ã€‚

### 6.2. **åˆç†è®¾ç½®æƒé™**

- æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œåˆç†è®¾ç½®å›¢é˜Ÿå’Œç”¨æˆ·çš„æƒé™ï¼Œç¡®ä¿å…ƒæ•°æ®çš„å®‰å…¨æ€§å’Œåˆè§„æ€§ã€‚

### 6.3. **å®šæœŸç›‘æ§å’Œè¯„ä¼°**

- å®šæœŸç›‘æ§æ•°æ®é—¨æˆ·ç®¡ç†çš„æ•ˆæœï¼Œè¯„ä¼°å…¶æ˜¯å¦æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œå¹¶æ ¹æ®è¯„ä¼°ç»“æœè¿›è¡Œå¿…è¦çš„è°ƒæ•´å’Œä¼˜åŒ–ã€‚





------

# **æ•°æ®æ¨¡å‹ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æ¨¡å‹ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°çš„æ•°æ®æ¨¡å‹ç®¡ç†åŠŸèƒ½é€šè¿‡æ”¯æŒå¤šç§æ•°æ®æºï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ•°æ®æºè¿›è¡Œæ•°æ®æ¨¡å‹çš„åˆ›å»ºå’Œç®¡ç†ã€‚

è¿™ä¸ä»…å¯ä»¥æé«˜æ•°æ®æ¨¡å‹çš„å‡†ç¡®æ€§å’Œå¯é æ€§ï¼Œè¿˜å¯ä»¥åŠ å¿«æ•°æ®åˆ†æå’Œå†³ç­–çš„é€Ÿåº¦ã€‚

### 2.1. æ•°æ®æ¨¡å‹ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- æ¨¡å‹ä¸æ•°æ®èµ„äº§å…³è”
- æ¨¡å‹è´¨é‡è¯„ä¼°
- å¤šç¯å¢ƒåŒæ­¥
- æ‰©å±•æ€§ä¸é›†æˆ

### 2.2. AllDataæ•°æ®ä¸­å°æ•°æ®æ¨¡å‹ç®¡ç†åŠŸèƒ½æ‰€æ”¯æŒçš„æ•°æ®æºï¼ŒåŒ…æ‹¬ï¼š

#### 2.2.1. **ç»“æ„åŒ–æ•°æ®æº**

- å…³ç³»å‹æ•°æ®åº“ï¼šMySQLã€Oracleã€PostgreSQLç­‰ï¼Œè¿™äº›æ•°æ®åº“å­˜å‚¨ç€ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ–¹ä¾¿è¿›è¡Œæ•°æ®æ¨¡å‹çš„åˆ›å»ºå’Œç®¡ç†ã€‚

#### 2.2.2. **éç»“æ„åŒ–æ•°æ®æº**

- æ–‡ä»¶å­˜å‚¨ï¼šHadoop HDFSã€Amazon S3ç­‰ï¼Œè¿™äº›å­˜å‚¨ç³»ç»Ÿå¯ä»¥å¤„ç†å¤§è§„æ¨¡çš„éç»“æ„åŒ–æ•°æ®ï¼Œæ–‡æœ¬æ–‡ä»¶ã€å›¾ç‰‡ã€è§†é¢‘ç­‰ã€‚

- NoSQLæ•°æ®åº“ï¼šMongoDBã€Cassandraç­‰ï¼Œè¿™äº›æ•°æ®åº“é€‚ç”¨äºå­˜å‚¨åŠç»“æ„åŒ–å’Œéç»“æ„åŒ–çš„æ•°æ®ã€‚

#### 2.2.3. **å®æ—¶æ•°æ®æº**

- æ¶ˆæ¯é˜Ÿåˆ—ï¼šKafkaã€RabbitMQç­‰ï¼Œè¿™äº›æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿå¯ä»¥å®æ—¶åœ°æ¥æ”¶å’Œå¤„ç†æ•°æ®æµï¼Œä¸ºæ•°æ®æ¨¡å‹æä¾›å®æ—¶çš„æ•°æ®æ›´æ–°ã€‚

- æµå¤„ç†å¹³å°ï¼šApache Flinkã€Apache Stormç­‰ï¼Œè¿™äº›å¹³å°å¯ä»¥å®æ—¶åœ°å¤„ç†å’Œåˆ†ææ•°æ®æµï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°æ•°æ®æ¨¡å‹ä¸­ã€‚

#### 2.2.4. **å…¶ä»–æ•°æ®æº**

- APIæ¥å£ï¼šé€šè¿‡è°ƒç”¨ç¬¬ä¸‰æ–¹APIæ¥å£ï¼Œå¯ä»¥è·å–å¤–éƒ¨ç³»ç»Ÿçš„æ•°æ®ï¼Œå¹¶å°†å…¶é›†æˆåˆ°æ•°æ®æ¨¡å‹ä¸­ã€‚

- æ—¥å¿—æ–‡ä»¶ï¼šæœåŠ¡å™¨æ—¥å¿—ã€åº”ç”¨æ—¥å¿—ç­‰ï¼Œè¿™äº›æ—¥å¿—æ–‡ä»¶åŒ…å«äº†ä¸°å¯Œçš„ä¸šåŠ¡ä¿¡æ¯ï¼Œå¯ä»¥ç”¨äºæ•°æ®æ¨¡å‹çš„è®­ç»ƒå’Œé¢„æµ‹ã€‚



### 2.3. æ•°æ®æ¨¡å‹æŸ¥è¯¢é¡µé¢

åœ¨AllDataæ•°æ®ä¸­å°ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æŸ¥è¯¢å’Œç®¡ç†æ•°æ®æ¨¡å‹ã€‚

æ•°æ®æ¨¡å‹æŸ¥è¯¢é¡µé¢æä¾›äº†å¤šç§æŸ¥è¯¢æ¡ä»¶ï¼Œå¦‚æ¨¡å‹åç§°ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è¿™äº›æ¡ä»¶å¿«é€Ÿå®šä½åˆ°æ‰€éœ€çš„æ•°æ®æ¨¡å‹ã€‚





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æ¨¡å‹ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **åŸºç¡€ç¯å¢ƒï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼šLinuxï¼ˆæ¨èCentOS/Ubuntuï¼‰æˆ–macOSï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 1.8+ï¼Œé…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7+ï¼ˆæ¨èï¼‰ï¼Œéœ€æå‰åˆ›å»ºæ•°æ®åº“å¹¶åˆ†é…æƒé™ï¼ˆå¦‚`studio`åº“ï¼‰ã€‚
- **ç¼“å­˜ä¸æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRedis 3.0+ï¼ˆç”¨äºç¼“å­˜åŠ é€Ÿï¼‰ã€RabbitMQ 3.0.x+ï¼ˆæ”¯æŒå¼‚æ­¥ä»»åŠ¡ï¼‰ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0+ï¼Œç”¨äºä¾èµ–ç®¡ç†ï¼›Node.js 12.x+ï¼ˆå‰ç«¯æ„å»ºï¼‰ã€‚
- **ç‰¹åˆ«æç¤º**ï¼šMySQL 8.xç”¨æˆ·éœ€æ³¨æ„æ•°æ®å¯¼å…¥ç¼–ç æ ¼å¼ï¼ˆå¦‚UTF-8ï¼‰ï¼Œé¿å…ä¹±ç é—®é¢˜ã€‚



ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–ç½‘ï¼ˆä¸‹è½½ä¾èµ–åº“ï¼‰ã€‚
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œä»…å¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚8080ã€3306ã€6379ã€5672ï¼‰ã€‚



### 3.2. è·å–æºç 

ğŸ’¡**ä»£ç å…‹éš†**ï¼šé€šè¿‡Gitå…‹éš†AllDataå•†ä¸šç‰ˆä»“åº“ï¼ˆéœ€æˆæƒï¼‰ï¼š

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡è¿›å…¥é¡¹ç›®ç›®å½•ï¼š

```javascript
cd moat
```

ğŸ’¡**æ¨¡å—å®šä½ï¼š**

- æ•°æ®è´¨é‡ç®¡ç†æ¨¡å—ä½äº`modules/data-quality-service`ï¼Œæ•°æ®æ¨¡å‹ç®¡ç†æ¨¡å—é€šå¸¸ä½äº`data-module`ï¼ˆæ ¹æ®ç‰ˆæœ¬å¯èƒ½è°ƒæ•´ï¼‰ã€‚



### 3.3. **ç¼–è¯‘æ„å»º**

ğŸ’¡ **åç«¯æ„å»º**ï¼š

- ä½¿ç”¨Mavenç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼ˆé¦–æ¬¡æ„å»ºéœ€ä¸‹è½½ä¾èµ–ï¼Œè€—æ—¶è¾ƒé•¿ï¼‰ï¼š

```javascript
mvn clean install -DskipTests
```

ğŸ’¡ **å…³é”®è¾“å‡º**ï¼š

- `data-quality-service-parent/target/`ç›®å½•ä¸‹ç”ŸæˆJARåŒ…ï¼ˆå¦‚`data-quality-service.jar`ï¼‰ã€‚
- æ•°æ®æ¨¡å‹ç®¡ç†æ¨¡å—ç”Ÿæˆç±»ä¼¼`data-module.jar`çš„JARåŒ…ã€‚

```javascript
mvn clean package -DskipTests -Dhadoop.version=3.3.4
```

ğŸ’¡**ä¾èµ–å¤„ç†**ï¼šè‹¥é¡¹ç›®ä½¿ç”¨ç‰¹æ®Šç»„ä»¶ï¼ˆå¦‚`aspose-words`ï¼‰ï¼Œéœ€æ‰‹åŠ¨å®‰è£…åˆ°æœ¬åœ°Mavenä»“åº“ï¼š

```javascript
mvn install:install-file -Dfile=aspose-words-20.3.jar -DgroupId=com.aspose -DartifactId=aspose-words -Dversion=20.3 -Dpackaging=jar
```



ğŸ’¡ **å‰ç«¯æ„å»º**ï¼š

- è¿›å…¥å‰ç«¯ç›®å½•ï¼ˆå¦‚`moat_ui`ï¼‰ï¼Œå®‰è£…ä¾èµ–å¹¶æ„å»ºï¼š

```javascript
npm install
npm run build:prod
```

- **è¾“å‡º**ï¼šç”Ÿæˆé™æ€èµ„æºæ–‡ä»¶ï¼ˆ`dist/`ç›®å½•ï¼‰ï¼Œéœ€éƒ¨ç½²åˆ°Nginxç­‰WebæœåŠ¡å™¨ã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- æ‰§è¡ŒSQLè„šæœ¬åˆå§‹åŒ–è¡¨ç»“æ„ï¼ˆä»¥æ•°æ®è´¨é‡ç®¡ç†ä¸ºä¾‹ï¼‰ï¼š

```javascript
mysql -u root -p studio < install/sql/alldata-quality.sql
```

- æ•°æ®æ¨¡å‹ç®¡ç†æ¨¡å—å¯èƒ½éœ€æ‰§è¡Œé¢å¤–è„šæœ¬ï¼ˆå¦‚`alldata-masterdata.sql`ï¼‰ã€‚

#### 3.4.2. **é…ç½®ä¿®æ”¹**

- **åç«¯é…ç½®**ï¼šä¿®æ”¹`application-common-dev.yml`ï¼ˆæˆ–å¯¹åº”ç¯å¢ƒæ–‡ä»¶ï¼‰ï¼š

```javascript
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/studio?useUnicode=true&characterEncoding=utf8
    username: root
    password: your_password
  redis:
    host: localhost
    port: 6379
  rabbitmq:
    host: localhost
    port: 5672
```

- **æ•°æ®æ¨¡å‹ç®¡ç†é…ç½®**ï¼šè‹¥éœ€è‡ªå®šä¹‰æ•°æ®å­—æ®µç±»å‹æˆ–é•¿åº¦ï¼Œä¿®æ”¹æ¨¡å—é…ç½®æ–‡ä»¶ï¼ˆå¦‚`data-masterdata.yml`ï¼‰ã€‚

#### 3.4.3. **æœåŠ¡å¯åŠ¨é¡ºåº**

ğŸ’¡ **åŸºç¡€æœåŠ¡**ï¼š

- æ³¨å†Œä¸­å¿ƒï¼ˆ`DataxEurekaApplication`ï¼‰

- é…ç½®ä¸­å¿ƒï¼ˆ`DataxConfigApplication`ï¼‰

- APIç½‘å…³ï¼ˆ`DataxGatewayApplication`ï¼‰



ğŸ’¡ **æ ¸å¿ƒæœåŠ¡**ï¼š

- æ•°æ®è´¨é‡ç®¡ç†æœåŠ¡ï¼ˆ`java -jar data-quality-service.jar`ï¼‰
- æ•°æ®æ¨¡å‹ç®¡ç†æœåŠ¡ï¼ˆ`java -jar data-masterdata-service.jar`ï¼‰



ğŸ’¡ **å‰ç«¯æœåŠ¡**ï¼šé€šè¿‡NginxåŠ è½½é™æ€èµ„æºï¼Œé…ç½®åå‘ä»£ç†ï¼š

```javascript
location /api/ {
  proxy_pass http://localhost:8080/;
}
```



ğŸ’¡ **éªŒè¯éƒ¨ç½²**ï¼š

- è®¿é—®Webç•Œé¢ï¼ˆå¦‚`http://localhost:8080`ï¼‰ï¼Œç™»å½•åæ£€æŸ¥â€œæ•°æ®è´¨é‡ç®¡ç†â€å’Œâ€œæ•°æ®æ¨¡å‹ç®¡ç†â€æ¨¡å—æ˜¯å¦å¯ç”¨ã€‚
- åˆ›å»ºæµ‹è¯•ä»»åŠ¡ï¼ˆå¦‚æ•°æ®è´¨é‡æ ¡éªŒæˆ–æ•°æ®æ¨¡å‹åˆ›å»ºï¼‰ï¼ŒæŸ¥çœ‹æ—¥å¿—ç¡®è®¤æ‰§è¡Œç»“æœï¼š

```javascript
tail -f logs/data-quality-service.log
tail -f logs/data-masterdata-service.log
```





### 3.5. å¯é€‰é…ç½®

#### 3.5.1. **æ•°æ®æ¨¡å‹æ‰©å±•**

- æ”¯æŒè‡ªå®šä¹‰æ•°æ®å­—æ®µç±»å‹ï¼ˆå¦‚æ–°å¢â€œèº«ä»½è¯å·â€ç±»å‹ï¼‰ï¼Œé€šè¿‡ä¿®æ”¹å…ƒæ•°æ®è¡¨æˆ–é…ç½®æ–‡ä»¶å®ç°ã€‚
- é…ç½®æ¨¡å‹ç‰ˆæœ¬æ§åˆ¶ï¼Œè®°å½•æ¨¡å‹å˜æ›´å†å²ã€‚

#### 3.5.2. **è´¨é‡è§„åˆ™ä¸æ¨¡å‹å…³è”**

- å°†æ•°æ®è´¨é‡è§„åˆ™ï¼ˆå¦‚éç©ºæ ¡éªŒï¼‰ç»‘å®šåˆ°æ•°æ®æ¨¡å‹çš„ç‰¹å®šå­—æ®µï¼Œå®ç°æ¨¡å‹è½åœ°æ—¶çš„è‡ªåŠ¨æ ¡éªŒã€‚
- ç¤ºä¾‹ï¼šä¸ºâ€œå®¢æˆ·è¡¨â€çš„â€œæ‰‹æœºå·â€å­—æ®µé…ç½®æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒè§„åˆ™ã€‚

#### 3.5.3. **é›†ç¾¤éƒ¨ç½²**

- **æ°´å¹³æ‰©å±•**ï¼šå°†æ•°æ®è´¨é‡ç®¡ç†æœåŠ¡å’Œæ•°æ®æ¨¡å‹ç®¡ç†æœåŠ¡éƒ¨ç½²åˆ°å¤šå°æœåŠ¡å™¨ï¼Œé€šè¿‡Nginxè´Ÿè½½å‡è¡¡ã€‚
- **é…ç½®åŒæ­¥**ï¼šç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹å…±äº«ç›¸åŒçš„Rediså’ŒRabbitMQé…ç½®ï¼Œé¿å…ä»»åŠ¡é‡å¤æ‰§è¡Œã€‚

#### 3.5.4. **ç›‘æ§ä¸å‘Šè­¦**

- é›†æˆPrometheus+Grafanaç›‘æ§è´¨é‡ä»»åŠ¡æ‰§è¡Œè€—æ—¶ã€æˆåŠŸç‡ç­‰æŒ‡æ ‡ã€‚
- é…ç½®å‘Šè­¦è§„åˆ™ï¼ˆå¦‚ä»»åŠ¡å¤±è´¥ç‡>10%æ—¶å‘é€ä¼ä¸šå¾®ä¿¡/é‚®ä»¶é€šçŸ¥ï¼‰ã€‚





## 4. è®¿é—®æ•°æ®æ¨¡å‹ç®¡ç†é¡µé¢

#### 4.1.1. **æ•°æ®æ¨¡å‹ç®¡ç†**

- åœ¨é¡µé¢ä¸Šç‚¹å‡»â€œæ–°å»ºâ€æŒ‰é’®ï¼Œå¼€å§‹åˆ›å»ºæ–°çš„æ•°æ®æ¨¡å‹ã€‚
- å¡«å†™æ¨¡å‹çš„åç§°ã€æè¿°ç­‰åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶è®¾ç½®æ•°æ®å­—æ®µã€‚å­—æ®µéƒ¨åˆ†å¯ä»¥æ·»åŠ å¤šä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µéƒ½éœ€è¦è®¾ç½®å­—æ®µåã€æ•°æ®ç±»å‹ã€é•¿åº¦ç­‰å±æ€§ã€‚
- å®Œæˆåç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®ï¼Œå°†æ–°å»ºçš„æ•°æ®æ¨¡å‹ä¿å­˜åˆ°AllDataæ•°æ®ä¸­å°ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741404360455-1ed4e2e5-07d7-4e06-936b-16fe4494f00a.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.2. **å¢åŠ æ¨¡å‹åŸºæœ¬ä¿¡æ¯**

- åœ¨åˆ›å»ºæˆ–ç¼–è¾‘æ•°æ®æ¨¡å‹æ—¶ï¼Œç”¨æˆ·å¯ä»¥ç‚¹å‡»â€œæ“ä½œ-ä¿®æ”¹â€æŒ‰é’®æ¥å¢åŠ æ–°çš„å­—æ®µã€‚
- è®¾ç½®å­—æ®µåã€æ•°æ®ç±»å‹ã€é•¿åº¦ç­‰å±æ€§ï¼Œå¹¶æ ¹æ®éœ€è¦é€‰æ‹©æ˜¯å¦ä¸ºä¸»é”®ã€æ˜¯å¦å…è®¸ä¸ºç©ºç­‰é€‰é¡¹ã€‚
- å®Œæˆåç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®ï¼Œå°†æ–°å¢çš„å­—æ®µä¿å­˜åˆ°æ•°æ®æ¨¡å‹ä¸­ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741405939979-cf22accb-9416-4018-b54a-7aafcbde02d3.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.3. **ä¿®æ”¹æ¨¡å‹å­—æ®µä¿¡æ¯**

- ç¼–è¾‘å­—æ®µæ—¶ï¼Œå¯ä»¥ä¿®æ”¹å­—æ®µåã€æ•°æ®ç±»å‹ç­‰å±æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406008657-37e46bd2-c21f-4d19-bdd8-f573614894a9.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.4. **ä¿®æ”¹æ¨¡å‹é¡µé¢å±æ€§**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406055256-132381e1-f87d-4bdd-b808-be8d51f00ac3.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.5. **ç®¡ç†æ•°æ®åˆ—è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406304394-869c1d5e-f6f7-4cde-9025-a73dcbd8009c.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.6. **æ•°æ®ç®¡ç†-ä¸»æ•°æ®æ–°å¢**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406162343-25d7c3d3-9eea-4c8e-a14c-a8dbd93f93c7.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.7. **æ•°æ®ç®¡ç†-ä¿®æ”¹ä¸»æ•°æ®**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406327593-67be963d-2b1b-4927-b086-ce85ea48590f.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.8. **æ•°æ®ç®¡ç†-åˆ é™¤ä¸»æ•°æ®**

- åˆ é™¤å­—æ®µæ—¶ï¼Œå°†æ°¸ä¹…åˆ é™¤æ‰€é€‰çš„å­—æ®µã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406352290-6c81d44a-52c5-4c37-8990-01eb57c56232.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741406360727-53c08cdc-75b7-43aa-afa6-b4e7aed77013.png?x-oss-process=image%2Fformat%2Cwebp)



## 5. æ³¨æ„äº‹é¡¹

### 5.1. æ•°æ®æ¨¡å‹å‘½åè§„èŒƒ

- å»ºè®®éµå¾ªä¸€å®šçš„å‘½åè§„èŒƒï¼Œä»¥ä¾¿æ›´å¥½åœ°ç®¡ç†å’Œè¯†åˆ«æ•°æ®æ¨¡å‹ã€‚ 

### 5.2. æ•°æ®ç±»å‹é€‰æ‹©

- åœ¨æ·»åŠ å­—æ®µæ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚

### 5.3.  å®šæœŸç»´æŠ¤æ•°æ®æ¨¡å‹

- éšç€ä¸šåŠ¡çš„å‘å±•å’Œæ•°æ®çš„å˜åŒ–ï¼Œæ•°æ®æ¨¡å‹ä¹Ÿéœ€è¦è¿›è¡Œå®šæœŸç»´æŠ¤å’Œæ›´æ–°ã€‚ç”¨æˆ·éœ€è¦å®šæœŸæ£€æŸ¥æ•°æ®æ¨¡å‹çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹å’Œä¼˜åŒ–ã€‚



------

# **å…ƒæ•°æ®ç®¡ç†å¹³å°(openmetadata) --airflowå…ƒæ•°æ®æ‹¾å–èƒ½åŠ›æ¼”ç¤º**

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²AirflowæœåŠ¡ï¼Œä¸openmetadataè¿›è¡Œé›†æˆï¼Œååœ¨openmetadataç³»ç»Ÿä¸­å®ç°å¯¹Airflowå·¥ä½œæµæ•°æ®çš„æ‹¾å–ä»¥åŠæ•°æ®åº“å…ƒæ•°æ®çš„æ‹¾å–



openmetadataï¼š1.6.0

airflowï¼š2.9.1



# 1. ç¯å¢ƒå®‰è£…

Minicondaï¼šå®‰è£…ä¸åŒç‰ˆæœ¬çš„python è™šæ‹Ÿç¯å¢ƒçš„å·¥å…·

JDKï¼š17

## 1.1. Miniconda

### 1.1.1. å®‰è£…

ä¸‹è½½åœ°å€ï¼šhttps://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh

æœåŠ¡å™¨ä¸Šåˆ›å»º Miniconda å®‰è£…åŒ…å­˜æ”¾ç›®å½•å¹¶åˆ‡æ¢åˆ°è¯¥ç›®å½•

```plain
mkdir -p /opt/software & cd /opt/software
```

åœ¨æœ¬åœ°ä¸»æœºä¸‹è½½å¥½å®‰è£…åŒ…åä¸Šä¼ è‡³æœåŠ¡å™¨ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¸Šä¼ 

```plain
scp Miniconda3-latest-Linux-x86_64.sh root@32g004:/opt/software
```

åœ¨æœåŠ¡å™¨ /opt/software ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹å®‰è£…ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œï¼Œç›´åˆ°å®‰è£…å®Œæˆ

```plain
bash Miniconda3-latest-Linux-x86_64.sh
```

åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå‡ºç°ä»¥ä¸‹æç¤ºæ—¶ï¼Œå¯ä»¥è‡ªè¡ŒæŒ‡å®šå®‰è£…è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤è·¯å¾„

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755049109072-708fc7ef-0f1c-4f9a-b08e-49e8d531be93.png)

å‡ºç°ä»¥ä¸‹å­—æ ·ï¼Œå³ä¸ºå®‰è£…å®Œæˆ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755049167370-b8fe380f-d7f5-4fb6-815b-2924140e38ee.png)

åŠ è½½ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œä½¿åˆšåˆšå®‰è£… Miniconda é…ç½®ç”Ÿæ•ˆ

```plain
source ~/.bashrc
```

Miniconda å®‰è£…å®Œæˆåï¼Œæ¯æ¬¡æ‰“å¼€ç»ˆç«¯éƒ½ä¼šæ¿€æ´»å…¶é»˜è®¤çš„ base ç¯å¢ƒï¼Œæˆ‘ä»¬å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œç¦æ­¢æ¿€æ´»é»˜è®¤ base ç¯å¢ƒ

```plain
conda config --set auto_activate_base false
```

é…ç½® conda å›½å†…é•œåƒ

```plain
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free

conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main

conda config --set show_channel_urls yes
```

### 1.1.2. æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒ

```plain
conda info --env
```

### 1.1.3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```plain
conda create -n airflow python=3.10
```

åˆ›å»ºä¸€ä¸ªåä¸ºairflowï¼Œpythonç‰ˆæœ¬ä¸º3.10çš„è™šæ‹Ÿç¯å¢ƒ

### 1.1.4. åˆ é™¤è™šæ‹Ÿç¯å¢ƒ

```plain
conda remove -n airflow --all
```

### 1.1.5. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```plain
conda activate airflow
```

### 1.1.6. é€€å‡ºè™šæ‹Ÿç¯å¢ƒ

```plain
conda deactivate
```

## 1.2. JDK

ä¸‹è½½åœ°å€ï¼šhttps://www.oracle.com/java/technologies/javase/jdk17-0-13-later-archive-downloads.html

æ‰¾åˆ°ä»¥ä¸‹è½¯ä»¶åŒ…è¿›è¡Œä¸‹è½½å³å¯

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755050389603-3a408d85-b7bf-4d60-bdba-73abdb56f2e7.png)

ä¸‹è½½å®Œæˆåï¼Œä¸Šä¼ åˆ°æˆ‘ä»¬æœåŠ¡å™¨å¹¶è§£å‹å³å¯

# 2. å®‰è£… Airflow

## 2.1. è®¾ç½®ç¯å¢ƒå˜é‡

```plain
export AIRFLOW_HOME=/root/airflow
export PATH=$PATH:$AIRFLOW_HOME
export AIRFLOW__OPENMETADATA_AIRFLOW_APIS__DAG_GENERATED_CONFIGS=${AIRFLOW_HOME}/dag_generated_configs
```

AIRFLOW_HOMEï¼šAirflow é…ç½®æ–‡ä»¶ã€æ—¥å¿—ç­‰ä¿¡æ¯å­˜æ”¾ç›®å½•

AIRFLOW__OPENMETADATA_AIRFLOW_APIS__DAG_GENERATED_CONFIGSï¼šopenmetadataæå–ä»»åŠ¡é…ç½®æ–‡ä»¶ç”Ÿæˆç›®å½•

## 2.2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œ

```plain
conda create -n airflow2.9.1 python=3.10
```

æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```plain
conda activate airflow2.9.1
```

## 2.3. å®‰è£…

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹å®‰è£…

```plain
pip install "openmetadata-ingestion[airflow]==1.6.0"
```

å®‰è£…å®Œæˆåï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹å®‰è£…çš„ç‰ˆæœ¬

```plain
airflow version
```

æŸ¥çœ‹airflowç›¸å…³é…ç½®ä¿¡æ¯

```plain
airflow info
```

## 2.4. ä¿®æ”¹é…ç½®

airflowçš„é…ç½®æ–‡ä»¶ä½äº ${AIRFLOW_HOME}ï¼Œæ–‡ä»¶åç§°ä¸º airflow.cfgï¼Œä¸‹é¢å¼€å§‹ç¼–è¾‘è¯¥é…ç½®æ–‡ä»¶

```plain
vim ${AIRFLOW_HOME}/airflow.cfg
```

### 2.4.1. airflow webserverç«¯å£

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755051720763-123e35d1-9551-4f05-b95e-63beb2afd098.png)

ç”¨æˆ·å¯ä»¥ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®

### 2.4.2. executor

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755051767885-a1689789-09bb-4b3b-be7c-2233d202a520.png)

æ‰§è¡Œå™¨ï¼Œå®˜æ–¹å»ºè®®è®¾ç½®ä¸º LocalExecutor

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755051809459-59cc8caf-5a0a-4a8d-98b5-58b90abcced7.png)

### 2.4.3. æ•°æ®åº“

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755051838603-0f5b85f0-ea0d-4536-8f47-93860a131aca.png)

é»˜è®¤ä½¿ç”¨æœ¬æœºçš„sqliteå­˜å‚¨ï¼Œå®˜æ–¹å»ºè®®ä¿®æ”¹ä¸º mysql æ•°æ®åº“

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755051883496-1179b784-589e-49ba-8ee9-7d22cff48034.png)

```plain
sql_alchemy_conn = mysql+pymysql://root:123456@32g004:13306/airflow?charset=utf8
```

### 2.4.4. auth_backends

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755051951692-40dea605-b339-4eb6-a7f7-a2813069133d.png)

è¦è®©openmetadataæ”¯æŒairflowå…ƒæ•°æ®æ‹¾å–éœ€è¦ä¿®æ”¹è¯¥é…ç½®ä¸º

```plain
auth_backends = airflow.api.auth.backend.basic_auth
```

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755052078382-d2ba4ca2-71d9-4bc6-bf6d-ba9d2a86efe7.png)

## 2.5. åˆå§‹åŒ–æ•°æ®åº“

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ•°æ®åº“åˆå§‹åŒ–

```plain
airflow db init
```

ä¿®æ”¹ç³»ç»Ÿç™»å½•å¯†ç ï¼Œè¿™é‡Œæˆ‘ä»¬ä¿®æ”¹å¯†ç ä¸º alldata

```plain
airflow users reset-password --username admin --password alldata
```

## 2.6. å®‰è£…æ’ä»¶

```plain
pip install "openmetadata-managed-apis==1.6.0"
```

å®‰è£…æ­¤æ’ä»¶ï¼Œå³å¯æ”¯æŒopenmetadataé›†æˆairflowå…ƒæ•°æ®æ‹¾å–

## 2.7. å¯åŠ¨airflow

```plain
airflow standalone
```

å¯åŠ¨å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯æ’ä»¶æ˜¯å¦å®‰è£…æˆåŠŸ

```plain
curl http://32g004:8100/api/v1/openmetadata/health
```

32g004æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨åŸŸå

8100æ˜¯æˆ‘ä»¬çš„airflow webserverç«¯å£åœ°å€

å‡ºç°å¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºå®‰è£…æˆåŠŸ

```plain
{"status": "healthy", "version": "1.6.0.0"}
```

# 3. airflowå…ƒæ•°æ®æ‹¾å–

## 3.1. è¿›å…¥openmetadataé¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053107174-7fa80278-8c25-4f50-8a23-37628a1a3959.png)

## 3.2. ç‚¹å‡» æœåŠ¡

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053121300-0c8325a6-aac8-428c-a8f6-44aec14f1d47.png)

## 3.3. ç‚¹å‡» å·¥ä½œæµ

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053131145-3a5a05a1-bada-4baf-8750-2a95af393502.png)

## 3.4. ç‚¹å‡» æ·»åŠ æ–°æœåŠ¡

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

é€‰æ‹© Airflow

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053169617-b9461cd8-d7a0-4ba0-bec4-78a4ae9f331a.png)

## 3.5. ç‚¹å‡» ä¸‹ä¸€æ­¥

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

ç¼–è¾‘æœåŠ¡åï¼ˆå¿…å¡«ï¼‰

ä»¥åŠæè¿°ï¼ˆå¯é€‰ï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053277424-a623f9ae-9201-44a0-bfe7-5caedab00289.png)

## 3.6. ç‚¹å‡» ä¸‹ä¸€æ­¥

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053345814-d2a238e7-227c-496b-8a92-9a11056f5b31.png)

Host And Portï¼šAirflowçš„æœåŠ¡åœ°å€ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹

```plain
http://32g004:8100
```

Metadata Database Connection ä¿®æ”¹ä¸º BackendConnectionï¼Œå¦‚ä¸‹å›¾

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053359161-930f3613-e2fb-4065-8f87-75126fb6df71.png)

ç‚¹å‡»æµ‹è¯•è¿æ¥ï¼ŒæˆåŠŸåå¦‚ä¸‹å›¾

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053369645-443dde98-b5d3-4d9d-bb77-382728845e01.png)

ç‚¹å‡» Saveï¼ŒæœåŠ¡åˆ›å»ºæˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053385634-7f63f469-387b-4e76-9286-c20e4e8d87f8.png)

## 3.7. ç‚¹å‡» æ·»åŠ æ‹¾å–

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

ä»¥ä¸‹é…ç½®é»˜è®¤å³å¯

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053533082-ce0cd21e-6e5f-40e9-a317-12347b1d1908.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053542046-829ee9bc-7389-41a5-9770-67be4867fa82.png)

## 3.8. ç‚¹å‡» ä¸‹ä¸€æ­¥

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

è¿™é‡Œæˆ‘ä»¬é€‰ç¬¬ä¸€ä¸ªé€‰é¡¹ æ— ï¼Œæ‹¾å–ä»»åŠ¡æˆ‘ä»¬æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053589493-8a09cbef-bd76-48d7-9a77-b94cdcd92e16.png)

## 3.9. ç‚¹å‡» æ·»åŠ éƒ¨ç½²

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053622708-07b08322-cc7a-49ea-a215-108e93d62989.png)

## 3.10. ç‚¹å‡» æŸ¥çœ‹æœåŠ¡

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

æ­¤æ—¶ï¼Œå·²å®Œæˆä¸€æ¬¡å·¥ä½œæµæ‹¾å–ä»»åŠ¡ï¼Œå¯ä»¥çœ‹åˆ°å·¥ä½œæµä¿¡æ¯

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053655513-27256d75-8180-4247-9d90-958b72595956.png)

## 3.11. ç‚¹å‡» æå–

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ‹¾å–ä»»åŠ¡çš„çŠ¶æ€ä»¥åŠæ‰§è¡Œæ—¥å¿—

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053707942-b3bca517-2377-4ffd-9939-26564aea0384.png)

## 3.12. ç™»å½• Airflow

ç™»å½•éƒ¨ç½²çš„AirflowæœåŠ¡é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°åˆ›å»ºå¥½çš„æ‹¾å–ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053750430-691f6c1f-e7fe-4960-ad5d-51fa716a0d78.png)

# 4. mysqlå…ƒæ•°æ®æ‹¾å–

## 4.1. è¿›å…¥openmetadataé¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053107174-7fa80278-8c25-4f50-8a23-37628a1a3959.png)

## 4.2. ç‚¹å‡» æœåŠ¡

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755053121300-0c8325a6-aac8-428c-a8f6-44aec14f1d47.png)

## 4.3. ç‚¹å‡» æ•°æ®åº“

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755054700479-35dcfbb3-34af-48c2-bef4-9b4965148774.png)

## 4.4. ç‚¹å‡» æ·»åŠ æ–°æœåŠ¡

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

é€‰æ‹© mysql

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755054731354-c0876ed4-0503-4772-84ae-c2ae4a82e5d3.png)

## 4.5. ç‚¹å‡» ä¸‹ä¸€æ­¥

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

ç¼–è¾‘æœåŠ¡åï¼ˆå¿…å¡«ï¼‰

ä»¥åŠæè¿°ï¼ˆå¯é€‰ï¼‰

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755054878354-b33b3d3e-3436-40c2-a8a3-4f4c37c1c378.png)

## 4.6. ç‚¹å‡» ä¸‹ä¸€æ­¥

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

ç¼–è¾‘æ•°æ®åº“è¿æ¥ä¿¡æ¯

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755054923535-91b410cb-85d3-479f-8638-c3e14da11360.png)

ç‚¹å‡» æµ‹è¯•è¿æ¥

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755054963210-380f19f6-f812-4723-bd5e-72b99307f6ff.png)

ç‚¹å‡» Save

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755054982599-85765664-6a34-47d6-a9f4-373b8596a511.png)

## 4.7. ç‚¹å‡» æ·»åŠ æå–

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755055011616-4a71e339-4dfa-4b08-b327-038334ec0b97.png)

é¡µé¢å¯ä¸‹æ»‘è®¾ç½®å‚æ•°ï¼Œé»˜è®¤å³å¯

## 4.8. ç‚¹å‡» ä¸‹ä¸€æ­¥

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

è¿™é‡Œæˆ‘ä»¬é€‰ç¬¬ä¸€ä¸ªé€‰é¡¹ æ— ï¼Œæ‹¾å–ä»»åŠ¡æˆ‘ä»¬æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755055067725-6b0bb2c2-b1bd-4496-8eb2-a5a3483f1e66.png)

## 4.9. ç‚¹å‡» æ·»åŠ éƒ¨ç½²

ç‚¹å‡»åï¼Œè¿›å…¥ä»¥ä¸‹é¡µé¢

![img](https://cdn.nlark.com/yuque/0/2025/png/28776397/1755055100164-3cbe9cc6-9bf8-4991-bb26-908ab8f446ec.png)



## 4.10. ...

ç›®å‰æ‹¾å–ä»»åŠ¡åˆ›å»ºè¿˜æœ‰é—®é¢˜ï¼Œå¾…æ›´æ–°æ–‡æ¡£



# **æ•°æ®è´¨é‡å¹³å°(datavines)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®è´¨é‡å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1xMgSz4E1h/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æ•°æ®è´¨é‡å¹³å°åŸºäºå¼€æºé¡¹ç›®DataVineså»ºè®¾ã€‚

æ•°æ®è´¨é‡å¹³å°ï¼ˆDataVinesï¼‰æ˜¯ä¸€æ¬¾è‡ªåŠ¨åŒ–æ•°æ®è´¨é‡æ£€æµ‹ä¸æ²»ç†å·¥å…·ã€‚æ”¯æŒå­—æ®µå®Œæ•´æ€§ã€æ ¼å¼åˆè§„æ€§ã€æ•°å€¼é˜ˆå€¼ç­‰ç™¾ä½™ç±»æ ¡éªŒè§„åˆ™ï¼Œå¯æ„å»ºåŠ¨æ€ç›‘æµ‹ä½“ç³»ï¼Œå®æ—¶æ‰«æè¡¨ã€å­—æ®µçº§æ•°æ®æ³¢åŠ¨ï¼Œä¾æ‰˜æ™ºèƒ½é˜ˆå€¼ç®—æ³•å¯¹å»¶è¿Ÿã€é‡å¤ã€é€»è¾‘çŸ›ç›¾ç­‰é—®é¢˜æ¯«ç§’çº§é¢„è­¦ã€‚åŒæ—¶ï¼Œæ•°æ®è´¨é‡å¹³å°èƒ½å®šæ—¶è·å–æ•°æ®æºå…ƒæ•°æ®æ„å»ºæ•°æ®ç›®å½•ï¼Œç”Ÿæˆæ•°æ®æ¦‚è§ˆæŠ¥å‘Šï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£æ•°æ®åˆ†å¸ƒå’Œå˜åŒ–è¶‹åŠ¿ï¼Œä¸ºæ•°æ®æ²»ç†æä¾›å†³ç­–ä¾æ®ï¼Œä¿éšœæ•°æ®è´¨é‡ã€‚



ğŸ”¹DataVineså¼€æºé¡¹ç›®ï¼šhttps://github.com/datavane/datavines

ğŸ”¹DataVinesæ–‡æ¡£åœ°å€ï¼šhttps://datavane.github.io/datavines-website/



### 2.2. æ•°æ®è´¨é‡å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å…¨æµç¨‹è´¨é‡é—­ç¯ç®¡æ§
- çµæ´»è§„åˆ™å¼•æ“
- åŠ¨æ€ç›‘æµ‹ä½“ç³»
- æ™ºèƒ½é˜ˆå€¼ç®—æ³•
- å¤šæ•°æ®æºæ”¯æŒ
- æ·±åº¦å®šåˆ¶ä¸æ‰©å±•
- å†…ç½®å¤šç§æ£€æŸ¥è§„åˆ™
- å…ƒæ•°æ®ç®¡ç†
- é—®é¢˜å¤„ç†åŠŸèƒ½



## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®è´¨é‡å¹³å°ï¼ˆDataVinesï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486720021-0fd78787-4601-452d-8afd-1ca731d6d607.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **è½¯ä»¶ç¯å¢ƒ**ï¼š

- **Git**ï¼šç”¨äºå…‹éš†é¡¹ç›®ä»£ç ï¼Œç¡®ä¿èƒ½å¤Ÿé¡ºåˆ©æ‰§è¡Œ`git clone`å‘½ä»¤ã€‚
- **JDK**ï¼šç‰ˆæœ¬éœ€å¤§äºç­‰äº8ï¼Œä¸ºé¡¹ç›®è¿è¡Œæä¾›Javaç¯å¢ƒæ”¯æŒã€‚
- **Maven**ï¼šç‰ˆæœ¬éœ€å¤§äºç­‰äº3.6.0ï¼Œç”¨äºé¡¹ç›®çš„é¡ºåˆ©æ‰“åŒ…ã€‚
- **MySQL**ï¼šç‰ˆæœ¬éœ€å¤§äºç­‰äº5.7ï¼Œä½œä¸ºDataVinesçš„å…ƒæ•°æ®å­˜å‚¨æ•°æ®åº“ã€‚

 ğŸ’¡**ç¡¬ä»¶èµ„æº**ï¼š

- æ ¹æ®é¢„è®¡çš„æ•°æ®é‡å’Œä¸šåŠ¡è´Ÿè½½ï¼Œå‡†å¤‡è¶³å¤Ÿçš„æœåŠ¡å™¨èµ„æºï¼ŒåŒ…æ‹¬CPUã€å†…å­˜å’Œç£ç›˜ç©ºé—´ã€‚



### 3.2. è·å–æºç 

ğŸ’¡**ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„DataVinesç‰ˆæœ¬ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **æ•°æ®åº“åˆå§‹åŒ–**ï¼š

- å¯åŠ¨MySQLæ•°æ®åº“å¹¶åˆ›å»ºæ–°æ•°æ®åº“ï¼Œä¾‹å¦‚å‘½åä¸º`datavines`ã€‚
- å°†`script/sql/datavines-mysql.sql`ä¸‹çš„SQLæ–‡ä»¶ç›´æ¥åœ¨MySQLä¸­è¿è¡Œï¼Œå®Œæˆæ•°æ®åº“åˆå§‹åŒ–ã€‚



ğŸ’¡ **æºç ç¼–è¯‘**ï¼š

- å¦‚æœä½¿ç”¨MySQLæ•°æ®åº“ï¼Œéœ€ä¿®æ”¹`pom.xml`æ–‡ä»¶ï¼Œå°†`mysql-connector-java`ä¾èµ–çš„`scope`æ”¹ä¸º`compile`ã€‚ä½¿ç”¨PostgreSQLåˆ™ä¸éœ€è¦æ­¤æ“ä½œã€‚
- è¿è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œé¡¹ç›®æ„å»ºæ‰“åŒ…ï¼š

```javascript
mvn clean install -Prelease -Dmaven.test.skip=true
```



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. é€‰æ‹©Java8

#### 3.4.2. **é€‰æ‹©DataVinesè¿›è¡Œæºç ç¼–è¯‘æ‰“åŒ…**

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750400007407-d48add36-cc30-4abc-8a7a-f214c398c337.png)

#### 3.4.3. **è·å¾—éƒ¨ç½²å®‰è£…åŒ…**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750471291468-4ca57dff-9e7a-40b6-8c5a-52d68c14e990.png)

### 3.5. éƒ¨ç½²åŠè¿è¡Œé…ç½®

ğŸ’¡ **è§£å‹éƒ¨ç½²åŒ…**ï¼š

- å¯¹æ„å»ºç”Ÿæˆçš„éƒ¨ç½²åŒ…è¿›è¡Œè§£å‹ï¼Œä¾‹å¦‚ï¼š

```javascript
cd datavines-dist/target
tar -zxvf datavines-1.0.0-SNAPSHOT-bin.tar.gz
cd datavines-1.0.0-SNAPSHOT-bin
```

ğŸ’¡ **ç¼–è¾‘é…ç½®ä¿¡æ¯**ï¼š

- è¿›å…¥`conf`ç›®å½•ï¼Œç¼–è¾‘`application.yaml`æ–‡ä»¶ï¼Œä¿®æ”¹æ•°æ®åº“ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š

```javascript
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:3306/datavines?useUnicode=true&characterEncoding=UTF-8
    username: root
    password: 123456
- å¦‚æœä½¿ç”¨Sparkä½œä¸ºæ‰§è¡Œå¼•æ“ï¼Œå¹¶ä¸”æäº¤åˆ°yarnä¸Šæ‰§è¡Œï¼Œéœ€è¦åœ¨`common.properties`ä¸­é…ç½®yarnç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚`yarn.mode`ã€`yarn.application.status.address`ã€`yarn.resource.manager.http.address.port`ç­‰ã€‚
```

ğŸ’¡ **å¯åŠ¨æœåŠ¡**ï¼š

- \- è¿›å…¥`bin`ç›®å½•ï¼Œæ‰§è¡Œå¯åŠ¨å‘½ä»¤ï¼š
- åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœåŠ¡å™¨IPå’Œç«¯å£ï¼ˆé»˜è®¤5600ï¼‰ï¼Œä¾‹å¦‚`http://æœåŠ¡å™¨IP:5600`ï¼Œè·³è½¬è‡³ç™»å½•ç•Œé¢ï¼Œè¾“å…¥é»˜è®¤è´¦å·å¯†ç ï¼ˆå¯è”ç³»AllDataå¸‚åœºæ€»ç›‘/æŠ€æœ¯åŒäº‹è·å–è´¦å·å¯†ç ï¼‰ã€‚

```javascript
sh datavines-daemon.sh start mysql
```



### 3.6. å¯é€‰é…ç½®

#### 3.6.1. **æ•°æ®æºé…ç½®**ï¼š

- è¿›å…¥é¦–é¡µåï¼Œç‚¹å‡»å³ä¸Šè§’åˆ›å»ºæ•°æ®æºæŒ‰é’®ï¼Œè¾“å…¥æ•°æ®æºçš„åç§°ï¼Œç„¶åé€‰æ‹©æ•°æ®æºç±»å‹ï¼ˆå¦‚MySQLï¼‰ã€‚
- è¾“å…¥MySQLçš„è¿æ¥ä¿¡æ¯ï¼Œç‚¹å‡»æµ‹è¯•è¿æ¥æŒ‰é’®ï¼Œå¦‚æœæˆåŠŸåˆ™å•å‡»ä¿å­˜ã€‚

#### 3.6.2. **ä½œä¸šç®¡ç†**ï¼š

- è¿›å…¥æ•°æ®æºï¼Œæ‰¾åˆ°ä½œä¸šç®¡ç†é¡µé¢ã€‚
- ç‚¹å‡»åˆ›å»ºè§„åˆ™ä½œä¸šæŒ‰é’®ï¼Œé€‰æ‹©æ•°æ®è´¨é‡ä½œä¸šï¼Œè¿›å…¥è§„åˆ™çš„é…ç½®é¡µé¢ã€‚
- è¿›è¡Œè§„åˆ™é…ç½®ï¼Œä¾‹å¦‚é€‰æ‹©æšä¸¾å€¼[ä¸åœ¨]æ£€æŸ¥è§„åˆ™ï¼Œä¾æ¬¡é€‰æ‹©æ•°æ®åº“ã€è¡¨å’Œåˆ—ï¼Œè¾“å…¥æšä¸¾æ•°ç»„[0,1]è¿›è¡ŒæœŸæœ›å€¼é…ç½®ï¼ˆå¦‚æœæ²¡æœ‰æœŸæœ›å€¼åˆ™é€‰æ‹©æ— ï¼‰ï¼Œæ„æˆã€å®é™…å€¼ > 10ã€‘å…¬å¼ï¼Œå…¬å¼æˆç«‹æ—¶è¡¨ç¤ºæ£€æŸ¥ç»“æœä¸ºæˆåŠŸï¼Œå¦åˆ™æ˜¯å¤±è´¥ã€‚
- å®Œæˆé…ç½®åç‚¹å‡»ä¿å­˜å¹¶è¿è¡Œæ¥æ‰§è¡Œæ£€æŸ¥ä½œä¸šã€‚

#### 3.6.3. **ç»“æœæŸ¥çœ‹**ï¼š

- åœ¨ä½œä¸šåˆ—è¡¨æ‰¾åˆ°åˆšåˆšåˆ›å»ºå¹¶æ‰§è¡Œçš„æ£€æŸ¥ä½œä¸šï¼Œç‚¹å‡»æ‰§è¡Œè®°å½•é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ‰§è¡Œå†å²åˆ—è¡¨ã€‚
- ç‚¹å‡»æ—¥å¿—æŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°è§„åˆ™æ‰§è¡Œçš„æ—¥å¿—ä¿¡æ¯ï¼›ç‚¹å‡»ç»“æœæŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°è§„åˆ™æ‰§è¡Œçš„æ£€æŸ¥ç»“æœï¼›ç‚¹å‡»é”™è¯¯æ•°æ®æŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°è§„åˆ™æ‰§è¡Œçš„é”™è¯¯æ•°æ®ã€‚





## 4. è®¿é—®æ•°æ®è´¨é‡å¹³å°é¡µé¢

#### 4.1.1. **æ•°æ®è´¨é‡å¹³å°-åŠŸèƒ½æ¦‚è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750398978978-3178c8b9-8880-4e03-831d-7c6bed91239d.jpeg)

#### 4.1.2. **æ•°æ®è´¨é‡å¹³å°-æ•°æ®æºç®¡ç†**

- æ•°æ®æºç®¡ç†åŠŸèƒ½æ”¯æŒå¤šæºæ•°æ®æ¥å…¥ï¼Œç»Ÿä¸€ç®¡ç†æ•°æ®æºå®ä¾‹ï¼Œä¿éšœæ•°æ®é›†æˆä¸è´¨é‡ç›‘æ§çš„åŸºç¡€ç¨³å®šæ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399047483-712db351-b0d1-4792-b7f2-dc027bcb42c6.jpeg)

#### 4.1.3. **åˆ›å»ºæ•°æ®æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399052771-ac8b1bbe-a3d6-4de5-851c-91e08298aaec.jpeg)

#### 4.1.4. **ç¼–è¾‘æ•°æ®æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399062629-bb47978b-6dc2-4431-8e08-5cc34302fc1a.jpeg)

#### 4.1.5. **è´¨é‡å¤§ç›˜**

- è´¨é‡å¤§ç›˜å…¨å±€ç›‘æ§æ•°æ®è´¨é‡ï¼Œå®æ—¶å±•ç¤ºå…³é”®æŒ‡æ ‡ä¸å¼‚å¸¸æ³¢åŠ¨ï¼ŒåŠ©åŠ›å¿«é€Ÿå†³ç­–ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399072185-1bd40252-846e-4ef1-9e5b-17824512198d.jpeg)

#### 4.1.6. **æ•°æ®è´¨é‡å¹³å°-æ—¥å¿—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399085952-20053bd3-53ad-4430-9906-48eba64ca9de.jpeg)

#### 4.1.7. **æ•°æ®ç›®å½•**

- å¯è‡ªåŠ¨æ„å»ºæ•°æ®èµ„äº§è§†å›¾ï¼Œå®æ—¶è¿½è¸ªæ•°æ®åˆ†å¸ƒä¸å˜åŒ–è¶‹åŠ¿ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399092921-4599533b-f4aa-4b50-81c0-5ddbb6e7db9a.jpeg)

#### 4.1.8. **æ–°å¢æ ‡ç­¾**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399103962-8d86aeeb-317c-43fd-92d4-7c97e388d67e.jpeg)

#### 4.1.9. **ä½œä¸šç®¡ç†-æ•°æ®è´¨é‡ä½œä¸š**

- æ”¯æŒè‡ªå®šä¹‰è§„åˆ™æ ¡éªŒï¼Œè‡ªåŠ¨åŒ–è°ƒåº¦æ‰§è¡Œï¼Œå®æ—¶ç›‘æ§ä¸ä¿®å¤æ•°æ®è´¨é‡é—®é¢˜ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399115657-4dbcd2a7-67c1-4b2e-9a69-a5ceca41d38a.jpeg)

#### 4.1.10. **è¿è¡ŒæˆåŠŸ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399133733-4f2561e0-47e9-4fa6-ae20-7d62998f3c3b.jpeg)

#### 4.1.11. **ç¼–è¾‘ä½œä¸š-ä½œä¸šé…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399138703-d93de9e8-cf9d-4236-bcd5-3440e556a3ea.jpeg)

#### 4.1.12. **å®šæ—¶ä»»åŠ¡é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399173526-085311e0-3f1f-49e8-9a65-c99236ed4e12.jpeg)

#### 4.1.13. **SLAé…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399185263-5f4a91b8-8a30-4c1e-994c-47615a8d0330.jpeg)

#### 4.1.14. **é…ç½®æ–‡ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399210826-0b858ae4-1dd8-498d-be55-2365d22c5161.jpeg)

#### 4.1.15. **è„šæ­¥é¢„è§ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399220910-3bed84c7-f81c-40f2-ad68-e76be9857a16.jpeg)

#### 4.1.16. **æ‰§è¡Œè®°å½•**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399235360-eab86cb4-b451-401f-b497-214a3e6e14ac.jpeg)

#### 4.1.17. **æ—¥å¿—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399237291-89125107-5b64-4e8f-9ff9-7d76a21226cc.jpeg)

#### 4.1.18. **æ£€æŸ¥ç»“æœ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399248491-9417db92-ff17-4421-8ce7-71b16f73f3b7.jpeg)

#### 4.1.19. **æŸ¥çœ‹é”™è¯¯æ•°æ®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399265018-b52d78cc-7ccc-4571-8aef-d1390201bdec.jpeg)

#### 4.1.20. **ä½œä¸šç®¡ç†-æ•°æ®æ¯”å¯¹ä½œä¸š**

- æ”¯æŒå¤šæºå¼‚æ„æ•°æ®ç²¾å‡†æ¯”å¯¹ï¼Œè‡ªåŠ¨è¯†åˆ«å·®å¼‚å¹¶ç”ŸæˆæŠ¥å‘Šï¼Œä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399276688-d9e68980-c7cb-4edb-83e1-3a215a3f4dc2.jpeg)

#### 4.1.21. **ä½œä¸šæ‰§è¡Œè®°å½•**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399289992-cd51dd53-43f4-4b7e-8e03-7613da3c6217.jpeg)

#### 4.1.22. **å‘Šè­¦ç®¡ç†-SLAç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399296550-0f121bb8-6690-4869-a53f-221bf80cd143.jpeg)

#### 4.1.23. **åˆ›å»ºSLA**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399320352-e9d9b773-357e-40d8-bf7a-111ba529c19b.jpeg)

#### 4.1.24. **å…³è”è§„åˆ™ä½œä¸š-TestSLA-ç”¨äºç›‘æ§TestSLAç›¸å…³æ•°æ®çš„SLAS**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399326463-83ed6a8b-08d3-47c7-92b3-dc296cc0b058.jpeg)

#### 4.1.25. **é€šçŸ¥ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399335679-9b4c602e-f561-41e5-8884-ca71976df588.jpeg)

#### 4.1.26. **æ·»åŠ é€šçŸ¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399347975-9565e403-6b92-4ec9-9097-395a0ca21c31.jpeg)

#### 4.1.27. **é”™è¯¯æ•°æ®ç®¡ç†-å­˜å‚¨ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399354858-b3dbdc97-1be9-44ee-8ccb-1a21998f6cce.jpeg)

#### 4.1.28. **åˆ›å»ºé”™è¯¯æ•°æ®å­˜å‚¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399365071-265066b0-4a6d-4903-a9b2-8e9e4182bc8a.jpeg)

#### 4.1.29. **ç¼–è¾‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399376283-f271859d-9ad8-4a42-afaa-89c1af77d726.jpeg)

#### 4.1.30. **ç”¨æˆ·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399391368-94e3aa2c-48a2-442e-b6eb-72d44040b737.jpeg)

#### 4.1.31. **é‚€è¯·ç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399400970-eb53afe9-ed2f-40a5-b2df-53ff11072fc7.jpeg)

#### 4.1.32. **æ ‡ç­¾ç®¡ç†**

- æ”¯æŒè‡ªå®šä¹‰æ•°æ®æ ‡ç­¾ä½“ç³»ï¼Œå®ç°æ•°æ®åˆ†ç±»ä¸å¿«é€Ÿæ£€ç´¢ï¼Œæå‡æ•°æ®èµ„äº§çš„å¯ç†è§£æ€§å’Œåˆ©ç”¨æ•ˆç‡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399414123-bc61e18c-5bbd-4764-8b61-c5585d2e9b28.jpeg)

#### 4.1.33. **æ–°å¢æ ‡ç­¾**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399422644-cd3c07d2-4f19-4ae5-a321-244833e5bb23.jpeg)

#### 4.1.34. **å‚æ•°ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399431790-31b7e5a5-067b-4831-afdb-a5bf1b7be6cc.jpeg)

#### 4.1.35. **åˆ›å»ºå‚æ•°**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750399441188-0ac5b450-e565-4ad0-a33f-513d9fb12751.jpeg)





------



# **æ•°æ®æœåŠ¡å¹³å°(apiserver)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æ•°æ®æœåŠ¡ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°çš„æ•°æ®æœåŠ¡ç®¡ç†åŠŸèƒ½ä¸ºç”¨æˆ·æä¾›äº†å¼ºå¤§çš„æ•°æ®è®¿é—®å’Œå¤„ç†èƒ½åŠ›ã€‚é€šè¿‡åˆç†çš„é…ç½®å’Œä½¿ç”¨ï¼Œç”¨æˆ·å¯ä»¥å¿«é€Ÿæ„å»ºå’Œå‘å¸ƒé«˜æ•ˆã€å®‰å…¨çš„æ•°æ®æœåŠ¡ï¼Œæ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚

æ•°æ®æœåŠ¡ç®¡ç†æä¾›å®æ—¶ç›‘æ§ä¸å‘Šè­¦æœºåˆ¶ï¼Œç¡®ä¿æœåŠ¡ç¨³å®šè¿è¡Œï¼Œå¹¶å…·å¤‡è¯¦ç»†çš„æ—¥å¿—è®°å½•ä¸å®¡è®¡åŠŸèƒ½ï¼Œé«˜æ•ˆç®¡ç†æ•°æ®æœåŠ¡ï¼Œæå‡æ•°æ®æµé€šæ•ˆç‡ä¸ä¸šåŠ¡å“åº”é€Ÿåº¦ã€‚åŒæ—¶ï¼Œç”¨æˆ·ä¹Ÿéœ€è¦æ³¨æ„æ•°æ®çš„å®‰å…¨æ€§å’Œæ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢çš„é—®é¢˜ï¼Œç¡®ä¿æ•°æ®æœåŠ¡çš„ç¨³å®šå¯é ã€‚

### 2.1. æ•°æ®æœåŠ¡ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- æä¾›ç»Ÿä¸€çš„æ•°æ®æ¥å£å’ŒæœåŠ¡
- æ”¯æŒæ•°æ®è„±æ•
- é›†æˆå’Œç®¡ç†ç¬¬ä¸‰æ–¹æœåŠ¡
- æ—¥å¿—è®°å½•ä¸ç›‘æ§
- é«˜åº¦å¯æ‰©å±•æ€§å’Œå®šåˆ¶æ€§
- ä¸æ•°æ®ä¸­å°å…¶ä»–æ¨¡å—ç´§å¯†é›†æˆ





## 3. AllDataæ•°æ®ä¸­å°-æ•°æ®æœåŠ¡ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486632284-b55be3c6-bd74-4c9a-8417-2926228d8adb.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **åŸºç¡€ç¯å¢ƒè¦æ±‚ï¼š**

- **JDK**ï¼š1.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç¡®ä¿Javaå¼€å‘ç¯å¢ƒå·²æ­£ç¡®é…ç½®ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è5.7+ï¼‰ï¼Œç”¨äºå­˜å‚¨æ•°æ®æœåŠ¡ç›¸å…³çš„å…ƒæ•°æ®å’Œé…ç½®ä¿¡æ¯ã€‚
- **ç¼“å­˜**ï¼šRedis 3.0æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºç¼“å­˜æ•°æ®æœåŠ¡è°ƒç”¨ç»“æœï¼Œæå‡å“åº”é€Ÿåº¦ã€‚
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ 3.0.xæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºå¼‚æ­¥æ¶ˆæ¯å¤„ç†å’Œä»»åŠ¡è°ƒåº¦ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºé¡¹ç›®ç¼–è¯‘å’Œä¾èµ–ç®¡ç†ã€‚
- **å‰ç«¯ç¯å¢ƒ**ï¼šNode.js 10.15.3æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºå‰ç«¯é¡¹ç›®çš„å¼€å‘å’Œæ„å»ºã€‚

ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–éƒ¨ä¾èµ–ä»“åº“ï¼ˆå¦‚Mavenä¸­å¤®ä»“åº“ã€NPMä»“åº“ï¼‰ã€‚
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œå¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚MySQLçš„3306ã€Redisçš„6379ã€RabbitMQçš„5672ç­‰ï¼‰ã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ **ä»£ç ç»“æ„**

- **åç«¯**ï¼šæ•°æ®æœåŠ¡ç®¡ç†åŠŸèƒ½é€šå¸¸ä½äº`modules/data-service-parent`ç›®å½•ä¸‹ï¼ŒåŒ…å«æœåŠ¡æ³¨å†Œã€APIç®¡ç†ã€æƒé™æ§åˆ¶ç­‰æ¨¡å—ã€‚
- **å‰ç«¯**ï¼šå‰ç«¯ä»£ç ä½äº`moat_ui`ç›®å½•ä¸‹ï¼ŒåŒ…å«æ•°æ®æœåŠ¡ç®¡ç†ç›¸å…³çš„é¡µé¢å’Œç»„ä»¶ã€‚



### 3.3. ç¼–è¯‘æ„å»º

#### 3.3.1. **åç«¯ç¼–è¯‘**

- è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡ŒMavenæ„å»ºå‘½ä»¤ï¼š

```javascript
mvn clean package -DskipTests
```

- å¦‚éœ€æŒ‡å®šç‰ˆæœ¬å‚æ•°ï¼ˆå¦‚Hadoopã€Flinkã€Sparkç‰ˆæœ¬ï¼‰ï¼Œå¯æ·»åŠ `-D`å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```javascript
mvn clean package -DskipTests -Dhadoop.version=3.3.4
```

#### 3.3.2. **å‰ç«¯æ„å»º**

- è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•ï¼Œå®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```javascript
cd moat_ui
npm install
npm run dev
```

- ç”Ÿäº§ç¯å¢ƒæ„å»ºï¼š

```javascript
npm run build:prod
```





### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- åˆ›å»ºåä¸º`studio`çš„æ•°æ®åº“ã€‚
- æ‰§è¡ŒSQLè„šæœ¬ï¼š

```javascript
source install/sql/alldata.sql
source install/sql/alldata-v0.x.x.sql
```

- å¯¼å…¥æ•°æ®æœåŠ¡ç®¡ç†ç›¸å…³çš„SQLè„šæœ¬ï¼ˆå¦‚`data-service.sql`ï¼‰ã€‚



#### 3.4.2. **åç«¯æœåŠ¡å¯åŠ¨**

ğŸ’¡ **æ ¸å¿ƒæœåŠ¡å¯åŠ¨é¡ºåº**ï¼š

- æ³¨å†Œä¸­å¿ƒï¼ˆ`DataxEurekaApplication`ï¼‰
- é…ç½®ä¸­å¿ƒï¼ˆ`DataxConfigApplication`ï¼‰
- APIç½‘å…³ï¼ˆ`DataxGatewayApplication`ï¼‰
- ç³»ç»ŸæœåŠ¡ï¼ˆ`SystemServiceApplication`ï¼‰
- æ•°æ®æœåŠ¡ç®¡ç†æœåŠ¡ï¼ˆ`DataServiceApplication`ï¼‰



#### 3.4.3. **å‰ç«¯éƒ¨ç½²**

- å°†æ„å»ºåçš„ç”Ÿäº§åŒ…ï¼ˆ`dist`ç›®å½•ï¼‰éƒ¨ç½²åˆ°NginxæœåŠ¡å™¨ã€‚
- Nginxé…ç½®ç¤ºä¾‹ï¼š

```javascript
server {
    listen 80;
    server_name your_domain.com;
    location / {
        root /path/to/dist;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    location /api/ {
        proxy_pass http://backend_server:port/;
        proxy_set_header Host $proxy_host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```



### 3.5. å¯é€‰é…ç½®

1. **æ•°æ®æœåŠ¡æƒé™é…ç½®**

- åœ¨ç³»ç»Ÿç®¡ç†ä¸­ï¼Œä¸ºä¸åŒè§’è‰²åˆ†é…æ•°æ®æœåŠ¡çš„è®¿é—®æƒé™ã€‚
- é…ç½®æ•°æ®æœåŠ¡çš„è„±æ•è§„åˆ™ï¼Œç¡®ä¿æ•æ„Ÿæ•°æ®åœ¨è°ƒç”¨æ—¶è¿›è¡Œè„±æ•å¤„ç†ã€‚



1. **æ•°æ®æœåŠ¡æ—¥å¿—ç®¡ç†**

- å¯ç”¨æ•°æ®æœåŠ¡è°ƒç”¨æ—¥å¿—è®°å½•åŠŸèƒ½ï¼Œä¾¿äºç›‘æ§å’Œåˆ†ææœåŠ¡çš„ä½¿ç”¨æƒ…å†µã€‚
- é…ç½®æ—¥å¿—å­˜å‚¨ç­–ç•¥ï¼Œç¡®ä¿æ—¥å¿—æ•°æ®çš„å®‰å…¨æ€§å’Œå¯è¿½æº¯æ€§ã€‚



1. **æ•°æ®æœåŠ¡ç›‘æ§ä¸å‘Šè­¦**

- é…ç½®æ•°æ®æœåŠ¡çš„ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚è°ƒç”¨æ¬¡æ•°ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡ç­‰ï¼‰ã€‚
- è®¾ç½®å‘Šè­¦è§„åˆ™ï¼Œå½“ç›‘æ§æŒ‡æ ‡è¶…å‡ºé˜ˆå€¼æ—¶ï¼Œé€šè¿‡é‚®ä»¶ã€çŸ­ä¿¡ç­‰æ–¹å¼é€šçŸ¥ç®¡ç†å‘˜ã€‚



### 3.6. éƒ¨ç½²æ•ˆæœéªŒè¯

1. **åç«¯æœåŠ¡éªŒè¯**

- è®¿é—®æ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒã€APIç½‘å…³çš„ç›‘æ§é¡µé¢ï¼Œç¡®è®¤æœåŠ¡çŠ¶æ€æ­£å¸¸ã€‚
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚`logs/`ç›®å½•ä¸‹çš„æ—¥å¿—ï¼‰ï¼Œç¡®ä¿æ— é”™è¯¯ä¿¡æ¯ã€‚



1. **å‰ç«¯åŠŸèƒ½éªŒè¯**

- æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®å‰ç«¯é¡µé¢ï¼Œç¡®è®¤æ•°æ®æœåŠ¡ç®¡ç†åŠŸèƒ½æ­£å¸¸æ˜¾ç¤ºã€‚
- æµ‹è¯•æ•°æ®æœåŠ¡çš„åˆ›å»ºã€å‘å¸ƒã€è°ƒç”¨ç­‰åŠŸèƒ½ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸ã€‚



1. **æ•°æ®æœåŠ¡è°ƒç”¨éªŒè¯**

- ä½¿ç”¨Postmanç­‰å·¥å…·è°ƒç”¨æ•°æ®æœåŠ¡APIï¼Œç¡®è®¤è¿”å›ç»“æœæ­£ç¡®ã€‚
- æ£€æŸ¥æ•°æ®æœåŠ¡è°ƒç”¨æ—¥å¿—ï¼Œç¡®è®¤è°ƒç”¨è®°å½•æ­£å¸¸ã€‚





## 4. è®¿é—®æ•°æ®æœåŠ¡ç®¡ç†é¡µé¢

#### 4.1.1. **æ¥å£å¸‚åœºç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409500905-c6874d72-bd9e-47a0-9c64-7ac56a8e7c5c.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.2. **æ•°æ®æœåŠ¡æœç´¢**

- å…è®¸ç”¨æˆ·æ ¹æ®å…³é”®è¯ã€æœåŠ¡ç±»å‹åœ¨APIåç§°è¿›è¡Œæœç´¢ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409529757-ea13c9e7-774d-4ff7-bd90-b4c6da4fe592.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.3. **æ•°æ®æœåŠ¡ä¸Šçº¿å‘å¸ƒ**

##### 4.1.3.1. **æ•°æ®æœåŠ¡å‘å¸ƒæˆåŠŸä¹‹åï¼Œæ¥å£å¯ä»¥è°ƒç”¨**

- åœ¨æ•°æ®æœåŠ¡æˆåŠŸå‘å¸ƒä¹‹åï¼Œæ¥å£å¯ä»¥è¢«è°ƒç”¨ï¼Œä»è€Œå®ç°æ•°æ®çš„è·å–ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409561933-2f4c0a84-9487-4454-99c8-5d7328d8d48d.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.4. **æ•°æ®æœåŠ¡æ³¨é”€ï¼Œæ•°æ®æœåŠ¡æ³¨é”€ä¹‹åï¼Œæ¥å£æ— æ³•è°ƒç”¨**

- æ³¨é”€åçš„æ•°æ®æœåŠ¡å°†æ— æ³•å†è¢«ä»»ä½•åº”ç”¨æˆ–ç³»ç»Ÿè°ƒç”¨ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409593535-0ec67b94-afec-43e5-b155-28cd7ce5509a.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.5. **æ•°æ®æœåŠ¡æ‹·è´**

- æ”¯æŒå¯¹å·²å‘å¸ƒçš„æ•°æ®æœåŠ¡è¿›è¡Œæ‹·è´ï¼Œå¿«é€Ÿåˆ›å»ºæ–°çš„æœåŠ¡å®ä¾‹ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409674661-eb5ac27d-7271-4aad-94db-19e46f3eed29.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.6. **æ•°æ®æœåŠ¡æ‹·è´æˆåŠŸ**

- æ‹·è´æˆåŠŸåï¼Œå»ºç«‹æ–°å‰¯æœ¬å¯ç‹¬ç«‹é…ç½®å’Œç®¡ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409722853-3ecc71d5-d572-4c22-949b-e55a5103bbe6.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.7. **åˆ›å»ºæ•°æ®æœåŠ¡**

- é€šè¿‡é€‰æ‹©æ•°æ®APIç¼–è¾‘çš„å­—æ®µå±æ€§é…ç½®ï¼Œéœ€å¡«å†™å®Œæ•´çš„æè¿°ã€å‚æ•°ç±»å‹ã€æ“ä½œç¬¦ç­‰ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409768547-8b225237-6a49-4d80-8455-2220e947a63b.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.8. **è¡¨å¼•å¯¼æ¨¡å¼åˆ›å»ºæ•°æ®æœåŠ¡ï¼ˆäºŒé€‰ä¸€ï¼‰**

##### 4.1.8.1. **éœ€è¦é€‰æ‹©å­—æ®µä½œä¸ºè¯·æ±‚å‚æ•°**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409852873-dd0e28cf-ca38-452a-b5e8-5e8f2f6de6db.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.8.2. **éœ€è¦é€‰æ‹©å­—æ®µä½œä¸ºè¿”å›å‚æ•°**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409930271-34db36e2-db51-4db6-986d-dd5dc573cd07.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.9. **æ•°æ®åº“è„šæœ¬åˆ›å»ºæ•°æ®æœåŠ¡ï¼ˆäºŒé€‰ä¸€ï¼‰**

- å…è®¸ç”¨æˆ·ç¼–å†™è‡ªå®šä¹‰çš„SQLè„šæœ¬æˆ–å­˜å‚¨è¿‡ç¨‹æ¥åˆ›å»ºæ•°æ®æœåŠ¡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741409987645-94870efb-21eb-4cdc-ba87-8879174eae11.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.10. **ä¿å­˜æ•°æ®æœåŠ¡**

âš ï¸æ³¨æ„ï¼šéœ€è¦åŒæ—¶å¡«å†™æè¿°ã€å‚æ•°ç±»å‹ã€æ“ä½œç¬¦ã€ç¤ºä¾‹å€¼ã€é»˜è®¤å€¼ï¼Œæ‰å¯ä»¥ä¿å­˜æ•°æ®æœåŠ¡æˆåŠŸã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410501425-84b2379f-482f-45f0-bb36-6dd3e774ec08.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.11. **åˆ›å»ºæ•°æ®æœåŠ¡æˆåŠŸ**

- åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·éœ€è¦é€‰æ‹©æ•°æ®æºã€å®šä¹‰è¯·æ±‚å‚æ•°å’Œè¿”å›å‚æ•°ã€é…ç½®æœåŠ¡é€»è¾‘ç­‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410157861-4c542c00-be6e-49d9-92db-ea1a94bd6ae3.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.12. **æ•°æ®æœåŠ¡è°ƒç”¨æµ‹è¯•**

##### 4.1.12.1. **è¿›å…¥æ•°æ®æœåŠ¡è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410274410-fbfdb152-db53-4805-a69f-0b1794b1d8b9.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.13. **è¿›å…¥æ¥å£ç¤ºä¾‹**

âš ï¸æ³¨æ„ï¼šæ ¹æ®æ•°æ®ä¸­å°ç”Ÿæˆçš„api_key,api_secretè¿›è¡Œæ¥å£è°ƒç”¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410326453-3a088a84-ad7e-4e21-9132-db0431ce62d5.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.14. **æ•°æ®æœåŠ¡æ¥å£è¿”å›ç»“æœ**

- åœ¨è°ƒç”¨æ¥å£åï¼Œä»”ç»†æŸ¥çœ‹è¿”å›ç»“æœï¼ŒåŒ…æ‹¬è¿”å›çš„çŠ¶æ€ç ã€æ•°æ®å†…å®¹ã€é”™è¯¯ä¿¡æ¯ç­‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410521199-fd970956-860f-4b00-82a2-2b65db97907d.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.15. **æ•°æ®å®‰å…¨è„±æ•ç®¡ç†**

- åˆ›å»ºæˆ–ç®¡ç†æ•°æ®æœåŠ¡æ—¶ï¼Œé€‰æ‹©éœ€è¦è„±æ•çš„å­—æ®µï¼Œå¹¶é…ç½®ç›¸åº”çš„è„±æ•è§„åˆ™ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410655901-624169df-06b0-452e-88f1-850c0ed0c5ce.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.16. **æ¥å£æ—¥å¿—ç®¡ç†**

- ç”¨æˆ·å¯ä»¥æŸ¥çœ‹æ¥å£åç§°ï¼ŒåŒ…æ‹¬è°ƒç”¨æ–¹ã€æ•°æ®é‡ã€è€—æ—¶ã€è¿”å›ç»“æœç­‰ä¿¡æ¯ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410737396-0e3ebc07-667b-4563-a888-f2c43d97fe95.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.17. **ç¬¬ä¸‰æ–¹æœåŠ¡ç®¡ç†**

- å…è®¸ç”¨æˆ·é›†æˆå’Œç®¡ç†ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œæ‰©å±•æ•°æ®æœåŠ¡çš„åŠŸèƒ½å’ŒèŒƒå›´ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410757488-6a9ad153-1a0a-4b08-b5a3-35ecca3f4727.png?x-oss-process=image%2Fformat%2Cwebp)

##### 4.1.17.1. **æ–°å¢ç¬¬ä¸‰æ–¹æœåŠ¡**

- åœ¨æ–°å¢è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¡«å†™ç¬¬ä¸‰æ–¹æœåŠ¡çš„åŸºæœ¬ä¿¡æ¯ï¼ŒæœåŠ¡åç§°ã€ç±»å‹ã€æœåŠ¡è¯·æ±‚åœ°å€ã€æ–¹å¼ç­‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410790066-b56980b3-928c-4484-9524-654e5498e474.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.18. **ç¬¬ä¸‰æ–¹æœåŠ¡è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410843849-68758639-b470-47f1-8c6b-fa685e0a094d.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.19. **ç¬¬ä¸‰æ–¹æœåŠ¡æ—¥å¿—ç®¡ç†**

- ä¸ºäº†è·Ÿè¸ªå’Œç›‘æ§æ•°æ®æœåŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œå¯ä»¥å¯ç”¨æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚
- è®°å½•ç¬¬ä¸‰æ–¹æœåŠ¡çš„è°ƒç”¨æ—¥å¿—ï¼Œä¾¿äºç”¨æˆ·ç›‘æ§å’Œåˆ†ææœåŠ¡çš„ä½¿ç”¨æƒ…å†µï¼Œå¸®åŠ©ç”¨æˆ·åŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410869249-91fc1291-8395-43f2-8c95-abe589923c4f.png?x-oss-process=image%2Fformat%2Cwebp)



## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **æ•°æ®æœåŠ¡è°ƒç”¨å¤±è´¥**

- **ç°è±¡**ï¼šæ•°æ®æœåŠ¡è°ƒç”¨è¿”å›é”™è¯¯æˆ–è¶…æ—¶ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œç½‘ç»œæ˜¯å¦é€šç•…ï¼Œå‚æ•°æ˜¯å¦æ­£ç¡®ã€‚

### 5.2. **æ•°æ®æœåŠ¡æƒé™ä¸è¶³**

- **ç°è±¡**ï¼šç”¨æˆ·æ— æƒè®¿é—®æŸäº›æ•°æ®æœåŠ¡ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥ç”¨æˆ·è§’è‰²å’Œæƒé™é…ç½®ï¼Œç¡®ä¿ç”¨æˆ·å…·æœ‰ç›¸åº”çš„è®¿é—®æƒé™ã€‚

### 5.3. **æ•°æ®æœåŠ¡æ—¥å¿—ç¼ºå¤±**

- **ç°è±¡**ï¼šæ— æ³•æŸ¥çœ‹æ•°æ®æœåŠ¡çš„è°ƒç”¨æ—¥å¿—ã€‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æ—¥å¿—é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œæ—¥å¿—å­˜å‚¨è·¯å¾„æ˜¯å¦å¯å†™ã€‚



## 6. æœåŠ¡ç¨³å®šæ€§ä¸æ€§èƒ½æ€§

### 6.1. æœåŠ¡ç›‘æ§ 

- å®æ—¶ç›‘æ§ï¼šä½¿ç”¨ç›‘æ§å·¥å…·å¯¹æ•°æ®æœåŠ¡çš„è¿è¡ŒçŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡è¿›è¡Œå®æ—¶ç›‘æ§ï¼Œå¦‚å“åº”æ—¶é—´ã€ååé‡ã€é”™è¯¯ç‡ç­‰ã€‚
- å‘Šè­¦æœºåˆ¶ï¼šè®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼ï¼Œå½“æœåŠ¡æ€§èƒ½æŒ‡æ ‡è¶…è¿‡é˜ˆå€¼æ—¶åŠæ—¶è§¦å‘å‘Šè­¦ï¼Œä»¥ä¾¿åŠæ—¶å¤„ç†é—®é¢˜ã€‚



### 6.2. è´Ÿè½½å‡è¡¡ 

- åˆ†å¸ƒå¼éƒ¨ç½²ï¼šå¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼Œå¯ä»¥å°†æ•°æ®æœåŠ¡åˆ†å¸ƒå¼éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡è´Ÿè½½å‡è¡¡æŠ€æœ¯åˆ†æ•£è¯·æ±‚å‹åŠ›ã€‚
- åŠ¨æ€è°ƒæ•´ï¼šæ ¹æ®æœåŠ¡è´Ÿè½½æƒ…å†µåŠ¨æ€è°ƒæ•´è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œç¡®ä¿æœåŠ¡èƒ½å¤Ÿé«˜æ•ˆå¤„ç†è¯·æ±‚ã€‚



### 6.3. å®¹é”™ä¸æ¢å¤ 

- å®¹é”™æœºåˆ¶ï¼šè®¾è®¡å®¹é”™æœºåˆ¶ï¼Œå¦‚æœåŠ¡é™çº§ã€é™æµç­‰ï¼Œç¡®ä¿æ•°æ®æœåŠ¡åœ¨éƒ¨åˆ†ç»„ä»¶æ•…éšœæ—¶ä»èƒ½æ­£å¸¸è¿è¡Œã€‚
- æ•°æ®å¤‡ä»½ä¸æ¢å¤ï¼šå®šæœŸå¤‡ä»½æ•°æ®æœåŠ¡çš„ç›¸å…³æ•°æ®å’Œé…ç½®ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶å¿«é€Ÿæ¢å¤æœåŠ¡ã€‚

**
**

## 7. æ³¨æ„äº‹é¡¹

### 7.1. **æ•°æ®å®‰å…¨æ€§** 

- åœ¨é…ç½®å’Œè°ƒç”¨æ•°æ®æœåŠ¡æ—¶ï¼Œæ³¨æ„ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼Œä½¿ç”¨åŠ å¯†ä¼ è¾“å’Œå­˜å‚¨æ–¹å¼ã€‚

### 7.2. **æœåŠ¡ç›‘æ§** 

- å®šæœŸç›‘æ§æ•°æ®æœåŠ¡çš„è¿è¡ŒçŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡ï¼ŒåŠæ—¶å‘ç°å¹¶å¤„ç†é—®é¢˜ã€‚

### 7.3. **æ•°æ®ä¸€è‡´æ€§** 

- åœ¨é…ç½®æ•°æ®æœåŠ¡æ—¶ï¼Œéœ€è¦ç¡®ä¿æ•°æ®æºçš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚å¦‚æœæ•°æ®æºå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦åŠæ—¶æ›´æ–°æ•°æ®æœåŠ¡é…ç½®ä»¥ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ã€‚

### 7.4. **æ€§èƒ½ä¼˜åŒ–** 

- ä¸ºäº†æé«˜æ•°æ®æœåŠ¡çš„æ€§èƒ½ï¼Œå¯ä»¥å¯¹æ¥å£è¿›è¡Œæ€§èƒ½ä¼˜åŒ–æ“ä½œï¼Œä¼˜åŒ–SQLæŸ¥è¯¢è¯­å¥ã€ä½¿ç”¨ç´¢å¼•ç­‰ã€‚





------

# **APIå…±äº«å¹³å°(sqlrest)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. APIå…±äº«å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV14HbDzGECc/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. APIå…±äº«å¹³å°åŸºäºå¼€æºé¡¹ç›® SqlRest å»ºè®¾

SqlRestæ˜¯SQLæ“ä½œè½¬åŒ–ä¸ºHttp APIçš„ä¾¿æ·å·¥å…·ï¼Œå®ƒæ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡é…ç½® SQL è¯­å¥æ¥åˆ›å»º APIï¼Œæ— éœ€ç¼–å†™å¤æ‚çš„åç«¯é€»è¾‘ï¼Œç”¨æˆ·åªéœ€é€‰æ‹©æ•°æ®æºã€è¾“å…¥SQLæˆ–è„šæœ¬ã€ç®€å•pathé…ç½®å³å¯å¿«é€Ÿç”ŸæˆAPIæ¥å£ã€‚

SqlResté¡¹ç›®åœ°å€ï¼šhttps://gitee.com/inrgihc/sqlrest



### 2.2.  APIå…±äº«å¹³å°åŠŸèƒ½æŠ€æœ¯ç‰¹æ€§ï¼š

#### 2.2.1.  SQLç›´æ¥æ„å»ºAPI 

é€šè¿‡é…ç½®å¢åˆ æ”¹æŸ¥SQLå’Œå‚æ•°å³å¯ç”ŸæˆHttp APIã€‚

#### 2.2.2.  å¤šæ•°æ®åº“æ”¯æŒ 

æ”¯æŒå¸¸è§çš„20+ç§æ•°æ®åº“ï¼Œå…¶ä¸­åŒ…å«å¤šæ¬¾å›½äº§æ•°æ®åº“æ— ç¼å…¼å®¹ï¼Œæ”¯æŒæ¥å£å‘å¸ƒä¸‹çº¿ã€‚

#### 2.2.3.  è·¨è¡¨æŸ¥è¯¢ 

å…è®¸å¼€å‘è€…é€šè¿‡æ ‡å‡†SQLçš„JOINç­‰æ“ä½œç›´æ¥å…³è”å¤šè¡¨æ•°æ®ï¼Œæ— éœ€ç¼–å†™å¤æ‚çš„åº”ç”¨å±‚ä»£ç ï¼Œå¤§å¹…é™ä½å¼€å‘é—¨æ§›ä¸æˆæœ¬ã€‚åŒæ—¶ï¼Œä¾æ‰˜æ•°æ®åº“åŸç”Ÿä¼˜åŒ–èƒ½åŠ›ï¼ˆå¦‚ç´¢å¼•ã€æ‰§è¡Œè®¡åˆ’ï¼‰ï¼Œè·¨è¡¨æŸ¥è¯¢æ€§èƒ½é«˜æ•ˆç¨³å®šï¼Œå°¤å…¶é€‚åˆå¤„ç†å¤§æ•°æ®é‡æˆ–å¤æ‚å…³è”åœºæ™¯ã€‚æœ€ç»ˆç”Ÿæˆçš„RESTful APIå¯çµæ´»ä¾›å‰ç«¯æˆ–å…¶ä»–æœåŠ¡è°ƒç”¨ï¼Œå®ç°æ•°æ®å¿«é€Ÿæ•´åˆä¸å…±äº«ï¼ŒåŠ©åŠ›ä¼ä¸šé«˜æ•ˆæ„å»ºä½ä»£ç ã€é«˜å¯ç”¨çš„æ•°æ®æœåŠ¡å±‚ã€‚

#### 2.2.4.  Swaggeråœ¨çº¿æ–‡æ¡£ 

æ”¯æŒè‡ªåŠ¨ç”Ÿæˆswagger-uiçš„åœ¨çº¿æ¥å£æ–‡æ¡£ï¼Œåœ¨çº¿ç”Ÿæˆtokenã€‚

#### 2.2.5.  ç¼“å­˜é…ç½®æ”¯æŒ 

æ”¯æŒ Hazelcast å’Œ Redis ç¼“å­˜ï¼Œæå‡ API è®¿é—®æ€§èƒ½ã€‚

#### 2.2.6.  åŒä¸€å‘Šè­¦å¯¹æ¥ 

æ”¯æŒç»Ÿä¸€å‘Šè­¦ç³»ç»Ÿçš„å¯¹æ¥ä¸è§¦å‘ã€‚



### 2.3.  APIå…±äº«å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

-  å¼€å‘æ•ˆç‡æå‡ ï¼šå‡å°‘é‡å¤ä»£ç ç¼–å†™ï¼Œç¼©çŸ­å¼€å‘å‘¨æœŸ
-  æŠ€æœ¯é—¨æ§›é™ä½ ï¼šéå…¨æ ˆå¼€å‘è€…ä¹Ÿå¯é€šè¿‡SQLå®šä¹‰æ¥å£
-  ç³»ç»Ÿçµæ´»æ€§å¢å¼º ï¼šæ”¯æŒå¤æ‚ä¸šåŠ¡åœºæ™¯çš„çµæ´»æ‰©å±•ä¸ç»´æŠ¤





## 3. AllDataæ•°æ®ä¸­å°- APIå…±äº«å¹³å°-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486632284-b55be3c6-bd74-4c9a-8417-2926228d8adb.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡ï¼šå¤šç»´åº¦å…¼å®¹æ€§é€‚é…

ğŸ’¡ **åŸºç¡€ç¯å¢ƒè¦æ±‚ï¼š**

- **J****CPU**ï¼šå»ºè®®é‡‡ç”¨å¤šæ ¸å¤„ç†å™¨ï¼ˆå¦‚Intel Xeon E5ç³»åˆ—ï¼‰ï¼Œä»¥æ”¯æŒé«˜å¹¶å‘APIè¯·æ±‚å¤„ç†ã€‚
- **å†…å­˜**ï¼šè‡³å°‘16GB RAMï¼Œå¤æ‚æŸ¥è¯¢åœºæ™¯éœ€æ‰©å±•è‡³32GBä»¥ä¸Šã€‚
- **å­˜å‚¨**ï¼šé¢„ç•™50GBä»¥ä¸Šç£ç›˜ç©ºé—´ï¼Œç”¨äºå­˜å‚¨æ—¥å¿—ã€ä¸´æ—¶æ–‡ä»¶åŠé«˜å¹¶å‘åœºæ™¯ä¸‹çš„ç¼“å­˜æ•°æ®ã€‚
- **ç½‘ç»œ**ï¼šåƒå…†ä»¥å¤ªç½‘æ¥å£ï¼Œç¡®ä¿ä½å»¶è¿Ÿæ•°æ®ä¼ è¾“ã€‚



ğŸ’¡ **è½¯ä»¶ä¾èµ–é…ç½®ï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼š

- **Linux**ï¼šCentOS 7.6+/Ubuntu 20.04 LTSï¼ˆæ¨èï¼‰ï¼Œéœ€é…ç½®SELinuxä¸ºpermissiveæ¨¡å¼ä»¥é¿å…æƒé™å†²çªã€‚
- **Windows**ï¼šWindows Server 2019ï¼Œéœ€å…³é—­UACå¹¶å¯ç”¨PowerShellè¿œç¨‹æ‰§è¡Œæƒé™ã€‚

- **Javaç¯å¢ƒ**ï¼šJDK 1.8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆå»ºè®®OpenJDK 11 LTSï¼‰ï¼Œé…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡å¹¶æ·»åŠ è‡³`PATH`ã€‚



ğŸ’¡ **åŸºç¡€ç¯å¢ƒè¦æ±‚ï¼š**

- **MySQL**ï¼šä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„JDBCé©±åŠ¨ï¼ˆå¦‚mysql-connector-java-8.0.28.jarï¼‰ï¼Œæ”¾ç½®äº`sqlrest/lib/`ç›®å½•ã€‚
- **PostgreSQL**ï¼šéœ€é¢å¤–é…ç½®`pgjdbc-ng-0.9.1.jar`ä»¥æ”¯æŒé«˜çº§æ•°æ®ç±»å‹æ˜ å°„ã€‚



ğŸ’¡ **æ„å»ºå·¥å…·ï¼š**

- Maven 3.6.3+ï¼Œé…ç½®`MAVEN_HOME`å¹¶æ›´æ–°é•œåƒæºï¼ˆå¦‚é˜¿é‡Œäº‘é•œåƒï¼‰ä»¥åŠ é€Ÿä¾èµ–ä¸‹è½½ã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



### 3.3. **å®‰å…¨åŠ å›ºæªæ–½**

- å…³é—­ä¸å¿…è¦çš„ç«¯å£ï¼ˆå¦‚SSHé»˜è®¤22ç«¯å£è¿ç§»è‡³éæ ‡å‡†ç«¯å£ï¼‰ã€‚
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼ˆå¦‚iptables/nftablesï¼‰ä»…å…è®¸8090-8092ç«¯å£é€šä¿¡ã€‚
- å¯ç”¨TLS 1.2+åŠ å¯†ï¼Œç”Ÿæˆè‡ªç­¾åè¯ä¹¦æˆ–ç”³è¯·CAè¯ä¹¦ç»‘å®šè‡³GatewayæœåŠ¡ã€‚



### 3.4. ç¼–è¯‘æ„å»ºï¼šå¤šå¹³å°å·®å¼‚åŒ–å¤„ç†

#### 3.4.1. **Linux/macOSæ„å»º**

```javascript
sh ./build.sh -DskipTests -Pprod
```

- **å‚æ•°è¯´æ˜**ï¼š

- `-DskipTests`ï¼šè·³è¿‡å•å…ƒæµ‹è¯•ä»¥åŠ é€Ÿæ„å»ºã€‚
- `-Pprod`ï¼šå¯ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆå¦‚å…³é—­Debugæ—¥å¿—çº§åˆ«ï¼‰ã€‚

- **è¾“å‡ºæ–‡ä»¶**ï¼šç”Ÿæˆ`target/sqlrest-release-2.5.0.tar.gz`ï¼ŒåŒ…å«ç¼–è¯‘åçš„JARåŒ…åŠé…ç½®æ¨¡æ¿ã€‚

#### 3.4.2. **Windowsæ„å»º**

- åŒå‡»`build.cmd`è„šæœ¬ï¼Œæˆ–é€šè¿‡PowerShellæ‰§è¡Œï¼š

```javascript
.\build.ps1 -BuildConfig "Release" -Platform "x64"
```

ğŸ’¡ **å¸¸è§é—®é¢˜**ï¼š

- **è·¯å¾„ç©ºæ ¼**ï¼šè‹¥é¡¹ç›®è·¯å¾„åŒ…å«ç©ºæ ¼ï¼ˆå¦‚`C:\Program Files`ï¼‰ï¼Œéœ€ä½¿ç”¨çŸ­è·¯å¾„ï¼ˆ`C:\Progra~1`ï¼‰æˆ–å¼•å·åŒ…è£¹ã€‚
- **ç¼–ç å†²çª**ï¼šåœ¨`pom.xml`ä¸­æ˜¾å¼æŒ‡å®šUTF-8ç¼–ç ï¼š

```javascript
<properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
</properties>
```

#### 3.4.3. **Dockeré•œåƒæ„å»º**

```javascript
sh ./docker-maven-build.sh -t registry.example.com/sqlrest:2.5.0
```

ğŸ’¡ **å¤šé˜¶æ®µæ„å»º**ï¼š

- **åŸºç¡€å±‚**ï¼šåŸºäº`openjdk:11-jre-slim`å®‰è£…ä¾èµ–ã€‚
- **åº”ç”¨å±‚**ï¼šå¤åˆ¶ç¼–è¯‘åçš„JARåŒ…åŠé…ç½®æ–‡ä»¶ï¼Œè®¾ç½®å…¥å£ç‚¹ä¸º`java -jar sqlrest.jar`ã€‚
- **é•œåƒä¼˜åŒ–**ï¼šä½¿ç”¨`docker-squash`å·¥å…·å‹ç¼©é•œåƒå±‚ï¼Œå‡å°‘ä½“ç§¯è‡³200MBä»¥å†…ã€‚





### 3.5. éƒ¨ç½²åŠè¿è¡Œé…ç½®ï¼šé«˜å¯ç”¨ä¸æ€§èƒ½è°ƒä¼˜

#### 3.5.1. **å•æœºéƒ¨ç½²**

- **è§£å‹å®‰è£…åŒ…**ï¼š

```javascript
tar -xzvf sqlrest-release-2.5.0.tar.gz -C /opt/sqlrest
```

- **é…ç½®æ–‡ä»¶ä¿®æ”¹**ï¼ˆ`/opt/sqlrest/conf/config.ini`ï¼‰ï¼š

```javascript
[manager]
HOST=192.168.1.100
PORT=8090
[executor]
PORT=8092
THREAD_POOL_SIZE=20  # æ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´
[gateway]
PORT=8091
CORS_ALLOWED_ORIGINS="http://alldata-portal.example.com"  # å…è®¸è·¨åŸŸè¯·æ±‚çš„åŸŸå
```

- **æœåŠ¡å¯åŠ¨**ï¼š

```javascript
sh /opt/sqlrest/bin/sqlrestctl.sh start all  # å¯åŠ¨Managerã€Executorã€Gateway
```



#### 3.5.2. **é›†ç¾¤éƒ¨ç½²**

ğŸ’¡**èŠ‚ç‚¹åˆ†å·¥**ï¼š

- **ManagerèŠ‚ç‚¹**ï¼šéƒ¨ç½²3å°ï¼ˆä¸»å¤‡æ¨¡å¼ï¼‰ï¼Œé€šè¿‡Zookeeperå®ç°é€‰ä¸¾ã€‚
- **ExecutorèŠ‚ç‚¹**ï¼šæŒ‰ä¸šåŠ¡åˆ†åŒºéƒ¨ç½²ï¼ˆå¦‚è®¢å•åŒºã€ç”¨æˆ·åŒºï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹é…ç½®ç‹¬ç«‹æ•°æ®æºã€‚



ğŸ’¡**è´Ÿè½½å‡è¡¡**ï¼š

ğŸ’¡**Nginxé…ç½®**ï¼š

```javascript
upstream sqlrest_gateway {
    server 192.168.1.101:8091;
    server 192.168.1.102:8091;
    server 192.168.1.103:8091;
}
server {
    listen 80;
    location / {
        proxy_pass http://sqlrest_gateway;
        proxy_set_header Host $host;
    }
}
```



#### 3.5.3. **æ€§èƒ½ç›‘æ§**

- **Prometheusé›†æˆ**ï¼š
- ä¿®æ”¹`config.ini`å¯ç”¨Metricsç«¯ç‚¹ï¼š

```javascript
[metrics]
ENABLED=true
PORT=9091
```

- ä¿®æ”¹`config.ini`å¯ç”¨Metricsç«¯ç‚¹ï¼š

```javascript
scrape_configs:
  - job_name: 'sqlrest'
    static_configs:
      - targets: ['192.168.1.100:9091']
```

- **Grafanaçœ‹æ¿**ï¼šå¯¼å…¥IDä¸º`12345`çš„å®˜æ–¹æ¨¡æ¿ï¼Œå®æ—¶ç›‘æ§QPSã€å“åº”æ—¶é—´åŠé”™è¯¯ç‡ã€‚



### 3.6. å¯é€‰é…ç½®ï¼šåŠŸèƒ½æ‰©å±•ä¸å®šåˆ¶åŒ–

1. **å®‰å…¨å¢å¼º**

- **APIç½‘å…³é‰´æƒ**ï¼šé›†æˆOAuth2.0ï¼Œä¿®æ”¹`src/main/java/com/sqlrest/gateway/filter/AuthFilter.java`ï¼Œæ·»åŠ JWTéªŒè¯é€»è¾‘ï¼š

```javascript
public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {
    String token = ((HttpServletRequest) request).getHeader("Authorization");
    if (!JwtUtil.verify(token, "your-secret-key")) {
        ((HttpServletResponse) response).setStatus(401);
        return;
    }
    chain.doFilter(request, response);
}
```

- **æ•°æ®è„±æ•**ï¼šåœ¨SQLè¯­å¥ä¸­é€šè¿‡`MASK()`å‡½æ•°éšè—æ•æ„Ÿå­—æ®µï¼š

```javascript
SELECT id, MASK(phone) AS phone FROM users WHERE id = #{id}
```

1. **å¤šæ•°æ®æºæ”¯æŒ**

- **æ€æ•°æ®æºè·¯ç”±**ï¼š
- åœ¨`config.ini`ä¸­é…ç½®å¤šä¸ªæ•°æ®æºï¼š
- é€šè¿‡æ³¨è§£`@DataSource("order")`æŒ‡å®šSQLæ‰§è¡Œçš„æ•°æ®æºã€‚

```javascript
[datasource.order]
TYPE=mysql
HOST=192.168.2.100
USERNAME=order_user
PASSWORD=order123
```

1. **æ’ä»¶åŒ–æ‰©å±•**

- **è‡ªå®šä¹‰å‡½æ•°æ’ä»¶**ï¼š
- å®ç°`com.sqlrest.core.plugin.FunctionPlugin`æ¥å£ï¼Œæ³¨å†Œè‡ªå®šä¹‰å‡½æ•°ï¼ˆå¦‚`MD5_ENCRYPT`ï¼‰ï¼š
- å°†æ’ä»¶JARåŒ…æ”¾ç½®äº`plugins/`ç›®å½•ï¼Œé‡å¯æœåŠ¡åŠ è½½ã€‚

```javascript
public class CryptoPlugin implements FunctionPlugin {
    public String execute(String input) {
        return DigestUtils.md5Hex(input);
    }
}
```





## 4. è®¿é—® APIå…±äº«å¹³å°é¡µé¢

#### 4.1.1. APIå…±äº«å¹³å°é¡µé¢-**æ¦‚è§ˆ**

å¯å¿«é€Ÿå‘ˆç°SQLè½¬APIæ ¸å¿ƒä¿¡æ¯ï¼Œå¦‚æ•°æ®æºã€æ¥å£çŠ¶æ€ç­‰ï¼Œä¸€ç›®äº†ç„¶

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711328983-c6645645-a74e-422e-bef8-8e6762207c46.jpeg)

#### 4.1.2. **é©±åŠ¨é…ç½®**

èƒ½çµæ´»è®¾ç½®å¤šç±»å‹æ•°æ®åº“é©±åŠ¨å‚æ•°ï¼Œä¿éšœä¸ä¸åŒæ•°æ®æºç¨³å®šè¿æ¥

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711422070-27e045f3-250c-4444-bc95-ff92b61b90c4.jpeg)

#### 4.1.3. **é©±åŠ¨é…ç½®-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711419339-3ce75490-7c67-46f7-9b7b-f5b19f0a1e1f.jpeg)

#### 4.1.4. **è¿æ¥ç®¡ç†**

å¯é›†ä¸­ç®¡æ§å¤šæ•°æ®åº“è¿æ¥ï¼Œæ”¯æŒåˆ›å»ºã€ç¼–è¾‘ä¸åˆ é™¤ï¼Œç¡®ä¿è¿æ¥ç¨³å®šé«˜æ•ˆ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711415790-2ce4f0d5-13d4-4e93-a390-511e51a749ab.jpeg)

#### 4.1.5. **è¿æ¥ç®¡ç†-æµ‹è¯•**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711412490-c84f66fb-cd30-42ed-8f53-3ca10c83e7be.jpeg)

#### 4.1.6. **è¿æ¥ç®¡ç†-è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711409559-bd7fe644-e1fa-44eb-947b-7471ec1f9e8f.jpeg)

#### 4.1.7. **è¿æ¥ç®¡ç†-ç¼–è¾‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711405982-ac9afca6-2d5b-43af-b18e-6c8e300284dc.jpeg)

#### 4.1.8. **è¿æ¥ç®¡ç†-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711402651-5fa15262-e2a9-48fe-a5bb-64a7a9777b72.jpeg)

#### 4.1.9. **æ¨¡å—é…ç½®**

èƒ½æŒ‰éœ€å®šåˆ¶å„åŠŸèƒ½æ¨¡å—å‚æ•°ï¼Œçµæ´»é€‚é…ä¸åŒä¸šåŠ¡åœºæ™¯ä¸‹çš„å¼€å‘éœ€æ±‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711399010-247aaae8-5a07-467f-8da6-3f1e51b8cb05.jpeg)

#### 4.1.10. **æ¨¡å—é…ç½®-ç¼–è¾‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711703674-5909b6b2-95c0-4dbe-a17e-3881b223fa0d.jpeg)

#### 4.1.11. **æ¨¡å—é…ç½®-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711706894-74b08b1d-2751-4d0e-9165-f3f5213863b8.jpeg)

#### 4.1.12. **æ¥å£é…ç½®**

å¯è‡ªå®šä¹‰SQLè½¬APIçš„è·¯å¾„ã€å‚æ•°ç­‰ï¼Œè½»æ¾ç”Ÿæˆå¥‘åˆä¸šåŠ¡çš„ä¸“å±æ¥å£

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711711237-8ab795bf-cc8e-41b9-b33a-c2852254ff8c.jpeg)

#### 4.1.13. **æ¥å£é…ç½®-ä¸Šçº¿**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711716055-b3df6f24-e93e-490b-8e77-6e03a488d2c2.jpeg)

#### 4.1.14. **æ¥å£é…ç½®-ä¿®æ”¹-SQLé…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711719781-9bf96c38-2f00-4b6a-ad15-c0400b64c8a0.jpeg)

#### 4.1.15. **æ¥å£é…ç½®-ä¿®æ”¹-æ¥å£é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711724439-a6733468-8bb7-48c6-a1c0-9d251f851adc.jpeg)

#### 4.1.16. **æ¥å£é…ç½®-ä¿®æ”¹-å‡ºå‚æ ¼å¼**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711728088-6fd0ffcd-3d25-4807-b13a-c3fedf0f3ae1.jpeg)

#### 4.1.17. **æ¥å£é…ç½®-ä¿®æ”¹-ç¼“å­˜é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711732369-2c72d2e8-d0ed-4abb-8e2c-7fb2636fb2ca.jpeg)

#### 4.1.18. **æ¥æ¥å£é…ç½®-ä¿®æ”¹-æµé‡æ§åˆ¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711736468-17e24ffe-48ab-4da4-a9d6-6493bcee5c36.jpeg)

#### 4.1.19. **æ¥å£é…ç½®-æ·»åŠ -SQLé…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711740283-18e4084d-9156-43d0-acee-0e777b092733.jpeg)

#### 4.1.20. **æ¥å£é…ç½®-æ·»åŠ -æ¥å£é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711743776-ba155424-239d-4060-b190-82decf03f94f.jpeg)

#### 4.1.21. **æ¥å£é…ç½®-æ·»åŠ -å‡ºå‚æ ¼å¼**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711748245-32cfd504-ccc7-4fe6-9ad9-c113f7a04a36.jpeg)

#### 4.1.22. **æ¥å£é…ç½®-æ·»åŠ -ç¼“å­˜é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711752788-730d6a9a-9e12-4d24-b99e-e02f1d7853f7.jpeg)

#### 4.1.23. **æ¥å£é…ç½®-æ·»åŠ -æµé‡æ§åˆ¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711756759-12b7a07d-549e-4e14-8ed7-5fab0db19873.jpeg)

#### 4.1.24. **æ¥å£ä»“åº“-æ¥å£å®šä¹‰**

èƒ½é›†ä¸­è§„èŒƒå®šä¹‰APIï¼Œæ˜ç¡®å‚æ•°ä¸é€»è¾‘ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†è°ƒç”¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711762131-edb82686-94a2-46cb-b972-6f223f8e623f.jpeg)

#### 4.1.25. **æ¥å£ä»“åº“-è®¿é—®æ—¥å¿—**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711765213-68f3437b-67bd-46fd-bde8-9f66af4f127b.jpeg)

#### 4.1.26. **ä»¤ç‰Œé…ç½®**

å¯çµæ´»è®¾ç½®æ¥å£è®¿é—®ä»¤ç‰Œè§„åˆ™ï¼Œä¿éšœAPIè°ƒç”¨å®‰å…¨ä¸”æƒé™å¯æ§

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711768885-61cb5532-92f4-4631-aeb9-de53874b86da.jpeg)

#### 4.1.27. **ä»¤ç‰Œé…ç½®-æŸ¥çœ‹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711867145-e473b1da-08ec-463c-a35f-a2a98833d0fd.jpeg)

#### 4.1.28. **ä»¤ç‰Œé…ç½®-ä¿®æ”¹é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711870301-a65236ab-49ef-4df7-ad58-7a65766d3e4b.jpeg)

#### 4.1.29. **ä»¤ç‰Œé…ç½®-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711875045-41cb516c-4c0b-4e1c-b78c-b768c10715b4.jpeg)

#### 4.1.30. **æˆæƒåˆ†ç»„**

æˆæƒåˆ†ç»„åŠŸèƒ½èƒ½æŒ‰è§’è‰²æˆ–ä¸šåŠ¡åˆ’åˆ†æƒé™ç»„ï¼Œç²¾å‡†ç®¡æ§ä¸åŒåˆ†ç»„å¯¹APIçš„è®¿é—®æƒé™

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711878284-71fc11b8-86d4-48e9-aeaa-9eea75d61542.jpeg)

#### 4.1.31. **æˆæƒåˆ†ç»„-ç¼–è¾‘**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711882106-9581ce1f-715a-4a9e-a7b0-e7505b7d36e6.jpeg)

#### 4.1.32. **æˆæƒåˆ†ç»„-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711885692-e794680c-7791-4fd8-8a2a-b5ba33fd95d8.jpeg)

#### 4.1.33. **å®¢æˆ·åº”ç”¨**

å¯é›†ä¸­ç®¡ç†è°ƒç”¨APIçš„å®¢æˆ·ç«¯ï¼Œçµæ´»åˆ†é…æƒé™ï¼Œä¿éšœåº”ç”¨å®‰å…¨äº¤äº’

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711891178-8847bd83-df89-4440-b4f8-1c9452b41c01.jpeg)

#### 4.1.34. **å®¢æˆ·åº”ç”¨-æˆæƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711894434-e70fe9f0-2ba1-43fa-a312-3782f1447dd2.jpeg)

#### 4.1.35. **å®¢æˆ·åº”ç”¨-å¯†é’¥**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711897767-6f5dd277-8510-484b-b5b6-ca827655658f.jpeg)

#### 4.1.36. **å®¢æˆ·åº”ç”¨-æ·»åŠ **

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711901378-7a169de1-165e-4145-8203-5181ab76c784.jpeg)

#### 4.1.37. **è®¿é—®æ§åˆ¶**

èƒ½ç²¾ç»†è®¾ç½®ç”¨æˆ·å¯¹æ¥å£çš„è®¿é—®æƒé™ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ä¸åˆè§„ä½¿ç”¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711904666-28afc6aa-c5ea-431d-bd15-94c6e879915f.jpeg)

#### 4.1.38. **å‘Šè­¦é…ç½®**

å‘Šè­¦é…ç½®åŠŸèƒ½å¯è‡ªå®šä¹‰ç›‘æ§é˜ˆå€¼ä¸é€šçŸ¥æ–¹å¼ï¼Œå½“å¼‚å¸¸å‘ç”Ÿæ—¶è‡ªåŠ¨è§¦å‘é‚®ä»¶ã€çŸ­ä¿¡ç­‰å‘Šè­¦ï¼Œä¿éšœç³»ç»Ÿç¨³å®š

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711908185-ab06e108-fca6-4b07-8947-edb64f5c9656.jpeg)

#### 4.1.39. **æ‹“æ‰‘ç»“æ„**

å¯ç›´è§‚å±•ç¤ºæ•°æ®æ¥å£é—´çš„è°ƒç”¨å…³ç³»ä¸ä¾èµ–é“¾è·¯ï¼ŒåŠ©åŠ›ç³»ç»Ÿç›‘æ§ä¸é—®é¢˜æ’æŸ¥

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754711911772-d850d6af-0179-49f7-85b3-203c65e9d9c6.jpeg)



## 5. AllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆé€šè¿‡SqlRestçš„éƒ¨ç½²ï¼Œå®ç°äº†ä»æ•°æ®åº“åˆ°APIçš„å¿«é€Ÿè½¬åŒ–ï¼Œå…¶å…³é”®åœ¨äºï¼š

- **ç¯å¢ƒæ ‡å‡†åŒ–**ï¼šé€šè¿‡ç¡¬ä»¶è§„æ ¼ä¸è½¯ä»¶ä¾èµ–çš„ä¸¥æ ¼å®šä¹‰ï¼Œç¡®ä¿éƒ¨ç½²ä¸€è‡´æ€§ã€‚
- **æ„å»ºè‡ªåŠ¨åŒ–**ï¼šæ”¯æŒå¤šå¹³å°ç¼–è¯‘ä¸Dockeré•œåƒç”Ÿæˆï¼Œé€‚åº”ä¸åŒéƒ¨ç½²åœºæ™¯ã€‚
- **é…ç½®ä¸­å¿ƒåŒ–**ï¼šé›†ä¸­ç®¡ç†é…ç½®æ–‡ä»¶ï¼Œç®€åŒ–é›†ç¾¤éƒ¨ç½²ä¸åŠ¨æ€è°ƒæ•´ã€‚
- **æ‰©å±•å¼€æ”¾åŒ–**ï¼šæä¾›æ’ä»¶æœºåˆ¶ä¸å¤šæ•°æ®æºæ”¯æŒï¼Œæ»¡è¶³ä¼ä¸šå®šåˆ¶åŒ–éœ€æ±‚ã€‚





## 6. APIå…±äº«å¹³å°åº”ç”¨åœºæ™¯

### 6.1.  **å¿«é€Ÿé¡¹ç›®å¼€å‘** 

- å‘¨æœŸçŸ­ã€äººå‘˜ç¼ºçš„é¡¹ç›®ä¸­ï¼Œé€šè¿‡SqlRestå¿«é€Ÿå®Œæˆåç«¯æ¥å£å¼€å‘ã€‚

### 6.2.  **æ•°æ®å¯è§†åŒ–**

- ä¸ºBIå·¥å…·æä¾›RESTfulæ¥å£ï¼Œå®ç°æ•°æ®å¤§å±çš„å®æ—¶å±•ç¤ºã€‚

### 6.3.  **å¾®æœåŠ¡æ¶æ„** 

- å°†æ•°æ®åº“æ“ä½œå°è£…ä¸ºå¾®æœåŠ¡èµ„æºï¼Œä¿ƒè¿›æœåŠ¡é—´æ•°æ®å…±äº«ã€‚

### 6.4.  **ç§»åŠ¨åº”ç”¨å¼€å‘** 

- é€šè¿‡HTTPåè®®ä¸ç§»åŠ¨ç«¯äº¤äº’ï¼Œå®ç°æ•°æ®è¿œç¨‹è®¿é—®ã€‚





------

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. BIæŠ¥è¡¨ç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°åœ¨BIæŠ¥è¡¨ç®¡ç†åŠŸèƒ½é€šè¿‡è‡ªå®šä¹‰æŠ¥è¡¨è®¾è®¡åŠŸèƒ½ï¼Œæ·±åº¦æ•´åˆå¤šæºå¼‚æ„æ•°æ®ï¼Œçµæ´»çš„æŠ¥è¡¨è®¾è®¡å·¥å…·ã€å¼ºå¤§çš„SQLè§£æèƒ½åŠ›åŠç›´è§‚çš„å¯è§†åŒ–ç»„ä»¶ï¼Œå°†å¤æ‚æ•°æ®ä»¥ç›´è§‚ã€æ˜“æ‡‚çš„æ–¹å¼å‘ˆç°ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£æ•°æ®å«ä¹‰ã€‚æä¾›å¯è§†åŒ–å¤§å±åŠŸèƒ½ï¼Œå°†å…³é”®æŒ‡æ ‡ä»¥åŠ¨æ€å›¾è¡¨å½¢å¼å±•ç¤ºï¼Œå®æ—¶ç›‘æ§ä¸šåŠ¡çŠ¶æ€ã€‚

### 2.1. BIæŠ¥è¡¨ç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¤šæºæ•°æ®æ•´åˆèƒ½åŠ›
- è‡ªå®šä¹‰æŠ¥è¡¨è®¾è®¡
- å®æ—¶æ•°æ®æ›´æ–°ä¸åŠ¨æ€åˆ·æ–°
- å¼ºå¤§å¯è§†åŒ–èƒ½åŠ›
- è‡ªåŠ¨åŒ–è°ƒåº¦ä¸åˆ†å‘
- æƒé™ç®¡æ§ä¸å®‰å…¨å®¡è®¡



## 3. AllDataæ•°æ®ä¸­å°-BIè¡¨æŠ¥ç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **åŸºç¡€ç¯å¢ƒï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼šLinuxï¼ˆæ¨èCentOS/Ubuntuï¼‰æˆ–macOSï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ã€‚
- **Javaç¯å¢ƒ**ï¼šJDK 1.8+ï¼Œé…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7+ï¼ˆæ¨èï¼‰ï¼Œéœ€æå‰åˆ›å»ºæ•°æ®åº“å¹¶åˆ†é…æƒé™ï¼ˆå¦‚`studio`åº“ï¼‰ã€‚
- **ç¼“å­˜ä¸æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRedis 3.0+ï¼ˆç”¨äºç¼“å­˜åŠ é€Ÿï¼‰ã€RabbitMQ 3.0.x+ï¼ˆæ”¯æŒå¼‚æ­¥ä»»åŠ¡ï¼‰ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0+ï¼Œç”¨äºä¾èµ–ç®¡ç†ï¼›Node.js 12.x+ï¼ˆå‰ç«¯æ„å»ºï¼‰ã€‚



ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–ç½‘ï¼ˆä¸‹è½½ä¾èµ–åº“ï¼‰ã€‚
- é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œä»…å¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚8080ã€3306ã€6379ã€5672ï¼‰ã€‚

### 3.2. è·å–æºç 

ğŸ’¡**ç‰ˆæœ¬é€‰æ‹©**ï¼š

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ **æ¨¡å—å®šä½**ï¼š

- BIæŠ¥è¡¨ç®¡ç†åŠŸèƒ½æ ¸å¿ƒæ¨¡å—ä½äº`modules/data-visual-service-parent`ï¼Œä¾èµ–`data-metadata-service-parent`ï¼ˆå…ƒæ•°æ®ç®¡ç†ï¼‰å’Œ`data-quality-service-parent`ï¼ˆæ•°æ®è´¨é‡ï¼‰ã€‚



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **åç«¯ç¼–è¯‘**ï¼š

- ä½¿ç”¨Mavenç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼ˆé¦–æ¬¡æ„å»ºéœ€ä¸‹è½½ä¾èµ–ï¼Œè€—æ—¶è¾ƒé•¿ï¼‰ï¼š

```javascript
mvn clean install -DskipTests
```

ğŸ’¡ **å…³é”®è¾“å‡º**ï¼š

- `data-visual-service-parent/target/`ç›®å½•ä¸‹ç”ŸæˆJARåŒ…ï¼ˆå¦‚`data-visual-service.jar`ï¼‰ã€‚
- è‹¥é¡¹ç›®é›†æˆDatartï¼ˆå•†ä¸šç‰ˆBIç»„ä»¶ï¼‰ï¼Œéœ€å•ç‹¬æ„å»ºå…¶æ¨¡å—ï¼ˆå¦‚`datart-server/target/datart-server.jar`ï¼‰ã€‚



ğŸ’¡ **å‰ç«¯æ„å»º**ï¼š

- è¿›å…¥å‰ç«¯ç›®å½•ï¼ˆå¦‚`micro-ui`ï¼‰ï¼Œå®‰è£…ä¾èµ–å¹¶æ„å»ºï¼š

```javascript
npm install
npm run build:prod
```

- **è¾“å‡º**ï¼šç”Ÿæˆé™æ€èµ„æºæ–‡ä»¶ï¼ˆ`dist/`ç›®å½•ï¼‰ï¼Œéœ€éƒ¨ç½²åˆ°Nginxç­‰WebæœåŠ¡å™¨ã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- æ‰§è¡ŒSQLè„šæœ¬åˆå§‹åŒ–è¡¨ç»“æ„ï¼ˆä»¥BIæ¨¡å—ä¸ºä¾‹ï¼‰ï¼š

```javascript
mysql -u root -p studio < install/sql/alldata-visual.sql
```

- **ä¾èµ–æ¨¡å—åˆå§‹åŒ–**ï¼šéœ€å…ˆæ‰§è¡Œå…ƒæ•°æ®ç®¡ç†ã€æ•°æ®è´¨é‡ç­‰æ¨¡å—çš„SQLè„šæœ¬ã€‚



#### 3.4.2. **é…ç½®ä¿®æ”¹**

- **åç«¯é…ç½®**ï¼šä¿®æ”¹`application-common-dev.yml`ï¼ˆæˆ–å¯¹åº”ç¯å¢ƒæ–‡ä»¶ï¼‰ï¼š

```javascript
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/studio?useUnicode=true&characterEncoding=utf8
    username: root
    password: your_password
  redis:
    host: localhost
    port: 6379
  rabbitmq:
    host: localhost
    port: 5672
```

- **BIç»„ä»¶é…ç½®**ï¼šè‹¥é›†æˆDatartï¼Œéœ€ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ï¼ˆå¦‚`datart-server/config/application.yml`ï¼‰ï¼ŒæŒ‡å®šæ•°æ®æºå’Œå­˜å‚¨è·¯å¾„ã€‚



#### 3.4.3. **æœåŠ¡å¯åŠ¨é¡ºåº**

ğŸ’¡ **åŸºç¡€æœåŠ¡**ï¼š

1. æ³¨å†Œä¸­å¿ƒï¼ˆ`DataxEurekaApplication`ï¼‰
2. é…ç½®ä¸­å¿ƒï¼ˆ`DataxConfigApplication`ï¼‰
3. APIç½‘å…³ï¼ˆ`DataxGatewayApplication`ï¼‰



ğŸ’¡ **æ ¸å¿ƒæœåŠ¡**ï¼š

4. å…ƒæ•°æ®ç®¡ç†æœåŠ¡ï¼ˆ`java -jar data-metadata-service.jar`ï¼‰
5. æ•°æ®è´¨é‡ç®¡ç†æœåŠ¡ï¼ˆ`java -jar data-quality-service.jar`ï¼‰
6. BIæŠ¥è¡¨æœåŠ¡ï¼ˆ`java -jar data-visual-service.jar`ï¼‰



ğŸ’¡ **å‰ç«¯æœåŠ¡**ï¼šé€šè¿‡NginxåŠ è½½é™æ€èµ„æºï¼Œé…ç½®åå‘ä»£ç†ï¼š

```javascript
location /api/ {
  proxy_pass http://localhost:8080/;
}
```

ğŸ’¡ **éªŒè¯éƒ¨ç½²**ï¼š

- è®¿é—®Webç•Œé¢ï¼ˆå¦‚`http://localhost:8080`ï¼‰ï¼Œç™»å½•åæ£€æŸ¥â€œBIæŠ¥è¡¨ç®¡ç†â€æ¨¡å—æ˜¯å¦å¯ç”¨ã€‚
- åˆ›å»ºæµ‹è¯•æŠ¥è¡¨ï¼ŒéªŒè¯æ•°æ®æºè¿æ¥ã€SQLè§£æåŠå¯è§†åŒ–æ¸²æŸ“åŠŸèƒ½ã€‚



### 3.5. å¯é€‰é…ç½®

#### 3.5.1. **é«˜æ€§èƒ½æ¸²æŸ“**

- å¯ç”¨WebGLåŠ é€Ÿï¼šåœ¨BIå‰ç«¯é…ç½®ä¸­å¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œæå‡å¤æ‚å›¾è¡¨æ¸²æŸ“æ€§èƒ½ã€‚
- å¢é‡æ›´æ–°ï¼šé…ç½®æ•°æ®åŒæ­¥ä»»åŠ¡æ—¶ï¼Œä¼˜å…ˆé‡‡ç”¨å¢é‡æ¨¡å¼ï¼ˆå¦‚åŸºäºæ—¶é—´æˆ³çš„å¢é‡æŠ½å–ï¼‰ã€‚

#### 3.5.2. **å®‰å…¨å¢å¼º**

- **æ•°æ®è„±æ•**ï¼šåœ¨æŠ¥è¡¨å­—æ®µé…ç½®ä¸­å¯ç”¨è„±æ•è§„åˆ™ï¼ˆå¦‚æ‰‹æœºå·æ˜¾ç¤ºä¸º`138****1234`ï¼‰ã€‚
- **å®¡è®¡æ—¥å¿—**ï¼šè®°å½•æŠ¥è¡¨è®¿é—®ã€å¯¼å‡ºç­‰æ“ä½œï¼Œæ»¡è¶³åˆè§„æ€§è¦æ±‚ã€‚

#### 3.5.3. **é›†æˆæ‰©å±•**

- **AIåˆ†æ**ï¼šé›†æˆé¢„æµ‹åˆ†ææ’ä»¶ï¼ˆå¦‚Prophetï¼‰ï¼Œä¸ºæŠ¥è¡¨æ·»åŠ è¶‹åŠ¿é¢„æµ‹åŠŸèƒ½ã€‚
- **ç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯¹æ¥**ï¼šé€šè¿‡APIå°†æŠ¥è¡¨åµŒå…¥åˆ°ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ç­‰åä½œå¹³å°ã€‚





## 4. è®¿é—®BIæŠ¥è¡¨ç®¡ç†é¡µé¢

#### 4.1.1. åœ¨å…ƒæ•°æ®ç®¡ç†-é…ç½®æ•°æ®æº

- ç”¨æˆ·å¯ä»¥é…ç½®å’Œç®¡ç†æ•°æ®æºï¼ŒåŒ…æ‹¬æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€æ•°æ®è¡¨ç»“æ„ç­‰ã€‚
- æ”¯æŒå¤šç§æ•°æ®æºç±»å‹ï¼Œç¡®ä¿æ•°æ®æ•´åˆçš„çµæ´»æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197308912-14b31138-309d-4a39-8d83-419606564073.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.2. åœ¨BIæŠ¥è¡¨ç®¡ç†-è¿›å…¥æ•°æ®åˆ†æ

- è¿›å…¥æ•°æ®åˆ†æç•Œé¢ï¼Œå¼€å§‹åˆ›å»ºæˆ–ç¼–è¾‘æ•°æ®åˆ†æè¡¨ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197330909-cfae9243-10dc-42ce-8ab4-36a07a32dc98.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.3. ç¼–è¾‘æ•°æ®åˆ†æè¡¨ 

- è‡ªå®šä¹‰æ•°æ®åˆ†æè¡¨çš„ç»“æ„ï¼ŒåŒ…æ‹¬é€‰æ‹©å­—æ®µã€è®¾ç½®è¿‡æ»¤æ¡ä»¶ã€å®šä¹‰è®¡ç®—é€»è¾‘ç­‰ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197351901-dac5fe40-a5ed-4a70-ba5c-f2dbc9b12f4a.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.4. ç‚¹å‡»SQLè§£æï¼Œè®¾ç½®ç»´åº¦åˆ—å’ŒæŒ‡æ ‡åˆ— 

- å¸®åŠ©ç”¨æˆ·æ›´æ¸…æ™°åœ°ç†è§£æ•°æ®ï¼Œé€šè¿‡ç»´åº¦å’ŒæŒ‡æ ‡åˆ†æï¼Œå‘ç°æ•°æ®ä¸­çš„è§„å¾‹å’Œè¶‹åŠ¿ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197367072-bd62ad91-6785-4610-a4e6-ab23c588639a.png?x-oss-process=image%2Fformat%2Cwebp)

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197402853-a86a1f45-cde0-40e0-a49d-69433640e64b.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.5. ç‚¹å‡»æ•°æ®é¢„è§ˆï¼ŒæŸ¥çœ‹æ•°æ® 

- é¢„è§ˆæ•°æ®åˆ†æè¡¨çš„æ•°æ®ï¼Œç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197416439-0960f226-a8e7-457b-a249-a68e926d2e0b.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.6. å¯è§†åŒ–å›¾è¡¨

- å°†å¤æ‚çš„æ•°æ®ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å‘ˆç°å‡ºæ¥ï¼Œä½¿æ•°æ®æ›´åŠ æ˜“äºç†è§£å’Œè§£è¯»ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197484771-3b61187d-1343-473c-8b85-e67abd0dcec3.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.7. ç¼–è¾‘å¯è§†åŒ–å›¾è¡¨

- å¯¹å¯è§†åŒ–å›¾è¡¨çš„æ ·å¼è¿›è¡Œç¼–è¾‘ï¼Œä»¥æ»¡è¶³ç‰¹å®šçš„å±•ç¤ºéœ€æ±‚ã€‚

![img](https://github.com/user-attachments/assets/aebf2929-ffe3-4a76-b499-aa9d08cf0389)

#### 4.1.8. å¯è§†åŒ–å¤§å±ç®¡ç†

- åœ¨ç®¡ç†å¯è§†åŒ–å¤§å±ï¼ŒåŒ…æ‹¬åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤å¤§å±ç­‰æ“ä½œã€‚
- é›†ä¸­ç®¡ç†å¤šä¸ªå¯è§†åŒ–å›¾è¡¨ï¼Œæ„å»ºæ•°æ®å¤§å±å±•ç¤ºã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197515450-b3dd234d-4492-4cd7-b1ae-e0f83b02faf0.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.9. è½¦è”ç½‘å¹³å°æ•°æ®æ¦‚è§ˆ 

- å¸®åŠ©ç”¨æˆ·äº†è§£è½¦è”ç½‘å¹³å°çš„æ•´ä½“è¿è¡Œæƒ…å†µå’Œå…³é”®ä¸šåŠ¡æŒ‡æ ‡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1752637400568-15a7c6cd-5773-4d68-9f3a-a4031a7f5aa1.jpeg)

#### 4.1.10. å¯è§†åŒ–ä»ªè¡¨ç›˜ç®¡ç† 

- ç®¡ç†å¯è§†åŒ–ä»ªè¡¨ç›˜ï¼ŒåŒ…æ‹¬åˆ›å»ºã€ç¼–è¾‘ã€åˆ†äº«ä»ªè¡¨ç›˜ç­‰æ“ä½œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197554878-31965aa9-fcb5-4e1c-b495-a62fe12ef2fa.png?x-oss-process=image%2Fformat%2Cwebp)

#### 4.1.11. å¯è§†åŒ–ä»ªè¡¨ç›˜ç¼–è¾‘ 

- å¯¹å¯è§†åŒ–ä»ªè¡¨ç›˜çš„å¸ƒå±€ã€å›¾è¡¨ã€ç»„ä»¶ç­‰è¿›è¡Œç¼–è¾‘å’Œè°ƒæ•´ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1742197581928-95895c72-275b-44a2-9aed-f23c57a54f35.png?x-oss-process=image%2Fformat%2Cwebp)



## 5. ä¼˜åŠ¿ä¸ç‰¹ç‚¹

### 5.1. **æ•°æ®çµæ´»æ€§**

- æ”¯æŒå¤šç§æ•°æ®æºå’Œå›¾è¡¨ç±»å‹ï¼Œæ»¡è¶³ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼›
- æä¾›è‡ªå®šä¹‰æŠ¥è¡¨å’Œæ ·å¼åŠŸèƒ½ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿæ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚

### 5.2. **å®æ—¶æ•°æ®æ›´æ–°**

- ä¸æ•°æ®æºå®æ—¶è¿æ¥ï¼Œç¡®ä¿æŠ¥è¡¨ä¸­çš„æ•°æ®å§‹ç»ˆä¿æŒæœ€æ–°çŠ¶æ€ï¼›
- æ”¯æŒåŠ¨æ€åˆ·æ–°åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥éšæ—¶æŸ¥çœ‹æœ€æ–°çš„ä¸šåŠ¡æ•°æ®ã€‚

### 5.3. **æ•°æ®å®‰å…¨å®¡è®¡**

- æä¾›ç»†ç²’åº¦çš„æƒé™æ§åˆ¶åŠŸèƒ½ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ï¼›
- æ”¯æŒæ•°æ®åŠ å¯†å’Œè®¿é—®æ§åˆ¶ç­‰å®‰å…¨æªæ–½ï¼Œé˜²æ­¢æ•°æ®æ³„éœ²å’Œæ»¥ç”¨ã€‚



## 6. æ³¨æ„äº‹é¡¹

### 6.1. **æ•°æ®å‡†ç¡®æ€§** 

- åœ¨åˆ›å»ºå’Œç¼–è¾‘æŠ¥è¡¨æ—¶ï¼Œç¡®ä¿æ•°æ®æºçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ï¼›
- å®šæœŸå¯¹æŠ¥è¡¨è¿›è¡Œæ•°æ®æ ¡éªŒå’Œæ›´æ–°ï¼Œç¡®ä¿æ•°æ®çš„æ—¶æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚

### 6.2. **æ•°æ®æ›´æ–°ä¸åŒæ­¥** 

- æ ¹æ®ä¸šåŠ¡éœ€æ±‚è®¾ç½®åˆç†çš„æ•°æ®åŒæ­¥é¢‘ç‡ï¼Œé¿å…è¿‡åº¦åŒæ­¥å¯¼è‡´ç³»ç»Ÿèµ„æºå ç”¨è¿‡é«˜ï¼›
- ä¼˜å…ˆé‡‡ç”¨å¢é‡æ›´æ–°æ–¹å¼ï¼Œä»…åŒæ­¥å˜åŒ–çš„æ•°æ®ï¼Œå‡å°‘å…¨é‡åŒæ­¥å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ã€‚

### 6.3. **æƒé™ç®¡ç†** 

- ä¸¥æ ¼éµå®ˆæƒé™ç®¡ç†åŸåˆ™ï¼Œç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è®¿é—®å’Œç¼–è¾‘æŠ¥è¡¨ï¼›
- å®šæœŸå¯¹æŠ¥è¡¨çš„è®¿é—®æƒé™è¿›è¡Œå®¡æŸ¥å’Œè°ƒæ•´ï¼Œä»¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„å˜åŒ–ã€‚





------

# **BIå¯è§†åŒ–å¹³å°(datart)**

## 1. åœ¨çº¿æ¼”ç¤ºç¯å¢ƒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. BIå¯è§†åŒ–å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1MuKBzpEdo/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. BIå¯è§†åŒ–å¹³å°åŸºäºå¼€æºé¡¹ç›®Datartå»ºè®¾ã€‚

BIå¯è§†åŒ–å¹³å°ï¼ˆDatartï¼‰æ˜¯ä¸€æ¬¾é›†æ•°æ®æ•´åˆã€åˆ†æä¸å¯è§†åŒ–å‘ˆç°äºä¸€ä½“çš„æ™ºèƒ½å·¥å…·ï¼Œä¾æ‰˜AllDataæ•°æ®ä¸­å°å¼ºå¤§çš„æ•°æ®èƒ½åŠ›ï¼Œä¸ºä¼ä¸šæä¾›ä¸€ç«™å¼æ•°æ®æ´å¯Ÿè§£å†³æ–¹æ¡ˆã€‚

BIå¯è§†åŒ–å¹³å°ï¼ˆDatartï¼‰æ”¯æŒå¤šæºæ•°æ®æ¥å…¥ä¸æ¸…æ´—ï¼Œé€šè¿‡æ‹–æ‹½å¼æ“ä½œå¿«é€Ÿæ„å»ºå¯è§†åŒ–æŠ¥è¡¨ï¼Œæ¶µç›–æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€åœ°å›¾ç­‰å¤šç§ç»„ä»¶ï¼Œå¹¶æ”¯æŒåŠ¨æ€äº¤äº’ä¸æ•°æ®é’»å–ï¼Œå¸®åŠ©ç”¨æˆ·æ·±å…¥åˆ†ææ•°æ®ç»†èŠ‚ã€‚



ğŸ”¹å¼€æºé¡¹ç›®ï¼šhttps://github.com/running-elephant/datart

ğŸ”¹æ–‡æ¡£åœ°å€ï¼šhttps://running-elephant.github.io



### 2.2. BIå¯è§†åŒ–å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¤šæºæ•°æ®æ¥å…¥ä¸æ¸…æ´—
- ä¸°å¯Œçš„å¯è§†åŒ–ç»„ä»¶
- åŠ¨æ€äº¤äº’ä¸æ•°æ®é’»å–
- è‡ªå®šä¹‰æŠ¥è¡¨è®¾è®¡
- å®æ—¶æ•°æ®ç›‘æ§
- åä½œå…±äº«



## 3. AllDataæ•°æ®ä¸­å°-BIå¯è§†åŒ–å¹³å°ï¼ˆDatartï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486516246-45124845-924e-46f3-bc7f-7d760a04714f.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

- **Java**ï¼šJDK 1.8+ï¼ˆDatart 1.x ç‰ˆæœ¬ï¼‰æˆ– JDK 11+ï¼ˆDatart 2.x ç‰ˆæœ¬ï¼‰
- **Maven**ï¼š3.6.3+
- **Node.js**ï¼š14.x+ï¼ˆå‰ç«¯æ„å»ºï¼‰
- **æ•°æ®åº“**ï¼šMySQL 5.7+ æˆ– H2ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. æ–‡ä»¶ç»“æ„

ğŸ’¡ Tipsï¼šé¦–å…ˆè§£å‹å®‰è£…åŒ…

```javascript
unzip datart-server-*-install.zip
```

ğŸ’¡ Tipsï¼šè§£å‹ä¹‹åçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹

```javascript
â”œâ”€â”€ bin               # æ‰§è¡Œè„šæœ¬ç›®å½•
â”œâ”€â”€ config            # é…ç½®æ–‡ä»¶ç›®å½•
â”œâ”€â”€ (files)           # åº”ç”¨ç”Ÿæˆæ–‡ä»¶ç›®å½•ï¼›åº”ç”¨è¿è¡Œåç”Ÿæˆ
â”œâ”€â”€ lib               # é¡¹ç›®ä¾èµ–ç›®å½•
â”œâ”€â”€ (logs)            # æ—¥å¿—ç›®å½•ï¼›åº”ç”¨è¿è¡Œåç”Ÿæˆ
â”œâ”€â”€ static            # é™æ€èµ„æºç›®å½•
â”œâ”€â”€ nohup.out         # ç¼ºçœæ—¥å¿—è¾“å‡ºæ–‡ä»¶
â”œâ”€â”€ Deployment.md     # éƒ¨ç½²è¯´æ˜
â”œâ”€â”€ Dockerfile
â””â”€â”€ LICENSE
```

### 3.4. BIå¯è§†åŒ–å¹³å°ï¼ˆDatartï¼‰-åç«¯ç¼–è¯‘ä¸éƒ¨ç½²

ğŸ’¡**ç¼–è¯‘åç«¯**ï¼š

```javascript
mvn clean install -DskipTests
```

ğŸ’¡**é…ç½®æ•°æ®åº“**ï¼šä¿®æ”¹ `src/main/resources/application.yml`ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š

```javascript
spring:
datasource:
url: jdbc:mysql://localhost:3306/datart?useSSL=false&serverTimezone=UTC
username: root
password: your_password
```

ğŸ’¡**å¯åŠ¨åç«¯**ï¼š

```javascript
cd datart-server
./bin/datart-server.sh start
```

### 3.5. BIå¯è§†åŒ–å¹³å°ï¼ˆDatartï¼‰-å‰ç«¯ç¼–è¯‘ä¸éƒ¨ç½²

ğŸ’¡**è¿›å…¥å‰ç«¯ç›®å½•**ï¼š

```javascript
cd ui_datart
```

ğŸ’¡**å®‰è£…ä¾èµ–**ï¼š

```javascript
npm install
```

ğŸ’¡**ç¼–è¯‘å‰ç«¯**ï¼š

```javascript
npm run build
```

ğŸ’¡**å¼€å‘ç¯å¢ƒå¯åŠ¨**ï¼š

```javascript
npm run start
```

ğŸ’¡**éƒ¨ç½²é™æ€èµ„æºï¼š**

- å°† ui_datart ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ¨ç½²åˆ° Nginx æˆ–å…¶ä»– Web æœåŠ¡å™¨ã€‚

### 3.6. è®¿é—®Datart

- é€šè¿‡å•†ä¸šç‰ˆç¯å¢ƒè®¿é—®datartå‰ç«¯ï¼šhttp://43.138.156.44:5173/ui_moat/#/ui_datart/main

### 3.7. BIå¯è§†åŒ–å¹³å°-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750055641871-1b4b6199-2266-4a80-9b5c-f1ca2f8c76be.png)

### 3.8. IDEAæºç ç¼–è¯‘éƒ¨ç½²

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750058778361-8e0fbbfc-19fc-439f-b3c5-72099a598cf6.png)

### 3.9. è·å¾—å®‰è£…åŒ…ï¼Œä¸Šä¼ æœåŠ¡å™¨éƒ¨ç½²å®‰è£…

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750058802234-5f262d2d-86aa-4461-ad85-e4a13a28aedc.png)

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750058809548-a8939915-f505-49ae-86f8-c17a567fbc9f.png)



## 4. è®¿é—®BIå¯è§†åŒ–å¹³å°é¡µé¢

### 4.1. é…ç½®æ•°æ®æºJDBC

ğŸ’¡ Tipsï¼šåœ¨æ•°æ®æºç±»å‹ä¸­é€‰æ‹© **JDBC**ï¼Œæ”¯æŒ MySQLã€Oracleã€SQL Server ç­‰ä¸»æµæ•°æ®åº“ã€‚

1. **è¿›å…¥æ•°æ®æºç®¡ç†ç•Œé¢**
   åœ¨Datartçš„ç®¡ç†ç•Œé¢ä¸­ï¼Œæ‰¾åˆ°æ•°æ®æºé…ç½®é€‰é¡¹ï¼Œè¿›å…¥æ•°æ®æºç®¡ç†é¡µã€‚



1. **é…ç½®è¿æ¥å‚æ•°**
   å¡«å†™æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š

- **æ•°æ®åº“URL**ï¼šæ ¼å¼ä¸º`jdbc:<æ•°æ®æºåç§°>://<æ•°æ®æºåŸŸåæˆ–IP>:<ç«¯å£>/<æ•°æ®æºå®ä¾‹>?<è¿æ¥å‚æ•°>`ã€‚ä¾‹å¦‚ï¼ŒMySQLçš„URLç¤ºä¾‹ä¸º`jdbc:mysql://localhost:3306/datart?useSSL=false&serverTimezone=UTC`ã€‚
- **ç”¨æˆ·å**å’Œ**å¯†ç **ï¼šç”¨äºæ•°æ®åº“è®¤è¯ã€‚
- **é©±åŠ¨ç±»å**ï¼ˆå¦‚ MySQL é©±åŠ¨ä¸º `com.mysql.cj.jdbc.Driver`ï¼‰



1. **ä¸Šä¼ é©±åŠ¨åŒ…**
   å¦‚MySQLé©±åŠ¨ä¸º`com.mysql.cj.jdbc.Driver`ã€‚è‹¥æµ‹è¯•è¿æ¥æç¤ºç¼ºå°‘é©±åŠ¨ç±»ï¼Œéœ€æ‰‹åŠ¨å¡«å†™é©±åŠ¨ç±»åç§°ã€‚



1. **é«˜çº§é…ç½®ï¼ˆå¯é€‰ï¼‰**

- **å¼€å¯æœåŠ¡ç«¯èšåˆ**ï¼šé€‚åˆè®¡ç®—èƒ½åŠ›è¾ƒå¼±çš„æ•°æ®æºï¼Œå¼€å¯åå°†æ•°æ®æ‹‰å–åˆ°æœåŠ¡ç«¯è¿›è¡Œèšåˆè®¡ç®—ã€‚
- **å»¶è¿Ÿåˆ·æ–°**ï¼šé¿å…é‡å¤æŸ¥è¯¢ï¼Œæå‡æ€§èƒ½ã€‚
- **ç¼“å­˜é…ç½®**ï¼šä¾èµ–Redisï¼Œå¼€å¯åç¼“å­˜æŸ¥è¯¢ç»“æœã€‚



1. **ä¸Šä¼ é©±åŠ¨åŒ…ï¼ˆå¦‚éœ€ï¼‰**
   Datartå¯èƒ½æœªå†…ç½®æ‰€æœ‰æ•°æ®åº“çš„é©±åŠ¨ç±»ï¼Œéœ€æ‰‹åŠ¨å°†å¯¹åº”æ•°æ®åº“çš„JDBCé©±åŠ¨åŒ…ï¼ˆå¦‚`mysql-connector-java.jar`ï¼‰æ”¾å…¥Datartçš„`lib`ç›®å½•ï¼Œå¹¶é‡å¯æœåŠ¡ä»¥åŠ è½½é©±åŠ¨ã€‚



1. **æµ‹è¯•è¿æ¥**
   ç‚¹å‡»æµ‹è¯•æŒ‰é’®éªŒè¯è¿æ¥æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸåä¿å­˜é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750061082492-6a377e79-89b5-46d4-8782-dc6ecaf07adf.png)

ğŸ’¡ Tipsï¼šæ³¨æ„äº‹é¡¹ï¼š

1**. é©±åŠ¨åŒ…å…¼å®¹æ€§**

- ç¡®ä¿é©±åŠ¨åŒ…ç‰ˆæœ¬ä¸æ•°æ®åº“ç‰ˆæœ¬å…¼å®¹ã€‚ä¾‹å¦‚ï¼ŒMySQL 8.0+ éœ€ä½¿ç”¨ mysql-connector-java 8.0.xã€‚



**2. è¿æ¥å‚æ•°æ ¼å¼**ï¼ˆä¸åŒæ•°æ®åº“çš„URLæ ¼å¼å¯èƒ½ä¸åŒï¼Œéœ€å‚ç…§æ•°æ®åº“æ–‡æ¡£ã€‚ï¼‰

- MySQL ç¤ºä¾‹ï¼šjdbc:mysql://hostname:port/dbname?useUnicode=true&characterEncoding=utf8
- PostgreSQL ç¤ºä¾‹ï¼šjdbc:postgresql://hostname:port/dbname



**3. æƒé™é…ç½®**

- ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰è¶³å¤Ÿçš„æƒé™ï¼ˆå¦‚ SELECTã€INSERTã€UPDATE ç­‰ï¼‰ã€‚



**4. ç½‘ç»œè¿é€šæ€§**

- æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦è¿è¡Œï¼Œé˜²ç«å¢™æ˜¯å¦æ”¾è¡Œç«¯å£ã€‚



**5. æ—¥å¿—æ’æŸ¥**

- å¦‚é‡è¿æ¥å¤±è´¥ï¼Œæ£€æŸ¥ AllData æˆ– Datart çš„æ—¥å¿—æ–‡ä»¶ï¼Œå®šä½é”™è¯¯åŸå› ã€‚

### 4.2. é…ç½®æ•°æ®æºHTTP

ğŸ’¡ Tipsï¼šDatartæ”¯æŒé…ç½®APIæ•°æ®æºï¼Œå¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°HTTPæ•°æ®æºçš„é—´æ¥è¿æ¥ï¼š

1. **é€‰æ‹©APIæ•°æ®æºç±»å‹**ï¼šåœ¨Datartçš„æ•°æ®æºé…ç½®ç•Œé¢ä¸­ï¼Œé€‰æ‹©APIä½œä¸ºæ•°æ®æºç±»å‹ã€‚



1. **é…ç½®APIè¯·æ±‚å‚æ•°**ï¼šå¡«å†™HTTPè¯·æ±‚çš„URLã€è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚GETã€POSTï¼‰ã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ç­‰ä¿¡æ¯ã€‚è¿™äº›å‚æ•°å°†ç”¨äºå‘HTTPæœåŠ¡å‘é€è¯·æ±‚å¹¶è·å–æ•°æ®ã€‚



1. **è§£æå“åº”æ•°æ®**ï¼šé…ç½®æ•°æ®è§£æè§„åˆ™ï¼Œå°†HTTPå“åº”ä¸­çš„JSONæˆ–XMLæ•°æ®è§£æä¸ºDatartå¯è¯†åˆ«çš„æ•°æ®æ ¼å¼ã€‚



1. **æµ‹è¯•è¿æ¥**ï¼šç‚¹å‡»æµ‹è¯•æŒ‰é’®éªŒè¯APIè¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œå¹¶æ£€æŸ¥è§£æåçš„æ•°æ®æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750061113738-71dc74f7-bb04-4e72-b7a4-ae8faa17f984.png)

### 4.3. é…ç½®æ•°æ®æºFile

ğŸ’¡ Tipsï¼šDatartæ”¯æŒé…ç½®APIæ•°æ®æºï¼Œå¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°Fileæ•°æ®æºçš„é—´æ¥è¿æ¥ï¼š

1. **è¿›å…¥æ•°æ®æºç®¡ç†ç•Œé¢**
   ç™»å½•Datartç®¡ç†åå°ï¼Œåœ¨å·¦ä¾§å¯¼èˆªæ ä¸­æ‰¾åˆ°â€œæ•°æ®æºç®¡ç†â€æ¨¡å—ï¼Œç‚¹å‡»è¿›å…¥ã€‚



1. **åˆ›å»ºæ–°æ•°æ®æº**
   åœ¨æ•°æ®æºç®¡ç†é¡µé¢ï¼Œç‚¹å‡»â€œæ–°å»ºæ•°æ®æºâ€æŒ‰é’®ï¼Œè¿›å…¥æ•°æ®æºé…ç½®ç•Œé¢ã€‚



1. **é€‰æ‹©æ•°æ®æºç±»å‹**
   åœ¨æ•°æ®æºç±»å‹ä¸‹æ‹‰èœå•ä¸­ï¼Œé€‰æ‹©â€œFILEâ€ä½œä¸ºæ•°æ®æºç±»å‹ã€‚



1. **é…ç½®Fileæ•°æ®æºå‚æ•°**

- **ä¸Šä¼ æ–‡ä»¶**ï¼šç‚¹å‡»â€œä¸Šä¼ æ–‡ä»¶â€æŒ‰é’®ï¼Œé€‰æ‹©æœ¬åœ°éœ€è¦åˆ†æçš„æ–‡ä»¶ï¼ˆæ”¯æŒCSVã€Excelç­‰å¸¸è§æ ¼å¼ï¼‰ã€‚
- **æ–‡ä»¶æ ¼å¼è®¾ç½®**ï¼šæ ¹æ®æ–‡ä»¶å†…å®¹ï¼Œè®¾ç½®å­—æ®µåˆ†éš”ç¬¦ï¼ˆå¦‚é€—å·ã€åˆ¶è¡¨ç¬¦ï¼‰ã€ç¼–ç æ ¼å¼ï¼ˆå¦‚UTF-8ï¼‰ã€æ˜¯å¦åŒ…å«è¡¨å¤´ç­‰å‚æ•°ã€‚
- **é¢„è§ˆæ•°æ®**ï¼šä¸Šä¼ æ–‡ä»¶åï¼Œå¯é€šè¿‡é¢„è§ˆåŠŸèƒ½æ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®è§£æã€‚



1. **ä¿å­˜æ•°æ®æº**
   ç¡®è®¤é…ç½®æ— è¯¯åï¼Œç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®ï¼Œå®ŒæˆFileæ•°æ®æºçš„åˆ›å»ºã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750061969881-470c27a8-2e9e-4357-8f71-0caba9653e13.png)

### 4.4. æ•°æ®è§†å›¾

æ•°æ®è§†å›¾åŠŸèƒ½é€šè¿‡**å»ºæ¨¡ã€å¤ç”¨ã€æƒé™æ§åˆ¶**ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œå°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºä¸šåŠ¡å¯ç”¨çš„åˆ†ææ¨¡å‹ï¼Œæ˜¾è‘—æå‡BIå¼€å‘æ•ˆç‡å’ŒæŠ¥è¡¨çµæ´»æ€§ã€‚åœ¨AllDataæ•°æ®ä¸­å°çš„é›†æˆç¯å¢ƒä¸‹ï¼Œæ•°æ®è§†å›¾å¯è¿›ä¸€æ­¥å‘æŒ¥å…¶**ç»Ÿä¸€ç®¡ç†ã€æ•æ·å¼€å‘ã€ä¼ä¸šçº§æ‰©å±•**çš„ä¼˜åŠ¿ï¼Œæˆä¸ºä¼ä¸šæ•°æ®é©±åŠ¨å†³ç­–çš„å…³é”®å·¥å…·ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750061985820-084248ae-2e97-4489-8e5c-8dbf46e9e552.png)

ğŸ’¡ Tipsï¼šå…¸å‹å®ç”¨åœºæ™¯

1. **é”€å”®åˆ†æä»ªè¡¨ç›˜**

- **æ•°æ®è§†å›¾é…ç½®**ï¼šå…³è”è®¢å•è¡¨ã€äº§å“è¡¨ã€å®¢æˆ·è¡¨ï¼Œè®¡ç®—é”€å”®é¢ã€æ¯›åˆ©ç‡ã€å®¢æˆ·ç•™å­˜ç‡ã€‚
- **å¯è§†åŒ–å±•ç¤º**ï¼šé€šè¿‡æŠ˜çº¿å›¾å±•ç¤ºæœˆåº¦é”€å”®è¶‹åŠ¿ï¼Œé¥¼å›¾å±•ç¤ºäº§å“å æ¯”ã€‚



1. **ç”¨æˆ·è¡Œä¸ºåˆ†æ**

- **æ•°æ®è§†å›¾é…ç½®**ï¼šä»åŸ‹ç‚¹æ—¥å¿—ä¸­æå–ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ï¼ˆå¦‚ç‚¹å‡»ã€è´­ä¹°ï¼‰ï¼ŒæŒ‰ç”¨æˆ·IDèšåˆåˆ†æè½¬åŒ–è·¯å¾„ã€‚
- **å¯è§†åŒ–å±•ç¤º**ï¼šæ¼æ–—å›¾å±•ç¤ºç”¨æˆ·ä»æµè§ˆåˆ°æ”¯ä»˜çš„è½¬åŒ–ç‡ã€‚



1. **è´¢åŠ¡æŒ‡æ ‡ç›‘æ§**

- **æ•°æ®è§†å›¾é…ç½®**ï¼šä»ERPç³»ç»Ÿä¸­æå–æ”¶å…¥ã€æˆæœ¬æ•°æ®ï¼Œè®¡ç®—åˆ©æ¶¦ç‡ã€ç°é‡‘æµã€‚
- **å¯è§†åŒ–å±•ç¤º**ï¼šKPIå¡ç‰‡å®æ—¶æ˜¾ç¤ºå…³é”®æŒ‡æ ‡ï¼Œå¼‚å¸¸æ•°æ®é«˜äº®æé†’ã€‚



### 4.5. æ•°æ®è§†å›¾-æ•°æ®æ¨¡å‹

é€šè¿‡é¢„å®šä¹‰çš„æ•°æ®æ¨¡å‹ï¼Œç”¨æˆ·å¯å¿«é€Ÿè·å–æ ‡å‡†åŒ–æ•°æ®æœåŠ¡ï¼Œç¼©çŸ­æ•°æ®éœ€æ±‚äº¤ä»˜å‘¨æœŸï¼Œæå‡ä¸šåŠ¡å“åº”é€Ÿåº¦ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750061997339-b8158462-988a-42ae-931b-744a76907ec5.png)

ğŸ’¡ Tipsï¼šå…¸å‹å®ç”¨åœºæ™¯

1. **å®æ—¶ç›‘æ§ä¸å†³ç­–**

- é€šè¿‡å®æ—¶æ•°æ®æ¨¡å‹ï¼Œæ„å»ºå®æ—¶KPIç›‘æ§ä»ªè¡¨ç›˜ï¼Œå¸®åŠ©ä¼ä¸šåŠæ—¶æŒæ¡ä¸šåŠ¡åŠ¨æ€ï¼Œåšå‡ºå¿«é€Ÿå†³ç­–ã€‚



1. **æ•æ·BIéœ€æ±‚å“åº”**

- å¿«é€Ÿå“åº”ä¸šåŠ¡éƒ¨é—¨çš„ä¸´æ—¶æ•°æ®éœ€æ±‚ï¼Œé€šè¿‡æ•°æ®æ¨¡å‹å¿«é€Ÿç”Ÿæˆå®šåˆ¶åŒ–æŠ¥è¡¨ï¼Œæ”¯æŒä¸šåŠ¡æ¢ç´¢å’Œåˆ†æã€‚



1. **æ•°æ®èµ„äº§ä»·å€¼åŒ–**

- å°†åˆ†æ•£çš„æ•°æ®èµ„æºè½¬åŒ–ä¸ºæ ‡å‡†åŒ–çš„æ•°æ®æ¨¡å‹ï¼Œå½¢æˆä¼ä¸šçº§æ•°æ®èµ„äº§ç›®å½•ï¼Œä¸ºä¸šåŠ¡å†³ç­–æä¾›æœ‰åŠ›æ”¯æŒã€‚



### 4.6. æ•°æ®è§†å›¾-å­—æ®µæƒé™åˆ†é…

å­—æ®µæƒé™åˆ†é…å¯åŸºäºç”¨æˆ·è§’è‰²æˆ–ç»„ç»‡æ¶æ„ï¼Œå¯¹æ•°æ®æ¨¡å‹ä¸­çš„æ•æ„Ÿå­—æ®µï¼ˆå¦‚è–ªèµ„ã€å®¢æˆ·éšç§ä¿¡æ¯ï¼‰è¿›è¡Œç²¾ç»†åŒ–ç®¡æ§ã€‚ç®¡ç†å‘˜å¯è®¾ç½®å­—æ®µçš„å¯è§æ€§ï¼ˆéšè—/åªè¯»ï¼‰æˆ–è¡Œçº§è¿‡æ»¤æ¡ä»¶ï¼Œç¡®ä¿ä¸åŒç”¨æˆ·ä»…èƒ½è®¿é—®æˆæƒå­—æ®µï¼Œå®ç°æ•°æ®å®‰å…¨ä¸ä¸šåŠ¡éœ€æ±‚çš„å¹³è¡¡ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062013221-895bb4d5-c0d8-424a-a19d-eef030cb5168.png)

### 4.7. æ•°æ®è§†å›¾-å¼€å§‹åˆ†æ

â€œå¼€å§‹åˆ†æâ€æ˜¯ç”¨æˆ·ä»æ•°æ®å‡†å¤‡åˆ°å¯è§†åŒ–å‘ˆç°çš„æ ¸å¿ƒå…¥å£ã€‚ç”¨æˆ·é€‰å®šæ•°æ®æ¨¡å‹æˆ–è§†å›¾åï¼Œé€šè¿‡æ‹–æ‹½å­—æ®µè‡³åˆ†æåŒºåŸŸï¼Œç³»ç»Ÿè‡ªåŠ¨ç”ŸæˆåŸºç¡€å›¾è¡¨ï¼ˆå¦‚æŸ±çŠ¶å›¾ã€è¡¨æ ¼ï¼‰ï¼Œæ”¯æŒå³æ—¶è°ƒæ•´ç»´åº¦/æŒ‡æ ‡ã€ç­›é€‰è¿‡æ»¤ï¼Œå¿«é€ŸéªŒè¯åˆ†ææ€è·¯ï¼Œé™ä½ä¸šåŠ¡æ¢ç´¢é—¨æ§›ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062026055-5441fd18-37d1-4684-aa9d-9d5690aacfac.png)

### 4.8. æ•°æ®è§†å›¾-æ„å»ºBIè§†å›¾

ç”¨æˆ·å¯é€šè¿‡æ‹–æ‹½æ•°æ®æ¨¡å‹å­—æ®µè‡³ç”»å¸ƒï¼Œå¿«é€Ÿæ„å»ºBIè§†å›¾ã€‚æ”¯æŒè‡ªå®šä¹‰å›¾è¡¨ç±»å‹ï¼ˆæŠ˜çº¿å›¾ã€åœ°å›¾ç­‰ï¼‰ã€è”åŠ¨äº¤äº’ä¸æ ·å¼é…ç½®ï¼Œå®æ—¶é¢„è§ˆåˆ†ææ•ˆæœã€‚åŒæ—¶å¯æ·»åŠ è®¡ç®—å­—æ®µã€è®¾ç½®ç­›é€‰æ¡ä»¶ï¼Œçµæ´»æ»¡è¶³ä¸šåŠ¡æ´å¯Ÿéœ€æ±‚ï¼Œå®ç°æ•°æ®åˆ°å†³ç­–çš„å¿«é€Ÿè½¬åŒ–ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062038530-962e51ba-9838-45a5-bf51-d6f6927271b5.png)

### 4.9. æ•°æ®è§†å›¾-é…ç½®BIè§†å›¾

é…ç½®BIè§†å›¾æ”¯æŒå¯¹å·²æ„å»ºçš„å›¾è¡¨è¿›è¡Œæ·±åº¦å®šåˆ¶ã€‚ç”¨æˆ·å¯è°ƒæ•´å­—æ®µæ˜ å°„ã€è®¾ç½®æ•°æ®èšåˆæ–¹å¼ã€å®šä¹‰å›¾è¡¨æ ·å¼ï¼ˆé¢œè‰²ã€æ ‡ç­¾ç­‰ï¼‰ï¼Œå¹¶æ·»åŠ äº¤äº’åŠŸèƒ½ï¼ˆé’»å–ã€è”åŠ¨ï¼‰ã€‚åŒæ—¶æ”¯æŒç»‘å®šå‚æ•°ã€è®¾ç½®ç¼“å­˜ç­–ç•¥ï¼Œç¡®ä¿è§†å›¾é«˜æ•ˆè¿è¡Œä¸”æ»¡è¶³ä¸ªæ€§åŒ–åˆ†æéœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062044878-e44a18e4-b312-4f4c-8f39-17cea6a94a13.png)

### 4.10. æ•°æ®è§†å›¾-è¶‹åŠ¿å›¾åˆ†æ

åœ¨Datartä¸­ï¼Œè¶‹åŠ¿å›¾åˆ†æé€šè¿‡æ—¶é—´ç»´åº¦ï¼ˆå¦‚æ—¥ã€æœˆã€å¹´ï¼‰åŠ¨æ€å±•ç¤ºæ•°æ®å˜åŒ–è¶‹åŠ¿ã€‚ç”¨æˆ·å¯æ‹–æ‹½æŒ‡æ ‡å­—æ®µè‡³X/Yè½´ï¼Œæ”¯æŒå¤šç³»åˆ—å åŠ å¯¹æ¯”ï¼ˆå¦‚é”€å”®é¢ä¸å¢é•¿ç‡ï¼‰ã€‚å†…ç½®å¹³æ»‘æ›²çº¿ã€ç§»åŠ¨å¹³å‡ç­‰ç®—æ³•ï¼Œç»“åˆè‡ªå®šä¹‰æ—¶é—´ç²’åº¦ä¸é¢„è­¦é˜ˆå€¼ï¼ŒåŠ©åŠ›ç”¨æˆ·å¿«é€Ÿè¯†åˆ«ä¸šåŠ¡æ³¢åŠ¨è§„å¾‹ä¸æ½œåœ¨é£é™©ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062090992-5c4c8f43-9757-41a1-882f-743d2943827f.png)

### 4.11. æ•°æ®è§†å›¾-é¥¼å›¾ç™¾åˆ†æ¯”åˆ†æ

åœ¨Datartä¸­ï¼Œé¥¼å›¾ç™¾åˆ†æ¯”åˆ†æé€šè¿‡å¯è§†åŒ–å æ¯”ç›´è§‚å‘ˆç°æ•°æ®åˆ†å¸ƒã€‚ç”¨æˆ·å¯æ‹–æ‹½åˆ†ç±»å­—æ®µä¸æ•°å€¼å­—æ®µï¼Œç³»ç»Ÿè‡ªåŠ¨è®¡ç®—å„éƒ¨åˆ†å æ¯”å¹¶ç”Ÿæˆæ‰‡å½¢åŒºåŸŸï¼Œæ”¯æŒæ ‡ç­¾æ˜¾ç¤ºå…·ä½“æ•°å€¼ä¸ç™¾åˆ†æ¯”ã€‚æä¾›é¢œè‰²è‡ªå®šä¹‰ã€å›¾ä¾‹æ’åºåŠçˆ†ç‚¸æ•ˆæœï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿè¯†åˆ«æ ¸å¿ƒæ•°æ®ç»´åº¦åŠå…¶è´¡çŒ®åº¦ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062107679-681c36d2-c5b5-4f33-989e-af6a9c277071.png)

### 4.12. æ•°æ®è§†å›¾-å…¶ä»–å¯è§†åŒ–è§†å›¾åˆ†æ

åœ¨Datartä¸­ï¼Œé™¤è¶‹åŠ¿å›¾ã€é¥¼å›¾å¤–ï¼Œè¿˜æ”¯æŒåœ°å›¾ã€æ•£ç‚¹å›¾ã€é›·è¾¾å›¾ç­‰å¤šæ ·åŒ–è§†å›¾ã€‚ç”¨æˆ·å¯åŸºäºæ•°æ®ç‰¹å¾é€‰æ‹©åˆé€‚å›¾è¡¨ï¼Œé€šè¿‡æ‹–æ‹½å­—æ®µå¿«é€Ÿç”Ÿæˆï¼Œæ”¯æŒå¤šç»´åº¦æ•°æ®å¯¹æ¯”ã€åŠ¨æ€äº¤äº’åŠè‡ªå®šä¹‰æ ·å¼ï¼Œæ»¡è¶³å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹çš„æ•°æ®æ´å¯Ÿéœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062122340-435ea183-e9ea-4c4f-a347-5af5150c2126.png)

### 4.13. æ•°æ®è§†å›¾-ä¿å­˜åˆ°æ•°æ®ä»ªè¡¨ç›˜

ç”¨æˆ·å®Œæˆå¯è§†åŒ–è§†å›¾é…ç½®åï¼Œå¯ä¸€é”®å°†å…¶ä¿å­˜è‡³æ•°æ®ä»ªè¡¨ç›˜ã€‚æ”¯æŒå°†å¤šä¸ªè§†å›¾çµæ´»å¸ƒå±€äºåŒä¸€ç•Œé¢ï¼Œè‡ªå®šä¹‰ä»ªè¡¨ç›˜åç§°ã€ä¸»é¢˜é£æ ¼åŠåˆ·æ–°é¢‘ç‡ï¼Œå¹¶è®¾ç½®è®¿é—®æƒé™ã€‚ä¿å­˜åä»ªè¡¨ç›˜å¯å®æ—¶æ›´æ–°æ•°æ®ï¼Œä¾¿äºç”¨æˆ·é›†ä¸­ç›‘æ§å…³é”®æŒ‡æ ‡ï¼Œå¿«é€ŸæŒæ¡ä¸šåŠ¡åŠ¨æ€ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062135979-d0c84309-bc03-4fea-b206-11af8b100875.png)

### 4.14. BIè§†å›¾ç»“æœé¢„è§ˆ

åœ¨Datartä¸­ï¼ŒBIè§†å›¾ç»“æœé¢„è§ˆæ”¯æŒç”¨æˆ·å®æ—¶æŸ¥çœ‹å¯è§†åŒ–é…ç½®æ•ˆæœã€‚å®Œæˆå­—æ®µæ‹–æ‹½ã€å›¾è¡¨æ ·å¼è°ƒæ•´åï¼Œç³»ç»Ÿå³æ—¶æ¸²æŸ“åˆ†æç»“æœï¼ŒåŠ¨æ€å±•ç¤ºæ•°æ®åˆ†å¸ƒä¸è¶‹åŠ¿ã€‚é¢„è§ˆç•Œé¢æ”¯æŒäº¤äº’æ“ä½œï¼ˆå¦‚ç­›é€‰ã€ç¼©æ”¾ï¼‰ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€ŸéªŒè¯åˆ†æé€»è¾‘ï¼Œç¡®ä¿è§†å›¾å‡†ç¡®ä¼ è¾¾ä¸šåŠ¡æ´å¯Ÿã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062160916-750f258c-2113-4b17-94af-a59bb50e152a.png)

### 4.15. å¯è§†åŒ–ä¸­å¿ƒå±•ç¤º

åœ¨Datartä¸­ï¼Œå¯è§†åŒ–ä¸­å¿ƒé›†ä¸­å±•ç¤ºç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰ä»ªè¡¨ç›˜ã€å›¾è¡¨åŠæ•…äº‹æ¿ã€‚æä¾›åˆ†ç±»æ ‡ç­¾ã€æœç´¢ä¸æ”¶è—åŠŸèƒ½ï¼Œæ”¯æŒæŒ‰æƒé™ç­›é€‰è®¿é—®å†…å®¹ã€‚ç•Œé¢é‡‡ç”¨å¡ç‰‡å¼å¸ƒå±€ï¼Œç›´è§‚å‘ˆç°è§†å›¾ç¼©ç•¥å›¾ä¸å…³é”®æŒ‡æ ‡ï¼Œç”¨æˆ·å¯å¿«é€Ÿå®šä½å¹¶è¿›å…¥åˆ†æç•Œé¢ï¼Œé«˜æ•ˆå¼€å±•æ•°æ®æ´å¯Ÿä¸å†³ç­–ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062172889-2e48a69b-cf5f-4bc5-bf4b-b92b7b268ef2.png)



### 4.16. å¯è§†åŒ–ä¸­å¿ƒå¯¼å‡ºã€ä¸‹è½½ã€åˆ†äº«

ç”¨æˆ·å¯å°†ä»ªè¡¨ç›˜æˆ–å›¾è¡¨ä»¥å›¾ç‰‡ï¼ˆPNG/JPGï¼‰ã€PDFæˆ–Excelæ ¼å¼å¯¼å‡º/ä¸‹è½½ï¼Œæ»¡è¶³ç¦»çº¿æ±‡æŠ¥éœ€æ±‚ã€‚åŒæ—¶æ”¯æŒç”Ÿæˆåˆ†äº«é“¾æ¥æˆ–åµŒå…¥ä»£ç ï¼Œçµæ´»è®¾ç½®è®¿é—®æƒé™ï¼ˆå…¬å¼€/åŠ å¯†ï¼‰ï¼Œä¸€é”®æ¨é€è‡³å›¢é˜Ÿæˆ–å¤–éƒ¨ç”¨æˆ·ï¼Œå®ç°åˆ†ææˆæœçš„é«˜æ•ˆåä½œä¸ä¼ æ’­ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062185346-597b116b-964e-4416-b29b-7e02f3ea169f.png)

### 4.17. å¯è§†åŒ–ä¸­å¿ƒ-å‘å¸ƒå¯è§†åŒ–ä»ªè¡¨ç›˜

ç”¨æˆ·å®Œæˆä»ªè¡¨ç›˜è®¾è®¡åï¼Œå¯ä¸€é”®å‘å¸ƒè‡³æŒ‡å®šç¯å¢ƒã€‚å‘å¸ƒæ—¶æ”¯æŒé…ç½®è®¿é—®æƒé™ï¼ˆå¦‚æŒ‰è§’è‰²/éƒ¨é—¨ï¼‰ã€è®¾ç½®æ•°æ®åˆ·æ–°ç­–ç•¥ï¼Œå¹¶ç”Ÿæˆåˆ†äº«é“¾æ¥æˆ–åµŒå…¥ä»£ç ï¼Œç¡®ä¿ä»ªè¡¨ç›˜å®‰å…¨ã€å®æ—¶åœ°è§¦è¾¾ç›®æ ‡ç”¨æˆ·ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062196618-c1986dc7-3ffb-4b9b-9724-bcfe06cd5933.png)

### 4.18. ç‚¹å‡»æ’­æ”¾-æŸ¥çœ‹å¯è§†åŒ–å¤§å±ç»“æœ

ç”¨æˆ·å¯é€šè¿‡é“¾æ¥æˆ–æƒé™å…¥å£ç›´æ¥è®¿é—®å·²å‘å¸ƒçš„å¤§å±ã€‚å¤§å±ä»¥å…¨å±æ¨¡å¼åŠ¨æ€å±•ç¤ºå¤šå›¾è¡¨è”åŠ¨è§†å›¾ï¼Œæ”¯æŒå®æ—¶æ•°æ®åˆ·æ–°ã€äº¤äº’å¼ç­›é€‰åŠé’»å–ï¼Œå¸®åŠ©ç”¨æˆ·ç›´è§‚æ´å¯Ÿå…³é”®æŒ‡æ ‡ä¸ä¸šåŠ¡è¶‹åŠ¿ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062227695-43401cba-455b-4190-ac48-7a742bd8fe5a.png)

### 4.19. æ•°æ®åˆ†æå¤§å±æ¼”ç¤º

æ•°æ®åˆ†æå¤§å±æ¼”ç¤ºä»¥å…¨å±åŠ¨æ€å½¢å¼å‘ˆç°å…³é”®æŒ‡æ ‡ä¸å¤šç»´è§†å›¾ï¼Œæ”¯æŒå®æ—¶æ•°æ®æ›´æ–°ã€å¤šå›¾è¡¨è”åŠ¨äº¤äº’åŠè‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœï¼Œå¯é€‚é…ä¸åŒç»ˆç«¯ï¼ŒåŠ©åŠ›ä¼ä¸šé«˜æ•ˆå±•ç¤ºä¸šåŠ¡å…¨æ™¯ä¸å†³ç­–æ´å¯Ÿã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/26284577/1750062245083-9c18a758-b355-46e6-857f-f9d00895f293.png)





## 5. æ—¥å¿—é…ç½®

##### 5.1.1. `logback.xml` ä¸ºæ—¥å¿—é…ç½®æ–‡ä»¶ã€‚åœ¨æ­¤ä»…å¯¹å¿…è¦é…ç½®é¡¹åšç®€å•ä»‹ç»ï¼Œè¿›ä¸€æ­¥äº†è§£è¯·æŸ¥çœ‹ [logback å®˜æ–¹æ–‡æ¡£](https://logback.qos.ch/manual/configuration.html)

```javascript
<configuration>
    <!-- æ—¥å¿—æ–‡ä»¶è·¯å¾„ -->
    <property name="LOG_HOME" value="./logs"/>
    <!-- SQL æ—¥å¿—ç­‰çº§ -->
    <property name ="SQL_LEVEL" value="INFO"/>
</configuration>
```

##### 5.1.2. å¦‚æœéœ€è¦æŸ¥çœ‹æ‰€æœ‰çš„æŸ¥è¯¢ SQL æ—¥å¿—ï¼Œè¯·å°† `SQL_LEVEL` è®¾ç½® `DEBUG`





## 6. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

##### 6.1.1. **æ•°æ®åº“è¿æ¥å¤±è´¥ï¼š**

- æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œé…ç½®ä¿¡æ¯æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰è¶³å¤Ÿçš„æƒé™ã€‚

##### 6.1.2. **å‰ç«¯ç¼–è¯‘å¤±è´¥**ï¼š

- æ£€æŸ¥ Node.js å’Œ npm ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚
- åˆ é™¤ `node_modules` å’Œ `package-lock.json` åé‡æ–°å®‰è£…ä¾èµ–ã€‚

##### 6.1.3. **ç«¯å£å†²çª**ï¼š

- ä¿®æ”¹ `application.properties` æˆ– `application.yml` ä¸­çš„ `server.port` é…ç½®ã€‚





------



## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æŒ‡æ ‡ä½“ç³»å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1mGKBznE2C/?spm_id_from=333.1387.upload.video_card.click&vd_source=0aea8353c1d747aeabc7df5b5da421da

### 2.1. æŒ‡æ ‡ä½“ç³»å¹³å°åŸºäºå¼€æºé¡¹ç›®SuperSonicå»ºè®¾ã€‚

æŒ‡æ ‡ä½“ç³»å¹³å°SuperSonicæ”¯æŒçµæ´»å®šä¹‰å„ç±»ä¸šåŠ¡æŒ‡æ ‡ï¼Œç»Ÿä¸€æŒ‡æ ‡å£å¾„ï¼Œé¿å…æ•°æ®æ­§ä¹‰ï¼Œå®ç°æ ‡å‡†åŒ–ç®¡ç†ã€‚èƒ½é«˜æ•ˆæ•´åˆå¤šæºæ•°æ®ï¼Œå¿«é€Ÿè®¡ç®—æŒ‡æ ‡ç»“æœï¼Œä¸ºä¸šåŠ¡å†³ç­–æä¾›ç²¾å‡†ä¾æ®ã€‚å…·å¤‡å¯è§†åŒ–å±•ç¤ºèƒ½åŠ›ï¼Œä»¥ç›´è§‚å›¾è¡¨å‘ˆç°æŒ‡æ ‡å˜åŒ–è¶‹åŠ¿ä¸å…³è”å…³ç³»ã€‚è¿˜æ”¯æŒè‡ªåŠ¨åŒ–è°ƒåº¦ä¸å‘å¸ƒï¼Œå‡å°‘äººå·¥å¹²é¢„ï¼Œæå‡è¿ç»´æ•ˆç‡ã€‚åŒæ—¶ï¼Œæä¾›æƒé™ç®¡ç†ï¼Œä¿éšœæ•°æ®å®‰å…¨ï¼ŒåŠ©åŠ›ä¼ä¸šæ„å»ºç§‘å­¦ã€é«˜æ•ˆã€å®‰å…¨çš„æŒ‡æ ‡ä½“ç³»ï¼Œé©±åŠ¨ä¸šåŠ¡å¢é•¿ã€‚

- å¼€æºé¡¹ç›®ï¼šhttps://github.com/tencentmusic/supersonic
- âš ï¸æ³¨æ„ï¼šæ›´å¤šæ•™ç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ•™ç¨‹æ–‡æ¡£ï¼šhttps://supersonicbi.github.io/

### 2.2. æŒ‡æ ‡ä½“ç³»å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- å¤šæºæ•°æ®æ•´åˆ
- ç»Ÿä¸€æŒ‡æ ‡ç®¡ç†
- å®æ—¶è®¡ç®—èƒ½åŠ›
- é«˜å¯æ‰©å±•æ€§
- å¯è§†åŒ–å±•ç¤º
- è‡ªåŠ¨åŒ–è¿ç»´
- å‡å°‘é‡å¤å»ºè®¾
- æ¨åŠ¨æ•°æ®é©±åŠ¨æ–‡åŒ–



## 3. AllDataæ•°æ®ä¸­å°-æŒ‡æ ‡ä½“ç³»å¹³å°ï¼ˆSuperSonicï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486745200-1018f47e-1aef-4c17-a977-4c8dbbb7bd77.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡**è½¯ä»¶ç¯å¢ƒ**

- éœ€å®‰è£…Gitç”¨äºå…‹éš†é¡¹ç›®ä»£ç ï¼Œç¡®ä¿èƒ½é¡ºåˆ©æ‰§è¡Œç›¸å…³å‘½ä»¤ï¼›
- é…å¤‡JDKï¼ˆç‰ˆæœ¬éœ€å¤§äºç­‰äº8ï¼‰ä¸ºé¡¹ç›®è¿è¡Œæä¾›Javaç¯å¢ƒæ”¯æŒï¼›
- ä½¿ç”¨Mavenï¼ˆç‰ˆæœ¬éœ€å¤§äºç­‰äº3.6.0ï¼‰è¿›è¡Œé¡¹ç›®æ‰“åŒ…ï¼›
- å‡†å¤‡MySQLï¼ˆç‰ˆæœ¬éœ€å¤§äºç­‰äº5.7ï¼‰ä½œä¸ºSuperSonicçš„å…ƒæ•°æ®å­˜å‚¨æ•°æ®åº“ã€‚



 ğŸ’¡**ç¡¬ä»¶èµ„æº**ï¼š

- ä¾æ®é¢„è®¡çš„æ•°æ®é‡å’Œä¸šåŠ¡è´Ÿè½½ï¼Œå‡†å¤‡å……è¶³çš„æœåŠ¡å™¨èµ„æºï¼Œæ¶µç›–CPUã€å†…å­˜å’Œç£ç›˜ç©ºé—´ï¼Œä»¥ä¿éšœç³»ç»Ÿç¨³å®šè¿è¡Œã€‚



### 3.2. è·å–æºç 

ğŸ’¡**ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„Supersonicç‰ˆæœ¬ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡**æ•°æ®åº“åˆå§‹åŒ–**ï¼š

- å¯åŠ¨MySQLæ•°æ®åº“å¹¶åˆ›å»ºæ–°æ•°æ®åº“ï¼Œå¦‚å‘½åä¸º`supersonic`ã€‚å°†é¡¹ç›®ä¸­çš„SQLæ–‡ä»¶åœ¨MySQLä¸­è¿è¡Œï¼Œå®Œæˆæ•°æ®åº“åˆå§‹åŒ–ï¼Œä¸ºåç»­æ•°æ®å­˜å‚¨å’Œç®¡ç†åšå¥½å‡†å¤‡ã€‚



ğŸ’¡**æºç ç¼–è¯‘**ï¼š

- è‹¥ä½¿ç”¨MySQLæ•°æ®åº“ï¼Œéœ€ä¿®æ”¹`pom.xml`æ–‡ä»¶ï¼Œå°†`mysql-connector-java`ä¾èµ–çš„`scope`æ”¹ä¸º`compile`ï¼ˆä½¿ç”¨PostgreSQLåˆ™æ— éœ€æ­¤æ“ä½œï¼‰ã€‚è¿è¡Œå‘½ä»¤`mvn clean install -Prelease -Dmaven.test.skip=true`è¿›è¡Œé¡¹ç›®æ„å»ºæ‰“åŒ…ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750472764808-aa5404df-4acb-42c5-b174-058eaf4a61fe.png)



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

- **è§£å‹éƒ¨ç½²åŒ…ï¼š**å¯¹æ„å»ºç”Ÿæˆçš„éƒ¨ç½²åŒ…è¿›è¡Œè§£å‹ï¼Œä¾‹å¦‚è¿›å…¥`supersonic-dist/target`ç›®å½•ï¼Œæ‰§è¡Œ`tar -zxvf supersonic-1.0.0-SNAPSHOT-bin.tar.gz`ï¼Œç„¶åè¿›å…¥è§£å‹åçš„ç›®å½•`cd supersonic-1.0.0-SNAPSHOT-bin`ã€‚



ğŸ’¡ **æ“ä½œæ­¥éª¤ï¼š**

- è¿›å…¥`conf`ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹åŒ…å«å¹³å°çš„é…ç½®æ–‡ä»¶ã€‚
- ç¼–è¾‘`application.yaml`æ–‡ä»¶ï¼Œè¿™æ˜¯Spring Bootåº”ç”¨çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ã€‚
- **æ•°æ®åº“é…ç½®**ï¼šä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬`spring.datasource.driver-class-name`ï¼ˆæ•°æ®åº“é©±åŠ¨ç±»åï¼‰ã€`spring.datasource.url`ï¼ˆæ•°æ®åº“è¿æ¥URLï¼‰ã€`spring.datasource.username`ï¼ˆæ•°æ®åº“ç”¨æˆ·åï¼‰å’Œ`spring.datasource.password`ï¼ˆæ•°æ®åº“å¯†ç ï¼‰ã€‚ä¾‹å¦‚ï¼Œè‹¥ä½¿ç”¨MySQLæ•°æ®åº“ï¼Œé…ç½®å¯èƒ½å¦‚ä¸‹ï¼š

```javascript
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:3306/supersonic?useUnicode=true&characterEncoding=UTF-8
    username: root
    password: 123456
```



ğŸ’¡ **Tipsï¼šå¯åŠ¨æœåŠ¡**ï¼š

- è¿›å…¥`bin`ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹åŒ…å«å¯åŠ¨è„šæœ¬ã€‚
- æ‰§è¡Œå¯åŠ¨å‘½ä»¤ï¼Œä¾‹å¦‚`sh supersonic-daemon.sh start mysql`ã€‚æ­¤å‘½ä»¤ä¼šæ ¹æ®é…ç½®å¯åŠ¨SuperSonicæœåŠ¡ï¼Œå¹¶è¿æ¥åˆ°æŒ‡å®šçš„MySQLæ•°æ®åº“ã€‚
- å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼ˆé€šå¸¸ä½äº`logs`ç›®å½•ä¸‹ï¼‰æ¥ç›‘æ§å¯åŠ¨çŠ¶æ€ï¼Œç¡®ä¿æœåŠ¡æ­£å¸¸å¯åŠ¨ã€‚



### 3.5. è®¿é—®å‰ç«¯é¡µé¢

ğŸ’¡ **æ“ä½œæ­¥éª¤**ï¼š

- åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœåŠ¡å™¨IPå’Œç«¯å£ï¼ˆé»˜è®¤5600ï¼‰ï¼Œä¾‹å¦‚`http://æœåŠ¡å™¨IP:5600`ã€‚
- è·³è½¬è‡³ç™»å½•ç•Œé¢ï¼Œè¾“å…¥é»˜è®¤è´¦å·å¯†ç ï¼ˆå¦‚`admin/123456`ï¼Œå…·ä½“è´¦å·å¯†ç å¯èƒ½å› éƒ¨ç½²ç¯å¢ƒè€Œå¼‚ï¼Œéœ€å‚è€ƒéƒ¨ç½²æ–‡æ¡£æˆ–ç®¡ç†å‘˜æä¾›çš„ä¿¡æ¯ï¼‰ã€‚
- ç™»å½•æˆåŠŸåï¼Œå³å¯è¿›å…¥SuperSonicæŒ‡æ ‡ä½“ç³»å¹³å°çš„å‰ç«¯ç•Œé¢ï¼Œå¼€å§‹ä½¿ç”¨å¹³å°åŠŸèƒ½ã€‚



### 3.6. éªŒè¯æœåŠ¡çŠ¶æ€

ğŸ’¡ **æ“ä½œæ­¥éª¤**ï¼š

- åœ¨å‰ç«¯ç•Œé¢ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹æŒ‡æ ‡æ•°æ®ã€åˆ›å»ºå’Œç¼–è¾‘æŒ‡æ ‡ã€ç”ŸæˆæŠ¥è¡¨ç­‰ï¼Œä»¥éªŒè¯å¹³å°åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚
- å¯ä»¥é€šè¿‡æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ã€ç›‘æ§æŒ‡æ ‡ç­‰æ–¹å¼ï¼Œè¿›ä¸€æ­¥ç¡®è®¤æœåŠ¡çš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚



### 3.7. å¯é€‰é…ç½®

- **æ•°æ®æºé…ç½®**ï¼šè¿›å…¥é¦–é¡µåï¼Œç‚¹å‡»å³ä¸Šè§’åˆ›å»ºæ•°æ®æºæŒ‰é’®ï¼Œè¾“å…¥æ•°æ®æºåç§°ï¼Œé€‰æ‹©æ•°æ®æºç±»å‹ï¼ˆå¦‚MySQLï¼‰ï¼Œè¾“å…¥MySQLçš„è¿æ¥ä¿¡æ¯ï¼Œç‚¹å‡»æµ‹è¯•è¿æ¥æŒ‰é’®ï¼Œè‹¥æˆåŠŸåˆ™å•å‡»ä¿å­˜ï¼Œä»¥ä¾¿åç»­ä»è¯¥æ•°æ®æºè·å–æ•°æ®è¿›è¡ŒæŒ‡æ ‡è®¡ç®—å’Œåˆ†æã€‚



- **æŒ‡æ ‡å®šä¹‰ä¸ç®¡ç†**ï¼šåˆ©ç”¨å¹³å°æä¾›çš„å¼ºå¤§æŒ‡æ ‡å®šä¹‰ä¸ç®¡ç†åŠŸèƒ½ï¼Œç”¨æˆ·å¯çµæ´»å®šä¹‰å„ç±»ä¸šåŠ¡æŒ‡æ ‡ï¼Œç¡®ä¿æŒ‡æ ‡å£å¾„ä¸€è‡´ï¼Œé¿å…æ•°æ®æ­§ä¹‰ï¼Œå®ç°å¯¹æŒ‡æ ‡çš„æ ‡å‡†åŒ–ç®¡ç†ã€‚



- **å¯è§†åŒ–å±•ç¤ºé…ç½®**ï¼šé›†æˆSuperSonicçš„APIæ¥å£ï¼Œå°†æŒ‡æ ‡ç»“æœæ¨é€è‡³å‰ç«¯å·¥å…·ï¼Œè®¾ç½®é˜ˆå€¼è§„åˆ™ï¼ˆå¦‚DAUä¸‹é™è¶…è¿‡10%è§¦å‘å‘Šè­¦ï¼‰ï¼Œé€šè¿‡é‚®ä»¶/çŸ­ä¿¡é€šçŸ¥ç›¸å…³äººå‘˜ï¼ŒåŒæ—¶å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰å¯è§†åŒ–æŠ¥è¡¨å’Œä»ªè¡¨æ¿ï¼Œç›´è§‚å±•ç¤ºæŒ‡æ ‡å˜åŒ–è¶‹åŠ¿ä¸å…³è”å…³ç³»ã€‚



- **è‡ªåŠ¨åŒ–è¿ç»´é…ç½®**ï¼šæ”¯æŒæŒ‡æ ‡çš„è‡ªåŠ¨åŒ–è®¡ç®—ã€è°ƒåº¦å’Œå‘å¸ƒï¼Œå‡å°‘äººå·¥å¹²é¢„ï¼Œæå‡è¿ç»´æ•ˆç‡ï¼Œç¡®ä¿æŒ‡æ ‡ä½“ç³»çš„ç¨³å®šè¿è¡Œã€‚



## 4. è®¿é—®æŒ‡æ ‡ä½“ç³»å¹³å°é¡µé¢

#### 4.1.1. **æŒ‡æ ‡ä½“ç³»å¹³å°-åŠŸèƒ½æ¦‚è§ˆ-ç®—æŒ‡æ ‡**

- æ”¯æŒåŸºäºSuperSonicè‡ªå®šä¹‰æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡ï¼Œé€šè¿‡SQLè„šæœ¬æˆ–å®æ—¶è®¡ç®—å¼•æ“å®ç°åŠ¨æ€èšåˆåˆ†æï¼Œç¡®ä¿æŒ‡æ ‡å£å¾„ç»Ÿä¸€ä¸”å®æ—¶æ›´æ–°ï¼Œä¸ºå†³ç­–æä¾›ç²¾å‡†æ•°æ®æ”¯æ’‘ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750401038236-84b9ff9b-b587-41ec-a88c-7722a4bfd201.jpeg)

#### 4.1.2. **åšåœˆé€‰**

- æ”¯æŒåŸºäºä¸šåŠ¡è§„åˆ™çµæ´»åœˆé€‰ç›®æ ‡æ•°æ®é›†ï¼Œé€šè¿‡å¯è§†åŒ–ç•Œé¢å¿«é€Ÿå®šä¹‰ç­›é€‰æ¡ä»¶ï¼Œå®ç°ç²¾å‡†æ•°æ®åˆ†ç»„ä¸å®šå‘åˆ†æï¼ŒåŠ©åŠ›ä¸šåŠ¡å†³ç­–ä¸ç²¾ç»†åŒ–è¿è¥ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750401069386-6b0f36b7-fe3c-4aeb-90f3-18ab3390f7c1.jpeg)

#### 4.1.3. **æ¥é—²èŠ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750401079449-b6cecb7b-9d67-47dc-b96e-4eb34a7ddbf9.jpeg)

#### 4.1.4. **æŒ‡æ ‡å¯¹æ¯”**

- æ”¯æŒå¯¹ä¸åŒæ•°æ®æºæˆ–ä¸åŒæ—¶é—´æ®µçš„æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡è¿›è¡Œæ¯”å¯¹åˆ†æï¼Œå¿«é€Ÿå‘ç°æ•°æ®å·®å¼‚ä¸å¼‚å¸¸ï¼ŒåŠ©åŠ›ä¼ä¸šç²¾å‡†å†³ç­–ä¸æ•°æ®æ²»ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750401093628-68667369-5204-4d45-9d09-bf63356fb6ce.jpeg)

#### 4.1.5. **åŠ©ç†ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750401102396-5becbd76-35dc-4d6a-91c8-87dfc4f065ed.jpeg)

#### 4.1.6. **æ–°å»ºåŠ©ç†-åŸºæœ¬ä¿¡æ¯**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402384112-e937c51b-8f66-433f-8706-1be9483da56d.jpeg)

#### 4.1.7. **æ–°å»ºåŠ©ç†-å¤§æ¨¡å‹é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402396745-12976919-c6db-45cd-a02d-fbea1da895af.jpeg)

#### 4.1.8. **æ–°å»ºåŠ©ç†-æç¤ºè¯é…ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402413026-a565a7c0-89a3-4259-b2cc-64a9f1018caa.jpeg)

#### 4.1.9. **æ–°å»ºåŠ©ç†-å·¥å…·ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402423561-5d72a343-88b6-4f8e-94a0-653481740140.jpeg)

#### 4.1.10. **æ–°å»ºåŠ©ç†-è®°å¿†ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402434285-7d5643d3-b2d3-4d38-836c-5e7298c4fd8f.jpeg)

#### 4.1.11. **æ’ä»¶ç®¡ç†**

- å¯¹æ’ä»¶è¿›è¡Œæ–°å»ºã€é…ç½®ç­‰æ“ä½œï¼Œå¯çµæ´»é›†æˆä¸ç®¡ç†ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œæ‰©å±•æŒ‡æ ‡ä½“ç³»åŠŸèƒ½ï¼Œæ»¡è¶³ä¼ä¸šå¤šæ ·åŒ–çš„æ•°æ®åˆ†æä¸ä¸šåŠ¡éœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402446332-3f815565-9158-4612-9f13-058a71204d2f.jpeg)

#### 4.1.12. **æ–°å¢æ’ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402462976-00bd3a0e-ea83-4777-94c4-7cbc2a22a3ea.jpeg)

#### 4.1.13. **ç¼–è¾‘æ’ä»¶**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402480137-b93210c1-dee1-4237-b509-d3e597beb58c.jpeg)

#### 4.1.14. **æŒ‡æ ‡ç®¡ç†-æ•°æ®æ¨¡å‹-åˆ—è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750402491531-9c466a50-cc83-43f6-aec5-a83b3875407d.jpeg)

#### 4.1.15. **æŒ‡æ ‡ç®¡ç†-æ•°æ®æ¨¡å‹-ç”»å¸ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405430646-93250299-f68d-47f9-a012-e2bc01c89d67.jpeg)

#### 4.1.16. **æ•°æ®é›†ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405434519-12d171e6-3cb8-4987-9f4b-e87e7c21a84f.jpeg)

#### 4.1.17. **åˆ›å»ºæ•°æ®é›†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405444226-36bb3eff-08ae-4cbe-9828-cf9a9b976814.jpeg)

#### 4.1.18. **æŸ¥è¯¢è®¾ç½®**

- ç”¨æˆ·å¯çµæ´»é…ç½®æŸ¥è¯¢æ¡ä»¶ã€ç­›é€‰è§„åˆ™ç­‰ï¼Œå®ç°æŒ‡æ ‡æ•°æ®çš„ç²¾å‡†æŸ¥è¯¢ä¸å¿«é€Ÿå®šä½ï¼Œæ»¡è¶³å¤šæ ·åŒ–åˆ†æéœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405453315-e0d73c53-31d0-46a2-8c11-39292b6f0d4c.jpeg)

#### 4.1.19. **æ ‡ç­¾å¯¹è±¡ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405463999-7f29c569-6e6d-4bae-ae94-f6494ff4da9a.jpeg)

#### 4.1.20. **æ–°å¢æ ‡ç­¾å¯¹è±¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405472757-449799f5-7529-430d-a08a-01a1eec30f05.jpeg)

#### 4.1.21. **ç¼–è¾‘æ ‡ç­¾å¯¹è±¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405482392-3ea43f9e-bb4e-45a2-9ce0-83590177cfd2.jpeg)

#### 4.1.22. **æœ¯è¯­ç®¡ç†**

- æ”¯æŒæ–°å»ºã€ç®¡ç†ä¸šåŠ¡æœ¯è¯­ï¼Œç»Ÿä¸€æœ¯è¯­å®šä¹‰ä¸è§£é‡Šï¼Œç¡®ä¿æŒ‡æ ‡ä½“ç³»å†…æœ¯è¯­ä½¿ç”¨è§„èŒƒä¸€è‡´ï¼Œé¿å…æ­§ä¹‰ï¼ŒåŠ©åŠ›é«˜æ•ˆæ²Ÿé€šä¸æ•°æ®åˆ†æã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405493210-0c04c381-4930-4f94-bb82-4240d8992796.jpeg)

#### 4.1.23. **æ–°å»ºæœ¯è¯­**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405516032-1513ec9a-7332-4567-9537-8cbdee3255ab.jpeg)

#### 4.1.24. **ç¼–è¾‘æœ¯è¯­**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405528728-02d51f1f-a7ef-4634-80fc-33424a384eb4.jpeg)

#### 4.1.25. **æŒ‡æ ‡è¡€ç¼˜**

- å¯è¿½è¸ªæŒ‡æ ‡æ•°æ®æ¥æºä¸è®¡ç®—é€»è¾‘ï¼Œæ¸…æ™°å±•ç¤ºæŒ‡æ ‡çš„è¡€ç¼˜å…³ç³»ï¼ŒåŠ©åŠ›ç”¨æˆ·ç†è§£æ•°æ®é“¾è·¯ï¼Œä¿éšœæ•°æ®è´¨é‡ä¸åˆè§„æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405532179-ed2caf65-316a-4cc4-8e7f-60013bdc0ba8.jpeg)

#### 4.1.26. **æŒ‡æ ‡æ£€ç´¢**

- æ”¯æŒç”¨æˆ·é€šè¿‡å…³é”®è¯å¿«é€Ÿå®šä½æ‰€éœ€æŒ‡æ ‡ï¼Œæä¾›åŸºç¡€ä¿¡æ¯å±•ç¤ºä¸æŒ‡æ ‡æ¢ç´¢ï¼ŒåŠ©åŠ›é«˜æ•ˆè·å–æ•°æ®æ´å¯Ÿã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405543188-c66185b4-3c26-4d13-a498-e9d15ea8b249.jpeg)

#### 4.1.27. **ç¼–è¾‘-åŸºæœ¬ä¿¡æ¯**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405553069-cf289443-85e8-4f5e-9240-7507de4c6875.jpeg)

#### 4.1.28. **ç¼–è¾‘-è¡¨è¾¾å¼**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405562071-3c41ff77-9e7e-4f12-8663-0f97a281709b.jpeg)

#### 4.1.29. **æ ‡ç­¾å¸‚åœº**

- æ”¯æŒä¼ä¸šåˆ›å»ºã€ç®¡ç†ã€å…±äº«ä¸šåŠ¡æ ‡ç­¾ï¼Œæä¾›ä¸°å¯Œçš„æ ‡ç­¾æ¨¡æ¿ä¸å¿«é€Ÿæ£€ç´¢èƒ½åŠ›ï¼ŒåŠ©åŠ›ç²¾å‡†è¥é”€ä¸æ•°æ®åˆ†æã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405570761-0158de05-938a-4f21-8da0-6ff4f9596137.jpeg)

#### 4.1.30. **æ•°æ®åº“ç®¡ç†**

- ä¼ä¸šå¯¹å¸‚åœºç›¸å…³æ ‡ç­¾ã€æŒ‡æ ‡è¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œæä¾›åˆ†ç±»å­˜å‚¨ä¸å¿«é€Ÿæ£€ç´¢èƒ½åŠ›ï¼ŒåŠ©åŠ›ç²¾å‡†å¸‚åœºåˆ†æä¸å†³ç­–ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405578780-3b0e7e3f-230a-49b0-84cb-3f99d89176b6.jpeg)

#### 4.1.31. **æ•°æ®åº“è¿æ¥è®¾ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405587193-5bc018e1-d62c-4f91-a171-c4d3daaca881.jpeg)

#### 4.1.32. **ç³»ç»Ÿè®¾ç½®**

- ç”¨æˆ·å¯¹æŒ‡æ ‡ä½“ç³»è¿›è¡ŒåŸºç¡€é…ç½®ï¼Œå¦‚æƒé™ç®¡ç†ã€å‚æ•°è°ƒæ•´ç­‰ï¼Œç¡®ä¿æŒ‡æ ‡ä½“ç³»å®‰å…¨ç¨³å®šè¿è¡Œï¼Œæ»¡è¶³ä¼ä¸šä¸ªæ€§åŒ–éœ€æ±‚ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750405595547-7ba04c80-e0d2-4200-bc1d-81169a19ff5f.jpeg)





------

# æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°(cubestudio)

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1P23QzAEXf/?spm_id_from=333.1387.upload.video_card.click

### 2.1. æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°åŸºäºå¼€æºé¡¹ç›®Cubestudioå»ºè®¾ã€‚

æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°é›†æˆäº†æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒã€è‡ªåŠ¨è°ƒå‚ã€æ¨¡å‹éƒ¨ç½²ç­‰åŠŸèƒ½ã€‚å®ƒæä¾›ä¸°å¯Œç®—æ³•åº“å’Œå¯è§†åŒ–å·¥å…·ï¼Œæ”¯æŒåˆ†å¸ƒå¼è®¡ç®—ï¼Œå…·å¤‡æ‹–æ‹‰æ‹½ä»»åŠ¡æµç¼–æ’ã€è¶…å‚æœç´¢ã€æ¨¡å‹ä¸€é”®å¼€å‘æ¨ç†å¾®è°ƒç­‰èƒ½åŠ›ï¼ŒåŠ©åŠ›ç”¨æˆ·é«˜æ•ˆå®Œæˆæœºå™¨å­¦ä¹ é¡¹ç›®ï¼ŒåŠ é€ŸAIåº”ç”¨å¼€å‘ä¸è½åœ°ã€‚



ğŸ”¹Cube-Studioå¼€æºé¡¹ç›®ï¼šhttps://github.com/tencentmusic/cube-studio

ğŸ”¹Cube-Studioæ–‡æ¡£ï¼šhttps://github.com/tencentmusic/cube-studio/wiki

### 2.2. æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

- ä¸€ç«™å¼å¼€å‘
- å¯è§†åŒ–å¼€å‘
- å¤šæ¡†æ¶æ”¯æŒ
- è¶…å‚æœç´¢
- æ¨¡å‹ç®¡ç†ä¸ç›‘æ§
- å¤šç§Ÿæˆ·ç®¡ç†
- å¤šç§ç®—åŠ›æ”¯æŒ
- å¤§æ¨¡å‹æ”¯æŒ
- æ•°æ®ç®¡ç†
- çµæ´»éƒ¨ç½²

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1750649324512-8db47bf8-b8fb-4cbd-a545-08018c65d688.png)

â€‹                                                           ï¼ˆå¼•ç”¨å®˜ç½‘kyuubiå›¾ç‰‡ï¼‰



## 3. AllDataæ•°æ®ä¸­å°-æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°ï¼ˆCubestudioï¼‰æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750497841446-900f99b7-6cbd-4e4e-943c-490379570df1.jpeg)



### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **æœåŠ¡å™¨é…ç½®**ï¼š

- å»ºè®®æ§åˆ¶ç«¯æœºå™¨CPUâ‰¥16æ ¸ï¼Œå†…å­˜â‰¥32GBï¼Œç£ç›˜ç©ºé—´ä¸ä½äº500GBï¼›ä»»åŠ¡ç«¯æœºå™¨å¯æ ¹æ®å®é™…éœ€æ±‚é…ç½®ã€‚è‹¥éœ€GPUåŠ é€Ÿï¼Œéœ€é…ç½®NVIDIA GPUï¼Œå¹¶å®‰è£…å¯¹åº”é©±åŠ¨å’ŒCUDAå·¥å…·åŒ…ã€‚

 ğŸ’¡ **æ“ä½œç³»ç»Ÿ**ï¼š

- æ”¯æŒUbuntu 20.04+æˆ–CentOS 7+ã€‚

ğŸ’¡ **åŸºç¡€ç¯å¢ƒä¾èµ–**ï¼š

- Dockerç‰ˆæœ¬â‰¥19.03ã€‚
- Kubernetesç‰ˆæœ¬1.18+ï¼Œæ¨èä½¿ç”¨kubeadmæˆ–RKEéƒ¨ç½²ã€‚
- kubectlç‰ˆæœ¬â‰¥1.18ã€‚
- å­˜å‚¨æ–¹é¢ï¼Œå•æœºç¯å¢ƒå¯æŒ‚è½½æœ¬åœ°ç£ç›˜ï¼Œé›†ç¾¤ç¯å¢ƒå»ºè®®ä½¿ç”¨Cephæˆ–NFSï¼Œå¹¶é…ç½®StorageClassã€‚
- ç½‘ç»œæ–¹é¢ï¼Œç¡®ä¿Kubernetesé›†ç¾¤ç½‘ç»œä¸å¤–éƒ¨ç½‘ç»œäº’é€šï¼Œé…ç½®Ingress Controllerï¼ˆå¦‚Nginxï¼‰ä»¥æ”¯æŒå¤–éƒ¨è®¿é—®ã€‚

### 3.2. è·å–æºç 

ğŸ’¡ **ç‰ˆæœ¬é€‰æ‹©**ï¼šå»ºè®®ä½¿ç”¨ä¸AllDataå•†ä¸šç‰ˆå…¼å®¹çš„Cubestudioç‰ˆæœ¬ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

### 3.3. ç¼–è¯‘æ„å»º

- **å®‰è£…å¿…è¦å·¥å…·**ï¼šåœ¨ä¸€å°å…¨æ–°çš„æœåŠ¡å™¨ä¸Šï¼Œéœ€è¦å…ˆå®‰è£…dockerå’Œk8sã€‚ç”±äºrancherèƒ½ç®¡ç†k8sé›†ç¾¤ï¼Œå¯ç›´æ¥å®‰è£…rancherã€‚ä¾‹å¦‚ï¼Œå®‰è£…dockerçš„æ­¥éª¤åŒ…æ‹¬è®¾ç½®dockerå­˜å‚¨åº“ã€æ·»åŠ å®˜æ–¹ç§˜é’¥ã€è®¾ç½®ç¨³å®šå­˜å‚¨åº“ï¼Œç„¶åå®‰è£…æŒ‡å®šç‰ˆæœ¬çš„dockerã€‚



- **æ„å»ºè¿‡ç¨‹**ï¼šæ ¹æ®æºç æä¾›çš„æ„å»ºæ–‡æ¡£ï¼Œä½¿ç”¨ç›¸åº”çš„æ„å»ºå·¥å…·ï¼ˆå¦‚Mavenç­‰ï¼‰è¿›è¡Œç¼–è¯‘æ„å»ºã€‚



### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

- **å®‰è£…rancher**ï¼šä½¿ç”¨å‘½ä»¤`sudo docker run -d --privileged --restart=unless-stopped -p 443:443 rancher/rancher:v2.5.2`è¿›è¡Œå®‰è£…ã€‚å®‰è£…å®Œæˆåï¼Œä½¿ç”¨å…¬ç½‘ip + 443ç«¯å£æ‰“å¼€rancheré¡µé¢ï¼Œè®¾ç½®å¯†ç ï¼Œå»æ‰allow collection of anonymous statisticsï¼Œå‹¾é€‰ä¸ŠI agree to the Terms and Conditions for using Rancherã€‚



- **é…ç½®k8sé›†ç¾¤**ï¼šè¿›å…¥rancheråï¼Œadd clusterï¼Œåé¢å¯ä»¥åœ¨å³ä¸‹è§’é€‰æ‹©æŠŠè¯­è¨€åˆ‡æ¢æˆä¸­æ–‡ã€‚é€‰æ‹©è‡ªå®šä¹‰ï¼Œä¿®æ”¹yamlæ–‡ä»¶ï¼Œåœ¨kube_apiéƒ¨åˆ†ç”¨æŒ‡å®šå†…å®¹æ›¿æ¢ï¼Œå¹¶æ–°å¢kubeletéƒ¨åˆ†ï¼Œæ³¨æ„ç©ºæ ¼å¯¹é½ã€‚ä¸»æœºé€‰é¡¹æŠŠä»¥ä¸Šä¸‰ä¸ªè§’è‰²éƒ½å‹¾é€‰ï¼Œå¹¶å¤åˆ¶å‘½ä»¤åˆ°æœåŠ¡å™¨ä¸­æ‰§è¡Œï¼Œç‚¹å‡»å®Œæˆã€‚



- **å®‰è£…cube-studio**ï¼šä¸‹è½½cube-studioåï¼Œç‚¹å‡»è¿›å…¥é›†ç¾¤ï¼Œæ‰“å¼€kubeconfigæ–‡ä»¶ï¼Œç‚¹å‡»å·¦ä¸‹æ–¹çš„å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œåœ¨æœåŠ¡å™¨ä¸­åˆ‡æ¢åˆ°/cube-studio/install/kubernetesç›®å½•ä¸‹ï¼Œæ–°å¢ä¸€ä¸ªconfigæ–‡ä»¶ï¼Œå°†å¤åˆ¶çš„å†…å®¹æ·»åŠ åˆ°configæ–‡ä»¶ä¸­ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤`sudo sh start.sh [å†…ç½‘ip]`ï¼ˆè¿™é‡Œçš„ipè®°å¾—æ”¹æˆå®é™…çš„å†…ç½‘ipï¼‰ã€‚è¿è¡Œç»“æŸåï¼Œæ‰“å¼€å¤–ç½‘ipï¼Œå¦‚http://[å¤–ç½‘ip]ï¼Œè¿˜éœ€è¦ç§»åŠ¨ä¸€ä¸‹å‘½åç©ºé—´ï¼Œèƒ½æ‰“å¼€å³ä¸ºæˆåŠŸã€‚è‹¥ä¸æˆåŠŸï¼Œå¯ä»¥åœ¨rancherä¸­æŸ¥çœ‹æ˜¯å“ªä¸ªç»„ä»¶å®‰è£…å¤±è´¥ï¼Œæœ‰æ—¶å€™æ˜¯å› ä¸ºç½‘ç»œé—®é¢˜æ‹‰å–é•œåƒå¤±è´¥ï¼Œå¯ä»¥é‡æ–°æ‹‰å–ä¸€æ¬¡ï¼Œæˆ–è€…éœ€è¦æ‰‹åŠ¨æ‹‰å–ï¼Œæˆ–æbugç»™å¼€æºé¡¹ç›®ã€‚



### 3.5. å¯é€‰é…ç½®

- **é•œåƒç®¡ç†**ï¼šä½¿ç”¨ç§æœ‰é•œåƒä»“åº“ï¼ˆå¦‚Harborï¼‰å­˜å‚¨Cube-StudioåŠç›¸å…³ä¾èµ–é•œåƒï¼Œé¿å…é•œåƒæ‹‰å–å¤±è´¥ã€‚
- **èµ„æºéš”ç¦»**ï¼šé…ç½®Kubernetes Namespaceså’ŒResource Quotasï¼Œå®ç°ç§Ÿæˆ·é—´èµ„æºéš”ç¦»ã€‚
- **ç‰ˆæœ¬å…¼å®¹**ï¼šç¡®ä¿Cube-Studioç‰ˆæœ¬ä¸Kubernetesã€Dockerç‰ˆæœ¬å…¼å®¹ï¼Œé¿å…APIä¸å…¼å®¹é—®é¢˜ã€‚



### 3.6. ç›‘æ§ä¸è¿ç»´

#### 3.6.1. **å¥åº·æ£€æŸ¥**

- é…ç½®`livenessProbe`å’Œ`readinessProbe`ï¼Œé¿å…åƒµå°¸Podå ç”¨èµ„æºã€‚
- ç›‘æ§å…³é”®æŒ‡æ ‡ï¼š`kube_pod_container_status_restarts_total`ã€`etcd_server_has_leader`ã€‚

#### 3.6.2. **æ—¥å¿—ç®¡ç†**

- ä½¿ç”¨EFKï¼ˆElasticsearch+Fluentd+Kibanaï¼‰é›†ä¸­å­˜å‚¨æ—¥å¿—ï¼Œä¿ç•™å‘¨æœŸâ‰¥30å¤©ã€‚
- å…³é”®é”™è¯¯ï¼ˆå¦‚`OOMKilled`ï¼‰éœ€é…ç½®å‘Šè­¦è§„åˆ™ã€‚

#### 3.6.3. **å¤‡ä»½æ¢å¤**

- å®šæœŸå¤‡ä»½`etcd`æ•°æ®ï¼ˆå»ºè®®æ¯å°æ—¶å¢é‡å¤‡ä»½ï¼Œæ¯å¤©å…¨é‡å¤‡ä»½ï¼‰ã€‚
- æ¢å¤æµ‹è¯•éœ€åœ¨éš”ç¦»ç¯å¢ƒéªŒè¯ï¼Œé¿å…ç”Ÿäº§ç¯å¢ƒæ•°æ®æ±¡æŸ“ã€‚



## 4. è®¿é—®æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°é¡µé¢

#### 4.1.1. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-åŠŸèƒ½æ¦‚è§ˆ-æœºå™¨å­¦ä¹ ä¸­å¿ƒ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498800663-80335a61-7910-472f-8939-7bd744508ec4.jpeg)

#### 4.1.2. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-æ–°å»ºæµæ°´çº¿**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498805756-a36be74e-ac7f-4c91-80fe-e984462d4542.jpeg)

#### 4.1.3. **å†³ç­–æ ‘è®­ç»ƒéƒ¨ç½²**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498821322-9c9bc004-05fe-41be-a68b-19683f22953f.jpeg)

#### 4.1.4. **é¡¹ç›®ç©ºé—´-é¡¹ç›®åˆ†ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498826664-309191dc-bf29-4c07-b1af-90b8b32ec5e6.jpeg)

#### 4.1.5. **æ·»åŠ é¡¹ç›®åˆ†ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498850412-b5d5078c-b9ae-4283-9a30-58debd472570.jpeg)

#### 4.1.6. **é¡¹ç›®åˆ†ç»„è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498856680-62a7faf9-cd8f-453b-a67f-9baa7cc69fd3.jpeg)

#### 4.1.7. **ä¿®æ”¹é¡¹ç›®åˆ†ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498883733-fc7221f5-9692-41ad-a68a-6731d4df27c4.jpeg)

#### 4.1.8. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-é¡¹ç›®ç©ºé—´-æ¨¡ç‰ˆåˆ†ç±»**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498889299-0afdeae1-69f1-4292-8db2-825f5027151d.jpeg)

#### 4.1.9. **æ·»åŠ æ¨¡ç‰ˆåˆ†ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498900004-75e4290f-2078-44d7-bc09-69a250dbec7d.jpeg)

#### 4.1.10. **æ¨¡ç‰ˆåˆ†ç»„è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498910864-ef031686-0c20-4c45-b14e-838a8b176c37.jpeg)

#### 4.1.11. **ä¿®æ”¹æ¨¡ç‰ˆåˆ†ç»„**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498920805-628d7ad5-7855-41ed-95f4-3ecf883eb6e1.jpeg)

#### 4.1.12. **é¡¹ç›®ç©ºé—´-å®‰å…¨è®¾ç½®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498933631-e818354b-0f84-4788-a3ee-4b9bb2ffcea7.jpeg)

#### 4.1.13. **æ·»åŠ ç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498951584-6f298048-6ad5-4051-bb11-9a97ab28d18a.jpeg)

#### 4.1.14. **ç”¨æˆ·è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498955268-2d3bb486-dd00-414b-a448-161012e1ab86.jpeg)

#### 4.1.15. **ä¿®æ”¹ç”¨æˆ·**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498967238-bd9e11d0-c549-43d1-9940-5e0398153fc8.jpeg)

#### 4.1.16. **é¡¹ç›®ç©ºé—´-æ—¥å¿—åˆ—è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498977862-51d90877-dfd0-4b77-a780-5f5cec9fac4b.jpeg)

#### 4.1.17. **æ•°æ®èµ„äº§-æ•°æ®æ¢ç´¢-sqllab**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498989036-b652c9be-33b1-4eae-b2f3-e8c8cb0a4075.jpeg)

#### 4.1.18. **ä»»åŠ¡è¯¦æƒ…**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750498998551-02769445-d0be-4caa-a580-5b899e2b09d1.jpeg)

#### 4.1.19. **æ•°æ®èµ„äº§-å…ƒæ•°æ®-åº“è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499009680-8dfe29b8-6818-48b5-baf7-706e51a8fb37.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499019325-fee74fe5-94cf-4896-ad0f-b185fdbaf58d.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499034376-6a9ebf96-0231-4d58-811b-12a248da3fb8.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499039150-7a046eaa-0fc3-4634-9df3-06a59915ce8c.jpeg)

#### 4.1.20. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-æ•°æ®èµ„äº§-å…ƒæ•°æ®-æŒ‡æ ‡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499053824-97fec234-e8fe-4449-ac85-25898ba21744.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499068235-66a6cc91-bb1b-4383-9ba2-2c59324f49ff.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499068423-fd07110c-ffc3-468d-b348-f982a22dc063.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499070742-5ee75798-6d40-4780-a2da-948fa6cd74df.jpeg)

#### 4.1.21. **æ•°æ®èµ„äº§-å…ƒæ•°æ®-ç»´è¡¨**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499084848-835a22b1-254a-41cc-b311-5b612c24bd34.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499084317-24be1665-a7bb-40f3-8194-850cd87a2429.jpeg)

#### 4.1.22. **æ•°æ®èµ„äº§-åª’ä½“æ•°æ®-æ•°æ®é›†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499103754-49387ab7-3bf1-420c-8fec-b3eea9a95893.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499103766-bd832f67-c01c-4160-86b2-20e0e0012476.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499103492-e4d62252-c897-413b-9ff5-29b437930246.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499104083-6739f66e-11db-4664-bf39-5dcfdd23a7e2.jpeg)

#### 4.1.23. **å¯¼å‡ºæ•°æ®**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499109502-f1507ee1-a536-4642-a4ef-edb3ed032523.jpeg)

#### 4.1.24. **åœ¨çº¿å¼€å‘-é•œåƒä»“åº“**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499147831-f3397335-f7d0-410e-8bbb-ab3291adb3ad.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499147531-cea2f66e-d25e-4980-9e77-a04120d02691.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499147755-b86f3f36-f45f-43c8-92db-134f1d9004f7.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499147728-898883c8-d3b4-4186-8c9d-2137383a195b.jpeg)

#### 4.1.25. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-åœ¨çº¿å¼€å‘-é•œåƒæ„å»º**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499181306-41aa219c-7ea8-43d9-8cc9-f42a95248653.jpeg)

#### 4.1.26. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-åœ¨çº¿å¼€å‘-é•œåƒç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499189457-fa50c302-23a9-4111-bc48-3e30067cc460.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499203649-cc1421b9-0857-46af-9fc5-e31a25a8ab04.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499203008-26b3e112-43f7-4f4a-bac0-9bb7067d8225.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499202467-9b37b41a-2311-4c3c-aa02-d7a33e246351.jpeg)

#### 4.1.27. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-åœ¨çº¿å¼€å‘-ä»£ç å¼€å‘-notebook**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499213427-c69db03a-6078-4a03-8232-da3ccbdb2bb2.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499213627-b739cd6b-d552-4c7f-b19f-6b1d9b8aab32.jpeg)

#### 4.1.28. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-åœ¨çº¿å¼€å‘-æ•°æ®å¼€å‘-ä»»åŠ¡ETL**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499227885-6de0d9aa-e41b-43a0-a1ef-520f37ae5bf6.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499227827-8d00fdce-f43a-4903-bd8f-37d776528fed.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499227643-4e5ba8ad-f1c3-43df-9564-0998549e8739.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499227690-96de2aac-bc7b-4fea-a6c3-9078e72df0eb.jpeg)

#### 4.1.29. **æœºå™¨å­¦ä¹ ç®—æ³•å¹³å°-åœ¨çº¿å¼€å‘-æ•°æ®å¼€å‘-ä»»åŠ¡ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499243721-904a1497-00fa-4394-8b86-6636afc59aa9.jpeg)

#### 4.1.30. **æ¨¡å‹è®­ç»ƒ-ä»»åŠ¡æ¨¡ç‰ˆ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499266219-89909ef9-1707-4166-a305-74fe17524d58.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499266205-8fa5a3eb-0c7a-4e98-8868-145cb3654d2d.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499266176-203c772e-6578-47b3-9d9a-136230b1af5f.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499266277-905bd281-1d5f-421d-85ac-371b4c0bae89.jpeg)

#### 4.1.31. **æ¨¡å‹è®­ç»ƒ-ä»»åŠ¡æµ**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499277410-79a5a4a7-ba21-49a7-a42c-1a316eb5dae3.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499277302-01162275-3c82-45b4-949f-255cc1639237.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499277308-c5018e01-4e52-4e00-a7a5-53ed785d1ea3.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499277313-08f5b12f-4881-4231-bc68-496a2d18698b.jpeg)

#### 4.1.32. **æ¨¡å‹è®­ç»ƒ-ä»»åŠ¡æµ-å®šæ—¶è°ƒåº¦**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499302312-ba465271-d835-436a-bb7c-61f74cfd3fa2.jpeg)

#### 4.1.33. **æ¨¡å‹è®­ç»ƒ-ä»»åŠ¡æµ-è¿è¡Œå®ä¾‹**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499306257-4a37c563-77c8-4faf-b717-8e5bf9c23565.jpeg)

#### 4.1.34. **æ¨¡å‹è®­ç»ƒ-Automl-è¶…å‚æœç´¢**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499389704-78bf5664-919d-45c6-b479-66f49067e7b3.jpeg)

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499403268-0323bd46-5969-4e1d-a3a4-aca3152d8368.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499402915-a0063a7d-40d0-4f4e-bde0-0f8726be2dc5.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499403599-9d4f7f75-d093-4ffe-bb90-a65949654d53.jpeg)

#### 4.1.35. **æœåŠ¡åŒ–-æ•´ä½“èµ„æº**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499440900-fe4bfe2c-cdb9-4a6d-bc4c-10cc2ee8a67a.jpeg)

#### 4.1.36. **æœåŠ¡åŒ–-å†…éƒ¨æœåŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499436584-ad51f8c8-5e0b-4008-8f60-39dda1bb3790.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499436241-3a5d2db6-b0e2-4c37-85c6-694eec1e9ee5.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499435877-c80fa19f-a87e-4c07-b89f-54d32d6e3941.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499436804-19202318-9a60-4f0b-9f47-99dca9c25b20.jpeg)

#### 4.1.37. **æœåŠ¡åŒ–-æ¨¡å‹æœåŠ¡-æ¨¡å‹ç®¡ç†**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499466025-994155f0-1966-4e65-ae68-cfc100ebf681.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499466051-3e0620e0-5aad-412f-9959-9867bf3be9e6.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499466108-9f800498-a14c-4add-86a8-4387ca002476.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499466157-8bea2009-fe98-40e1-9695-b425e7218407.jpeg)

#### 4.1.38. **æœåŠ¡åŒ–-æ¨¡å‹æœåŠ¡-æ¨ç†æœåŠ¡**

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499482658-19544a26-51db-4603-936a-9b927ee877e4.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499482575-e1cd076b-4595-428e-b933-7608650ab0b7.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499482612-5dbe1c81-7977-43e1-8ba7-83cc74920b86.jpeg)![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750499482739-8e7efb27-24c0-44c9-92de-16e15bd5e55a.jpeg)





## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 5.1. **Podå¯åŠ¨å¤±è´¥**

- æ£€æŸ¥`kubectl describe pod`ä¸­çš„`Events`ï¼Œå¸¸è§åŸå› åŒ…æ‹¬é•œåƒæ‹‰å–å¤±è´¥ã€èµ„æºä¸è¶³ã€æƒé™é—®é¢˜ã€‚
- ä½¿ç”¨`kubectl logs --previous`æŸ¥çœ‹å‰ä¸€ä¸ªå®¹å™¨çš„æ—¥å¿—ã€‚

### 5.2. **æœåŠ¡ä¸å¯ç”¨**

- æ£€æŸ¥Ingressçš„`Backend`çŠ¶æ€ï¼Œå¦‚ä¸º`UNHEALTHY`éœ€è°ƒæ•´å¥åº·æ£€æŸ¥å‚æ•°ã€‚
- ä½¿ç”¨`telnet`æµ‹è¯•ç«¯å£è¿é€šæ€§ï¼Œç¡®è®¤é˜²ç«å¢™è§„åˆ™ã€‚

### 5.3. **æ€§èƒ½ç“¶é¢ˆ**

- ä½¿ç”¨`kubectl top`ç›‘æ§èŠ‚ç‚¹èµ„æºä½¿ç”¨ç‡ï¼ŒCPUè¶…è¿‡80%éœ€æ‰©å®¹ã€‚
- æ£€æŸ¥å­˜å‚¨IOPSï¼Œå¦‚ä½äº1000éœ€ä¼˜åŒ–å­˜å‚¨é…ç½®ã€‚





------



# **å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°(bisheng)**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°åŠŸèƒ½ç®€ä»‹

ç‚¹å‡»æŸ¥çœ‹è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1r289z1E4K/?spm_id_from=333.1387.upload.video_card.click

### 2.1. å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°åŸºäºå¼€æºé¡¹ç›® BISHENG å»ºè®¾

AllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆé›†æˆBISHENGå¼€æºé¡¹ç›®ä¸ºå¤§æ¨¡å‹åº”ç”¨å¹³å°ï¼ŒBISHENG æ˜¯ä¸€ä¸ªé¢å‘ä¸‹ä¸€ä»£ä¼ä¸š AI åº”ç”¨çš„å¼€æ”¾å¼ LLM DevOps å¹³å°ã€‚å…¶å¼ºå¤§è€Œå…¨é¢çš„åŠŸèƒ½åŒ…æ‹¬ï¼šGenAI å·¥ä½œæµã€RAGã€Agentã€ç»Ÿä¸€æ¨¡å‹ç®¡ç†ã€è¯„ä¼°ã€SFTã€æ•°æ®é›†ç®¡ç†ã€ä¼ä¸šçº§ç³»ç»Ÿç®¡ç†ã€å¯è§‚å¯Ÿæ€§ç­‰ã€‚



BISHENGé¡¹ç›®åœ°å€ï¼šhttps://github.com/dataelement/bisheng

BISHENGå®˜æ–¹æ–‡æ¡£ï¼šhttps://dataelem.feishu.cn/wiki/V7jewstK1iHsuukMgjJckPzNnNb



### 2.2.  å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°åŠŸèƒ½æŠ€æœ¯ç‰¹æ€§ï¼š

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754712549355-0f81717f-02a9-4554-9a26-42518d2b7f24.jpeg)

#### 2.2.1.  ç‹¬ç«‹ä¸”å…¨é¢çš„åº”ç”¨ç¼–æ’æ¡†æ¶ 

æ”¯æŒåœ¨å•ä¸€æ¡†æ¶å†…æ‰§è¡Œå„ç§ä»»åŠ¡ï¼ˆè€ŒåŒç±»äº§å“åˆ™ä¾èµ–äºæœºå™¨äººè°ƒç”¨ï¼Œæˆ–ä¸ºä¸åŒä»»åŠ¡åˆ†åˆ«è®¾ç½®èŠå¤©æµç¨‹å’Œå·¥ä½œæµæ¨¡å—ï¼‰ã€‚

#### 2.2.2.  äººæœºäº¤äº’ 

å…è®¸ç”¨æˆ·åœ¨å·¥ä½œæµï¼ˆåŒ…æ‹¬å¤šè½®å¯¹è¯ï¼‰æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œå¹²é¢„å¹¶æä¾›åé¦ˆï¼Œè€ŒåŒç±»äº§å“åªèƒ½ä»å¤´åˆ°å°¾æ‰§è¡Œå·¥ä½œæµï¼Œæ— äººå¹²é¢„ã€‚

#### 2.2.3.  åŠŸèƒ½å¼ºå¤§ 

æ”¯æŒå¾ªç¯ã€å¹¶è¡Œã€æ‰¹å¤„ç†ã€æ¡ä»¶é€»è¾‘ï¼Œæ‰€æœ‰é€»è¾‘ç»„ä»¶å‡å¯è‡ªç”±ç»„åˆã€‚å®ƒè¿˜èƒ½å¤„ç†å¤šç±»å‹è¾“å…¥/è¾“å‡ºã€æŠ¥è¡¨ç”Ÿæˆã€å†…å®¹å®¡æ ¸ç­‰å¤æ‚åœºæ™¯ã€‚

#### 2.2.4. äººæ€§åŒ–ä¸”ç›´è§‚ 

å¾ªç¯ã€å¹¶è¡Œå’Œæ‰¹å¤„ç†ç­‰æ“ä½œåœ¨åŒç±»äº§å“ä¸­éœ€è¦ä¸“é—¨çš„ç»„ä»¶ï¼Œåœ¨ BISHENG ä¸­å¯ä»¥è½»æ¾ä»¥â€œæµç¨‹å›¾â€çš„å½¢å¼å¯è§†åŒ–ï¼ˆç»˜åˆ¶å¾ªç¯å³å¯å½¢æˆå¾ªç¯ï¼Œå¯¹é½å…ƒç´ å³å¯åˆ›å»ºå¹¶è¡Œï¼Œé€‰æ‹©å¤šä¸ªå…ƒç´ å³å¯è¿›è¡Œæ‰¹å¤„ç†ï¼‰ã€‚

#### 2.2.5. ä¸“ä¸ºä¼ä¸šåº”ç”¨è®¾è®¡ 

æ–‡æ¡£å®¡æŸ¥ã€å›ºå®šå¸ƒå±€æŠ¥å‘Šç”Ÿæˆã€å¤šä»£ç†åä½œã€ç­–ç•¥æ›´æ–°æ¯”è¾ƒã€æ”¯æŒç¥¨è¯ååŠ©ã€å®¢æˆ·æœåŠ¡ååŠ©ã€ä¼šè®®è®°å½•ç”Ÿæˆã€ç®€å†ç­›é€‰ã€é€šè¯è®°å½•åˆ†æã€éç»“æ„åŒ–æ•°æ®æ²»ç†ã€çŸ¥è¯†æŒ–æ˜ã€æ•°æ®åˆ†æç­‰ã€‚

#### 2.2.6. ä¼ä¸šçº§ç‰¹æ€§æ˜¯åº”ç”¨å®ç°çš„æ ¹æœ¬ä¿éšœ 

å®‰å…¨å®¡æŸ¥ã€RBACã€ç”¨æˆ·ç»„ç®¡ç†ã€æŒ‰ç»„é™æµã€SSO/LDAPã€æ¼æ´æ‰«æåŠä¿®è¡¥ã€é«˜å¯ç”¨éƒ¨ç½²æ–¹æ¡ˆã€ç›‘æ§ã€ç»Ÿè®¡ç­‰ç­‰ã€‚



### 2.3.  å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°åŠŸèƒ½ç‰¹ç‚¹ï¼š

-  ä¼ä¸šçº§é«˜å¯ç”¨æ¶æ„
- é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼éƒ¨ç½²
- å®‰å…¨åˆè§„ä¸æƒé™æ§åˆ¶
- é«˜ç²¾åº¦æ–‡æ¡£è§£æä¸æ£€ç´¢
- çµæ´»çš„æ¨¡å‹ç®¡ç†ä¸ä¼˜åŒ–
- ä½ä»£ç å¼€å‘ä¸å¿«é€Ÿè½åœ°
- æŠ€æœ¯ç”Ÿæ€ä¸æ‰©å±•æ€§





## 3. AllDataæ•°æ®ä¸­å°- å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486632284-b55be3c6-bd74-4c9a-8417-2926228d8adb.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡ï¼šæ„å»ºé«˜å¯ç”¨åŸºç¡€è®¾æ–½

ğŸ’¡ **ç¡¬ä»¶é…ç½®ï¼š**

- **GPUæœåŠ¡å™¨**ï¼šæ¨èNVIDIA A100/A10 80GBæ˜¾å­˜ï¼Œæ”¯æŒåƒäº¿å‚æ•°æ¨¡å‹æ¨ç†ï¼›è‹¥èµ„æºæœ‰é™ï¼Œå¯ä½¿ç”¨T4æˆ–RTX 4090ï¼ˆéœ€éªŒè¯FP16ç²¾åº¦ï¼‰ã€‚
- **å­˜å‚¨**ï¼šSSDå›ºæ€ç¡¬ç›˜â‰¥500GBï¼ˆæ¨¡å‹å­˜å‚¨+ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼Œå»ºè®®RAID 10é˜µåˆ—ä¿éšœæ•°æ®å®‰å…¨ã€‚
- **ç½‘ç»œ**ï¼šåƒå…†ä»¥å¤ªç½‘æ¥å£ï¼Œå…¬ç½‘å¸¦å®½â‰¥100Mbpsï¼ˆè‹¥éœ€å¯¹å¤–æä¾›APIæœåŠ¡ï¼‰ã€‚



ğŸ’¡ **è½¯ä»¶ä¾èµ–é…ç½®ï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 20.04 LTSï¼ˆå†…æ ¸â‰¥5.4ï¼‰æˆ–CentOS 7.9ï¼Œéœ€å…³é—­SELinuxå¹¶é…ç½®é˜²ç«å¢™è§„åˆ™ï¼ˆä»…å¼€æ”¾8090-8092ã€9000-9100ç«¯å£ï¼‰ã€‚
- **å®¹å™¨åŒ–ç¯å¢ƒ**ï¼šDocker 24.0+ + Docker Compose v2.20+ï¼Œæˆ–Kubernetes 1.25+ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰ã€‚
- **ä¾èµ–ç®¡ç†**ï¼š

- **Python**ï¼š3.8-3.10ï¼ˆé€šè¿‡`conda create -n bisheng python=3.8`åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼‰ã€‚
- **Java**ï¼šOpenJDK 11ï¼ˆé…ç½®`JAVA_HOME`å¹¶æ·»åŠ è‡³`PATH`ï¼‰ã€‚
- **Node.js**ï¼š16.xï¼ˆå‰ç«¯å¼€å‘ä¾èµ–ï¼Œé€šè¿‡`nvm install 16`å®‰è£…ï¼‰ã€‚

- **GPUé©±åŠ¨**ï¼šNVIDIA Driver 535.86.05+ + CUDA 11.8 + cuDNN 8.6ï¼ˆé€šè¿‡`nvidia-smi`éªŒè¯é©±åŠ¨çŠ¶æ€ï¼‰ã€‚



ğŸ’¡ **å®‰å…¨åŠ å›ºï¼š**

- é…ç½®SSHå¯†é’¥ç™»å½•ï¼Œç¦ç”¨rootè¿œç¨‹ç™»å½•ã€‚
- å¯ç”¨TLS 1.2+åŠ å¯†ï¼Œç”Ÿæˆè‡ªç­¾åè¯ä¹¦æˆ–ç”³è¯·CAè¯ä¹¦ç»‘å®šè‡³GatewayæœåŠ¡ã€‚
- ä½¿ç”¨`fail2ban`é˜²æ­¢æš´åŠ›ç ´è§£ï¼Œé…ç½®`iptables`é™åˆ¶è®¿é—®IPã€‚



### 3.2. æºç ç¼–è¯‘éƒ¨ç½²è·å–å®‰è£…åŒ…

- ç”Ÿäº§ç¯å¢ƒæ¨èç¨³å®šç‰ˆæœ¬ï¼ˆå¦‚v0.3.0ï¼‰ï¼Œå¼€å‘ç¯å¢ƒå¯åˆ‡æ¢è‡³`dev`åˆ†æ”¯è·å–æœ€æ–°ç‰¹æ€§ã€‚

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```



#### 3.2.1. **é›†ç¾¤éƒ¨ç½²**

ğŸ’¡**è´Ÿè½½å‡è¡¡**ï¼š

ğŸ’¡**Nginxé…ç½®**ï¼š

```javascript
upstream bisheng_gateway {
    server 192.168.1.101:8091;
    server 192.168.1.102:8091;
    server 192.168.1.103:8091;
}
server {
    listen 80;
    location / {
        proxy_pass http://bisheng_gateway;
        proxy_set_header Host $host;
    }
}
```



#### 3.2.2. **Kuberneteséƒ¨ç½²**

- **èµ„æºå®šä¹‰**ï¼ˆ`bisheng-deployment.yaml`ï¼‰ï¼š

```javascript
apiVersion: apps/v1
kind: Deployment
metadata:
  name: bisheng-manager
spec:
  replicas: 3
  selector:
    matchLabels:
      app: bisheng-manager
  template:
    metadata:
      labels:
        app: bisheng-manager
    spec:
      containers:
      - name: bisheng
        image: bisheng:0.3.0
        ports:
        - containerPort: 8090
        resources:
          limits:
            nvidia.com/gpu: 1  # æ¯ä¸ªPodåˆ†é…1å—GPU
```

- **æœåŠ¡æš´éœ²**ï¼š

```javascript
kubectl apply -f bisheng-deployment.yaml
kubectl expose deployment bisheng-manager --type=LoadBalancer --port=8090
```



#### 3.2.3. **æ€§èƒ½ç›‘æ§**

- **Prometheusé›†æˆ**ï¼š
- ä¿®æ”¹`config.ini`å¯ç”¨Metricsç«¯ç‚¹ï¼š

```javascript
[metrics]
ENABLED=true
PORT=9091
```

- åœ¨Prometheusé…ç½®æ–‡ä»¶ä¸­æ·»åŠ æŠ“å–ä»»åŠ¡ï¼š

```javascript
scrape_configs:
  - job_name: 'bisheng'
    static_configs:
      - targets: ['192.168.1.100:9091']
```

- **Grafanaçœ‹æ¿**ï¼šå¯¼å…¥IDä¸º`12345`çš„å®˜æ–¹æ¨¡æ¿ï¼Œå®æ—¶ç›‘æ§QPSã€å“åº”æ—¶é—´åŠé”™è¯¯ç‡ã€‚



### 3.3. å¯é€‰é…ç½®ï¼šåŠŸèƒ½æ‰©å±•ä¸å®šåˆ¶åŒ–

- **é›†æˆç¬¬ä¸‰æ–¹æ¨¡å‹**ï¼š
- ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼ˆå¦‚`chatglm3-6b`ï¼‰ï¼š

```javascript
git lfs install
git clone https://huggingface.co/THUDM/chatglm3-6b
cd chatglm3-6b
git lfs pull
```

1. ä¿®æ”¹`config.ini`é…ç½®æ¨¡å‹è·¯å¾„ï¼š

```javascript
[model]
PATH=/opt/models/chatglm3-6b
TYPE=llama  # æ”¯æŒllama/chatglm/gpt2ç­‰
```



### 3.4. å¯é€‰é…ç½®ï¼šå¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

#### 3.4.1. **GPUé©±åŠ¨å†²çª**

- **ç°è±¡**ï¼š`nvidia-smi`æŠ¥é”™æˆ–CUDAç‰ˆæœ¬ä¸åŒ¹é…ã€‚
- **è§£å†³**ï¼š

- å¸è½½æ—§é©±åŠ¨ï¼š

```javascript
sudo apt purge nvidia-*
```

å®‰è£…æŒ‡å®šç‰ˆæœ¬é©±åŠ¨ï¼š

```javascript
sudo apt install nvidia-driver-535
```

#### 3.4.2. **ç«¯å£å ç”¨**

- **ç°è±¡**ï¼š`docker-compose up`æŠ¥é”™`Port already in use`ã€‚
- **è§£å†³**ï¼š

- æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
- ç»ˆæ­¢è¿›ç¨‹æˆ–ä¿®æ”¹ç«¯å£é…ç½®ã€‚

```javascript
sudo lsof -i :8090
```



#### 3.4.3. **æ¨¡å‹åŠ è½½å¤±è´¥**

- **ç°è±¡**ï¼šæ—¥å¿—æŠ¥é”™`Failed to load model`ã€‚
- **è§£å†³**ï¼š

- æ£€æŸ¥æ¨¡å‹æ–‡ä»¶å®Œæ•´æ€§ï¼š

```javascript
ls -lh /opt/models/chatglm3-6b/.git/lfs/objects
```

- é‡æ–°ä¸‹è½½æ¨¡å‹ï¼š

```javascript
git lfs fetch --all
```

## 4. è®¿é—® å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°é¡µé¢

#### 4.1.1. ä¼šè¯

ä¼šè¯åŠŸèƒ½æ”¯æŒå¤šè½®äº¤äº’ä¸ä¸Šä¸‹æ–‡è®°å¿†ï¼Œå¯è‡ªç„¶ç†è§£ç”¨æˆ·æ„å›¾ï¼Œå®ç°æ™ºèƒ½é—®ç­”ã€ä»»åŠ¡è¿ç»­å¤„ç†ç­‰åœºæ™¯åŒ–å¯¹è¯

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713744625-b2968614-6eb0-4a88-bef7-ec8b2468b36a.jpeg)

#### 4.1.2. æ„å»º

æä¾›å¯è§†åŒ–ä½ä»£ç å·¥å…·ï¼Œæ”¯æŒæ‹–æ‹½ç»„ä»¶å¿«é€Ÿæ­å»ºAIåº”ç”¨ï¼Œæ— ç¼é›†æˆå¤šæ¨¡å‹ä¸æ•°æ®æºï¼Œå®ç°é«˜æ•ˆå¼€å‘

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713953846-e65ceca8-50a5-41be-9dfc-af830ee601b6.jpeg)

#### 4.1.3. æ„å»º-è‡ªå®šä¹‰å·¥ä½œæµ

æ”¯æŒæ‹–æ‹½å¼ç¼–æ’å¤æ‚é€»è¾‘ï¼Œçµæ´»é›†æˆå¤šæ¨¡å‹ä¸å·¥å…·ï¼Œå®ç°ä¸ªæ€§åŒ–AIåº”ç”¨å¼€å‘

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713959192-367c5dbf-33b3-443f-8b2f-f4c0ccebdf96.jpeg)

#### 4.1.4. å¤§æ¨¡å‹å·¥ä½œæµå¼€å‘-æ™ºæ…§åŒ»ç–—åˆ†è¯Šåœºæ™¯ 

å¯æ™ºèƒ½è¯†åˆ«ç”¨æˆ·æ„å›¾å¹¶è‡ªåŠ¨è·¯ç”±è‡³å¯¹åº”å¤„ç†æ¨¡å—ï¼Œå®ç°é«˜æ•ˆä»»åŠ¡åˆ†æµä¸å“åº”

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713962183-d5825eff-dc69-4747-846e-6d7f6b0e9247.jpeg)

#### 4.1.5. å·¥ä½œæµæ‹–æ‹‰æ‹½-ç¼–è¾‘å¼€å‘

æ”¯æŒå¯è§†åŒ–æ‹–æ‹½ç»„ä»¶ï¼Œçµæ´»ä¸²è”å¤šæ¨¡å‹ä¸æ•°æ®å¤„ç†æ­¥éª¤ï¼Œå®ç°å¤æ‚AIä¸šåŠ¡æµç¨‹çš„è‡ªåŠ¨åŒ–æ„å»º

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713967939-e1da3764-9495-4707-bab2-67b4867c18cf.jpeg)

#### 4.1.6. æµç¨‹ç¼–æ’-ä¿å­˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713971116-5514b48f-ff31-46d8-bb7b-9fc91bf7ec2c.jpeg)

#### 4.1.7. å¯¹å¤–å‘å¸ƒ

æä¾›æ¨¡å‹éƒ¨ç½²ã€åº”ç”¨å¼€å‘åŠæ•°æ®æ²»ç†ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼Œæ”¯æŒä¼ä¸šå¿«é€Ÿæ„å»ºä¸éƒ¨ç½²å¤§æ¨¡å‹é©±åŠ¨çš„æ™ºèƒ½åº”ç”¨

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713974639-48e2d812-a388-4ca2-b86f-090859c58421.jpeg)

#### 4.1.8.  åˆ›å»ºå·¥ä½œæµ-å¤§æ¨¡å‹ç«æŠ€åœº

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713978430-42ac7a04-dacf-4add-9fb4-3f79854a1a73.jpeg)

#### 4.1.9. å·¥ä½œæµæ‹–æ‹‰æ‹½å¼€å‘

å¯ä»¥å¯è§†åŒ–æ‹–æ‹½å½¢å¼ï¼Œçµæ´»ç»„åˆæ¨¡å‹ã€å·¥å…·ä¸æ•°æ®æµï¼ŒåŠ©åŠ›å¿«é€Ÿæ„å»ºé«˜æ•ˆæ™ºèƒ½ä¸šåŠ¡å¤„ç†æµç¨‹

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713982125-049d486d-8552-4926-8685-6e4ee966adb4.jpeg)

#### 4.1.10. æµç¨‹ç¼–æ’-ä¿å­˜

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713985603-24f72d16-5a93-4d52-a725-7332d69fa2ec.jpeg)

#### 4.1.11. å·¥ä½œèŠ‚ç‚¹

æ”¯æŒçµæ´»é…ç½®æ•°æ®å¤„ç†ã€æ¨¡å‹è°ƒç”¨ç­‰ä»»åŠ¡ï¼Œå¯è‡ªç”±ç»„åˆæ„å»ºå¤æ‚æµç¨‹ï¼Œæ»¡è¶³å¤šæ ·åŒ–ä¸šåŠ¡éœ€æ±‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713989567-191ff196-8bd3-491c-939b-34937a200cd8.jpeg)

#### 4.1.12. è‡ªå®šä¹‰åŠ©æ‰‹

è‡ªå®šä¹‰åŠ©æ‰‹åŠŸèƒ½æ”¯æŒåŸºäºä¸šåŠ¡éœ€æ±‚å¿«é€Ÿæ„å»ºæ™ºèƒ½åº”ç”¨ï¼Œé€šè¿‡è¡¨å•å¡«å†™æˆ–æµç¨‹ç¼–æ’å®ç°é—®ç­”ã€æŠ¥å‘Šç”Ÿæˆç­‰åœºæ™¯åŒ–äº¤äº’

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713994266-c872eec7-9b59-42d0-8cc2-6be8bf062abc.jpeg)

#### 4.1.13. è‡ªå®šä¹‰æŠ€èƒ½

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754713998592-39b62082-066c-4727-9272-378eda80439e.jpeg)

#### 4.1.14. æŠ€èƒ½è®¾ç½®

æ”¯æŒçµæ´»é…ç½®AIåŠ©æ‰‹èƒ½åŠ›ï¼Œå¯è‡ªå®šä¹‰ä»»åŠ¡ç±»å‹ã€è§¦å‘æ¡ä»¶åŠæ‰§è¡Œé€»è¾‘ï¼Œæ»¡è¶³å¤šæ ·åŒ–ä¸šåŠ¡åœºæ™¯éœ€æ±‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714001654-090e501f-ea60-4eaa-a4ec-8e990cd1503a.jpeg)

#### 4.1.15. åˆ›å»ºçŸ¥è¯†åº“

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714005294-bb1349c3-0ca2-43fd-afb2-1e7c2fd13024.jpeg)

#### 4.1.16. æ•°æ®é›†

æ”¯æŒç»Ÿä¸€ç®¡ç†ã€è¯„ä¼°ä¸å¾®è°ƒæ•°æ®é›†ï¼Œæä¾›é«˜æ•ˆçš„æ•°æ®å¤„ç†èƒ½åŠ›

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714010939-cf131837-123a-4d9e-b909-c7552865ff97.jpeg)

#### 4.1.17. åˆ›å»ºæ•°æ®é›†

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714014050-6af21374-69c9-405c-9947-3a569b3fef58.jpeg)

#### 4.1.18. æ¨¡å‹é…ç½®

æ”¯æŒçµæ´»éƒ¨ç½²ã€è°ƒä¼˜åŠç›‘æ§å„ç±»AIæ¨¡å‹ï¼Œæä¾›ä¸€ç«™å¼ç®¡ç†ï¼Œç¡®ä¿æ¨¡å‹é«˜æ•ˆç¨³å®šè¿è¡Œ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714017487-bc191a5f-1bb4-402a-811f-e9562c2e86d8.jpeg)

#### 4.1.19. æ¨¡å‹é…ç½®-ä¿®æ”¹æˆåŠŸ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714021728-1f618be3-650c-4c47-bdaa-4713171b90fb.jpeg)

#### 4.1.20. è¯„æµ‹-æ–°å»ºä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714025024-43e6c612-3d0e-462a-9f34-941232b46300.jpeg)

#### 4.1.21. æ ‡æ³¨-åˆ›å»ºæ ‡æ³¨ä»»åŠ¡

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714028477-3847a4e6-16f0-40ad-a5d5-c3f28efc4d48.jpeg)

#### 4.1.22. å®¡è®¡

å¯¹æ•°æ®æ“ä½œã€ç³»ç»Ÿè®¿é—®ç­‰è¡Œä¸ºè¿›è¡Œå…¨é¢è®°å½•ä¸ç›‘æ§ï¼Œæä¾›ç»†ç²’åº¦æƒé™æ§åˆ¶ï¼Œç¡®ä¿æ•°æ®å®‰å…¨åˆè§„

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714032686-7f3315f2-ece9-4dd7-b902-4e624b6bc338.jpeg)

#### 4.1.23. ç³»ç»Ÿâ€”ç”¨æˆ·ç®¡ç†-åˆ›å»ºç”¨æˆ·

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714036135-ce42d63d-3c8f-4387-abf3-c700c352b2e3.jpeg)

#### 4.1.24. ç³»ç»Ÿâ€”ç”¨æˆ·ç®¡ç†

æ”¯æŒçµæ´»åˆ›å»ºã€é…ç½®ç”¨æˆ·ç»„åŠæƒé™ï¼Œå®ç°æˆå‘˜æ‰¹é‡ç®¡ç†ä¸ç²¾ç»†åŒ–è®¿é—®æ§åˆ¶

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714039505-dcf7a1eb-5769-47bd-b1b6-cb3005578648.jpeg)

#### 4.1.25. ç³»ç»Ÿ-è§’è‰²ç®¡ç†

æ”¯æŒç²¾ç»†åŒ–æƒé™åˆ’åˆ†ï¼Œå¯è‡ªå®šä¹‰è§’è‰²æƒé™ä¸æ•°æ®è®¿é—®èŒƒå›´ï¼Œä¿éšœå¤šå±‚çº§ä¸šåŠ¡å®‰å…¨é«˜æ•ˆåä½œ

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714042877-e3c034ef-aa08-4750-8feb-3774d579de9d.jpeg)

#### 4.1.26. ç³»ç»Ÿ-ç³»ç»Ÿç®¡ç†

ç³»ç»Ÿé…ç½®åŠŸèƒ½æ”¯æŒçµæ´»è°ƒæ•´å¹³å°å‚æ•°ä¸æ¨¡å—é€‰é¡¹ï¼Œå¯è‡ªå®šä¹‰æ•°æ®æºã€æƒé™åŠæµç¨‹è§„åˆ™ï¼Œæ»¡è¶³å¤šæ ·åŒ–ä¸šåŠ¡åœºæ™¯éœ€æ±‚

#### 4.1.27. ![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1754714046019-38a7e6ee-7b82-40d0-a5d8-9e7974e5c0da.jpeg)



## 5. AllDataæ•°æ®ä¸­å°å•†ä¸šç‰ˆé€šè¿‡é›†æˆBISHENGå¼€æºé¡¹ç›®ï¼Œå®ç°äº†ä»æ¨¡å‹è®­ç»ƒåˆ°APIæœåŠ¡çš„å…¨é“¾è·¯è‡ªåŠ¨åŒ–ã€‚å…¶éƒ¨ç½²æ ¸å¿ƒåœ¨äºï¼š

1. **ç¯å¢ƒæ ‡å‡†åŒ–**ï¼šé€šè¿‡Docker/Kuberneteså®ç°è·¨å¹³å°ä¸€è‡´æ€§ã€‚
2. **é…ç½®ä¸­å¿ƒåŒ–**ï¼šé›†ä¸­ç®¡ç†é…ç½®æ–‡ä»¶ï¼Œç®€åŒ–é›†ç¾¤éƒ¨ç½²ä¸åŠ¨æ€è°ƒæ•´ã€‚
3. **æ‰©å±•å¼€æ”¾åŒ–**ï¼šæä¾›æ’ä»¶æœºåˆ¶ä¸å¤šæ•°æ®æºæ”¯æŒï¼Œæ»¡è¶³ä¼ä¸šå®šåˆ¶åŒ–éœ€æ±‚ã€‚





------

# **åå°ç®¡ç†**

## 1. åœ¨çº¿ä½“éªŒ

ğŸ’¡ AllDataæ•°æ®ä¸­å°çº¿ä¸Šæ­£å¼ç¯å¢ƒï¼šhttp://43.138.156.44:5173/ui_moat/

- è´¦å·/å¯†ç ï¼šè”ç³»å¸‚åœºæ€»ç›‘è·å–è´¦å·å¯†ç 



## 2. ç³»ç»Ÿç®¡ç†åŠŸèƒ½ç®€ä»‹

AllDataæ•°æ®ä¸­å°åœ¨ç³»ç»Ÿç®¡ç†åŠŸèƒ½æ”¯æŒç”¨æˆ·ä¸è§’è‰²çš„çµæ´»åˆ›å»ºã€ç¼–è¾‘åŠæƒé™åˆ†é…ï¼Œç¡®ä¿æ•°æ®è®¿é—®çš„å®‰å…¨æ€§ä¸åˆè§„æ€§ã€‚é€šè¿‡ç›´è§‚çš„ç•Œé¢ï¼ŒåŒ…æ‹¬æ€§èƒ½æŒ‡æ ‡ã€æ—¥å¿—è®°å½•åŠå¼‚å¸¸å‘Šè­¦ï¼Œå®ç°å¿«é€Ÿå“åº”ä¸é—®é¢˜æ’æŸ¥ã€‚

### 2.1. ç³»ç»Ÿç®¡ç†åŠŸèƒ½ç‰¹ç‚¹ï¼š

- é›†ä¸­æƒé™ç®¡ç†
- ç³»ç»Ÿè¿ç»´ç›‘æ§
- èœå•ç®¡ç†
- ç”¨æˆ·æˆæƒç®¡ç†
- ç™»é™†ä¸ç¬¬ä¸‰æ–¹é›†æˆ



## 3. AllDataæ•°æ®ä¸­å°-ç³»ç»Ÿç®¡ç†-æºç ç¼–è¯‘éƒ¨ç½²å®‰è£…

ğŸ’¡**éƒ¨ç½²æ­¥éª¤**ï¼šç¯å¢ƒå‡†å¤‡ â†’ æºç è·å– â†’ ç¼–è¯‘æ„å»º â†’ éƒ¨ç½²åŠè¿è¡Œé…ç½® â†’ å¯é€‰é…ç½®ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/jpeg/26284577/1750486737612-2427943b-50cc-43b6-875d-909cdf9a05d7.jpeg)

### 3.1. ç¯å¢ƒå‡†å¤‡

ğŸ’¡ **åŸºç¡€ç¯å¢ƒï¼š**

- **æ“ä½œç³»ç»Ÿ**ï¼šLinuxï¼ˆæ¨èCentOS/Ubuntuï¼‰æˆ–macOSï¼Œç¡®ä¿ç³»ç»Ÿç‰ˆæœ¬æ”¯æŒJava 8+åŠMaven 3.0+ã€‚
- **Javaç¯å¢ƒ**ï¼šå®‰è£…JDK 1.8+ï¼Œé…ç½®`JAVA_HOME`ç¯å¢ƒå˜é‡ï¼ŒéªŒè¯å‘½ä»¤`java -version`ã€‚
- **æ•°æ®åº“**ï¼šMySQL 5.7+ï¼ˆæ¨èï¼‰ï¼Œéœ€æå‰åˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚`studio`ï¼‰å¹¶åˆ†é…æƒé™ï¼›Redis 3.0+ç”¨äºç¼“å­˜åŠ é€Ÿï¼›RabbitMQ 3.0.x+æ”¯æŒå¼‚æ­¥ä»»åŠ¡ã€‚
- **æ„å»ºå·¥å…·**ï¼šMaven 3.0+ç®¡ç†ä¾èµ–ï¼ŒNode.js 12.x+ï¼ˆå‰ç«¯æ„å»ºï¼‰ï¼ŒNginxç”¨äºéƒ¨ç½²é™æ€èµ„æºã€‚

ğŸ’¡ **ç½‘ç»œä¸æƒé™ï¼š**

- ç¡®ä¿æœåŠ¡å™¨å¯è®¿é—®å¤–ç½‘ï¼ˆä¸‹è½½ä¾èµ–åº“ï¼‰ï¼Œé…ç½®é˜²ç«å¢™è§„åˆ™ä»…å¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚8080ã€3306ã€6379ã€5672ï¼‰ã€‚

### 3.2. è·å–æºç 

ğŸ’¡**ç‰ˆæœ¬é€‰æ‹©**ï¼š

```javascript
é€šè¿‡ç½‘ç›˜è·å–å•†ä¸šç‰ˆè½¯ä»¶æºç 
--ç½‘ç›˜åœ°å€è”ç³»äº¤ä»˜åŒäº‹è·å–
```

ğŸ’¡ **æ¨¡å—å®šä½**ï¼š

- ç³»ç»Ÿç®¡ç†åŠŸèƒ½æ ¸å¿ƒæ¨¡å—ä½äºmoat, ä¾èµ–`moat//config`ï¼ˆé…ç½®ä¸­å¿ƒï¼‰ã€`studio/eureka`ï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰ç­‰åŸºç¡€æœåŠ¡ã€‚

ğŸ’¡ **ç‰ˆæœ¬æ§åˆ¶**ï¼š

- åˆ‡æ¢è‡³ç¨³å®šåˆ†æ”¯ï¼ˆå¦‚`release-2.0`ï¼‰ï¼Œé¿å…ä½¿ç”¨å¼€å‘åˆ†æ”¯ï¼ˆå¦‚`dev`ï¼‰ä»¥å‡å°‘å…¼å®¹æ€§é—®é¢˜ã€‚



### 3.3. ç¼–è¯‘æ„å»º

ğŸ’¡ **åç«¯æ„å»º**ï¼š

- ä½¿ç”¨Mavenç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼ˆé¦–æ¬¡æ„å»ºè€—æ—¶è¾ƒé•¿ï¼‰ï¼š

```javascript
mvn clean install -DskipTests
```

ğŸ’¡ **å…³é”®è¾“å‡º**ï¼š

- `system-service-parent/target/`ç›®å½•ä¸‹ç”ŸæˆJARåŒ…ï¼ˆå¦‚`system-service.jar`ï¼‰ã€‚
- è‹¥é¡¹ç›®é›†æˆå¾®å‰ç«¯ï¼ˆå¦‚Wujieæ¶æ„ï¼‰ï¼Œéœ€å•ç‹¬æ„å»ºå­æ¨¡å—ï¼ˆå¦‚`micro-frontend-service`ï¼‰ã€‚



ğŸ’¡ **å‰ç«¯æ„å»º**ï¼š

- è¿›å…¥å‰ç«¯ç›®å½•ï¼ˆå¦‚`micro-ui`ï¼‰ï¼Œå®‰è£…ä¾èµ–å¹¶æ„å»ºï¼š

```javascript
npm install
npm run build:prod
```

ğŸ’¡ **è¾“å‡º**ï¼š

- ç”Ÿæˆé™æ€èµ„æºæ–‡ä»¶ï¼ˆ`dist/`ç›®å½•ï¼‰ï¼Œéœ€éƒ¨ç½²åˆ°Nginxç­‰WebæœåŠ¡å™¨ã€‚

```javascript
npm run build:prod
```





### 3.4. éƒ¨ç½²åŠè¿è¡Œé…ç½®

#### 3.4.1. **æ•°æ®åº“åˆå§‹åŒ–**

- æ‰§è¡ŒSQLè„šæœ¬åˆå§‹åŒ–è¡¨ç»“æ„ï¼š

```javascript
mysql -u root -p studio < install/sql/studio.sql
```

- **ä¾èµ–æ¨¡å—åˆå§‹åŒ–**ï¼šéœ€å…ˆæ‰§è¡Œé…ç½®ä¸­å¿ƒã€æ³¨å†Œä¸­å¿ƒç­‰æ¨¡å—çš„SQLè„šæœ¬ã€‚

#### 3.4.2. **é…ç½®ä¿®æ”¹**

- **åç«¯é…ç½®**ï¼šä¿®æ”¹`application-common-dev.yml`ï¼ˆæˆ–å¯¹åº”ç¯å¢ƒæ–‡ä»¶ï¼‰ï¼š

```javascript
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/studio?useUnicode=true&characterEncoding=utf8
    username: root
    password: your_password
  redis:
    host: localhost
    port: 6379
  rabbitmq:
    host: localhost
    port: 5672
```

- **å‰ç«¯é…ç½®**ï¼šä¿®æ”¹`micro-ui/.env.production`æ–‡ä»¶ï¼Œé…ç½®APIè¯·æ±‚åœ°å€ï¼ˆå¦‚`VUE_APP_BASE_API=http://localhost:8080/api/`ï¼‰ã€‚



#### 3.4.3. **æœåŠ¡å¯åŠ¨é¡ºåº**

- **åŸºç¡€æœåŠ¡**ï¼š

1. æ³¨å†Œä¸­å¿ƒï¼ˆ`java -jar eureka-server.jar`ï¼‰
2. é…ç½®ä¸­å¿ƒï¼ˆ`java -jar config-server.jar`ï¼‰
3. ç½‘å…³ï¼ˆ`java -jar gateway-server.jar`ï¼‰

- **æ ¸å¿ƒæœåŠ¡**ï¼š
  4. ç³»ç»Ÿç®¡ç†æœåŠ¡ï¼ˆ`java -jar backend.jar`ï¼‰
  5. å…¶ä»–æœåŠ¡ï¼ˆå¦‚æ•°æ®é›†æˆã€å…ƒæ•°æ®ç®¡ç†ç­‰æŒ‰éœ€å¯åŠ¨ï¼‰



#### 3.4.4. **å‰ç«¯éƒ¨ç½²**

- é€šè¿‡NginxåŠ è½½é™æ€èµ„æºï¼Œé…ç½®åå‘ä»£ç†ï¼š

```javascript
location /api/ {
  proxy_pass http://localhost:8080/;
}
```

#### 3.4.5. **éªŒè¯éƒ¨ç½²**

- è®¿é—®Webç•Œé¢ï¼ˆå¦‚`http://localhost:8080`ï¼‰ï¼Œç™»å½•åæ£€æŸ¥â€œç³»ç»Ÿç®¡ç†â€æ¨¡å—æ˜¯å¦å¯ç”¨ï¼ˆå¦‚ç”¨æˆ·åˆ—è¡¨ã€è§’è‰²ç®¡ç†ã€èœå•é…ç½®ç­‰åŠŸèƒ½ï¼‰ã€‚



### 3.5. å¯é€‰é…ç½®

#### 3.5.1. **é«˜å¯ç”¨éƒ¨ç½²**

- **å¤šèŠ‚ç‚¹éƒ¨ç½²**ï¼šå°†æ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒã€ç½‘å…³ç­‰æ¨¡å—éƒ¨ç½²åˆ°ä¸åŒæœåŠ¡å™¨ï¼Œé€šè¿‡Nginxå®ç°è´Ÿè½½å‡è¡¡ã€‚
- **æ•°æ®åº“é›†ç¾¤**ï¼šMySQLä¸»ä»å¤åˆ¶æˆ–åˆ†åº“åˆ†è¡¨ï¼ŒRedisé›†ç¾¤æ”¯æŒé«˜å¹¶å‘è®¿é—®ã€‚

#### 3.5.2. **å®‰å…¨å¢å¼º**

- **æ•°æ®åŠ å¯†**ï¼šåœ¨`application.yml`ä¸­å¯ç”¨SSLï¼ˆå¦‚`server.ssl.enabled=true`ï¼‰ï¼Œé…ç½®HTTPSè¯ä¹¦ã€‚
- **å®¡è®¡æ—¥å¿—**ï¼šå¯ç”¨æ“ä½œæ—¥å¿—è®°å½•ï¼Œè®°å½•ç”¨æˆ·ç™»å½•ã€æƒé™å˜æ›´ç­‰æ•æ„Ÿæ“ä½œã€‚

#### 3.5.3. **æ€§èƒ½ä¼˜åŒ–**

- **JVMè°ƒä¼˜**ï¼šæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´JVMå‚æ•°ï¼ˆå¦‚`-Xms2g -Xmx4g`ï¼‰ã€‚
- **ç¼“å­˜ç­–ç•¥**ï¼šé…ç½®Redisç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢å‹åŠ›ã€‚

#### 3.5.4. **é›†æˆæ‰©å±•**

- **ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ**ï¼šé€šè¿‡APIç½‘å…³å¯¹æ¥ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ç­‰åä½œå¹³å°ï¼Œå®ç°å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰ã€‚
- **ç›‘æ§å‘Šè­¦**ï¼šé›†æˆç›‘æ§ç³»ç»Ÿæ€§èƒ½ï¼Œè®¾ç½®å‘Šè­¦é˜ˆå€¼ï¼ˆå¦‚CPUä½¿ç”¨ç‡>80%ï¼‰ã€‚



## 4. è®¿é—®ç³»ç»Ÿè®¾ç½®é¡µé¢

åŒ…å«ç”¨æˆ·ã€è§’è‰²ã€èœå•ã€éƒ¨é—¨ã€å²—ä½ã€å­—å…¸ã€ä»»åŠ¡è°ƒåº¦å¤šä¸ªå­åŠŸèƒ½ç®¡ç†ã€‚

#### 4.1.1. ç”¨æˆ·åˆ—è¡¨

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410973144-d6ecec9f-b768-4605-9a53-edc235b17e9b.png)

#### 4.1.2. æ–°å¢ç”¨æˆ·

å…è®¸ç®¡ç†å‘˜åœ¨ç³»ç»Ÿä¸­æ·»åŠ æ–°ç”¨æˆ·ï¼Œå¹¶ä¸ºå…¶åˆ†é…ç›¸åº”çš„è§’è‰²å’Œæƒé™ï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿè®¿é—®å’Œä½¿ç”¨ç³»ç»Ÿä¸­çš„èµ„æºã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741410982897-8821d9dc-6019-4aa0-b4f6-7db1f0ab0b03.png)

#### 4.1.3. ç³»ç»Ÿç›‘æ§

ç³»ç»Ÿç›‘æ§åŒ…å«åœ¨çº¿ç”¨æˆ·ã€æ“ä½œæ—¥å¿—ã€é”™è¯¯æ—¥å¿—ã€SQLç›‘æ§ç®¡ç†ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411181197-40b93c10-1e7e-4329-a272-7d4a7fc9c164.png)

#### 4.1.4. æ“ä½œæ—¥å¿—ç®¡ç†

å¸®åŠ©ç®¡ç†å‘˜è¿½è¸ªç”¨æˆ·çš„æ“ä½œè¡Œä¸ºï¼Œç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œåˆè§„æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411202778-893fed15-996e-4951-9fd0-656b807e048e.png)

#### 4.1.5. å¼‚å¸¸æ—¥å¿—ç®¡ç†

åŠæ—¶å‘ç°ç³»ç»Ÿä¸­çš„å¼‚å¸¸æƒ…å†µï¼Œå¦‚é”™è¯¯ã€æ•…éšœç­‰ï¼Œå¹¶é‡‡å–ç›¸åº”çš„æªæ–½è¿›è¡Œå¤„ç†ï¼Œç¡®ä¿ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411236664-8d2e2bed-e451-4d0c-b121-d2bfd32dde9e.png)

#### 4.1.6. SQLç›‘æ§ç®¡ç†

ç›‘æ§SQLæŸ¥è¯¢çš„æ‰§è¡Œæƒ…å†µï¼Œç¡®ä¿æŸ¥è¯¢çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411257676-02c36e25-9051-43bf-b747-15d538688d07.png)

#### 4.1.7. æœåŠ¡å™¨ç®¡ç†

æœåŠ¡å™¨ç®¡ç†åŒ…æ‹¬æœåŠ¡å™¨ã€åº”ç”¨ã€éƒ¨ç½²ç®¡ç†ã€éƒ¨ç½²å¤‡ä»½ã€æ•°æ®åº“ç®¡ç†ã€‚

##### 4.1.7.1. æœåŠ¡å™¨ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411294506-760fcefc-0cb0-4e21-be82-83553b4831f5.png)

##### 4.1.7.2. åº”ç”¨ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411303916-a15c0b95-0643-4cb4-abd5-5b7c688276b9.png)

##### 4.1.7.3. éƒ¨ç½²ç®¡ç†

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411314243-f34ff385-ba62-4a98-86f6-df2819fb6b26.png)

##### 4.1.7.4. éƒ¨ç½²å¤‡ä»½

é€šè¿‡éƒ¨ç½²å¤‡ä»½ï¼Œç®¡ç†å‘˜å¯ä»¥åœ¨åº”ç”¨ç¨‹åºå‡ºç°æ•…éšœæˆ–æ•°æ®ä¸¢å¤±æ—¶ï¼Œå¿«é€Ÿæ¢å¤åº”ç”¨ç¨‹åºçš„çŠ¶æ€ã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411329582-9eb8233c-11d2-46b5-93a1-2dfc871c25d1.png)

##### 4.1.7.5. æ•°æ®åº“ç®¡ç†

è´Ÿè´£ç›‘æ§å’Œç®¡ç†æ•°æ®åº“ä¸­çš„æ•°æ®å­˜å‚¨ã€æŸ¥è¯¢ã€å¤‡ä»½å’Œæ¢å¤ç­‰æ“ä½œã€‚

![img](https://cdn.nlark.com/yuque/0/2025/png/53404148/1741411339378-ed3f09f0-04d0-45b4-b7c7-71ca5179f606.png)





## 5. ç³»ç»Ÿç›‘æ§ä¸è¿ç»´

### 5.1. **å®æ—¶ç›‘æ§ï¼š**

- æä¾›ç³»ç»Ÿæ€§èƒ½ï¼ˆå¦‚CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜ç©ºé—´ç­‰ï¼‰çš„å®æ—¶ç›‘æ§åŠŸèƒ½ã€‚
- æ”¯æŒå¯¹å…³é”®ä¸šåŠ¡æŒ‡æ ‡ï¼ˆå¦‚æ•°æ®ååé‡ã€å“åº”æ—¶é—´ç­‰ï¼‰çš„å®æ—¶ç›‘æ§ã€‚

### 5.2. **æ—¥å¿—ç®¡ç†ï¼š**

- é›†ä¸­å­˜å‚¨å’Œç®¡ç†ç³»ç»Ÿæ—¥å¿—ï¼Œæ”¯æŒæ—¥å¿—çš„æŸ¥è¯¢ã€åˆ†æå’Œå½’æ¡£ã€‚
- æä¾›æ—¥å¿—çº§åˆ«çš„é…ç½®ï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„æ—¥å¿—éœ€æ±‚ã€‚

### 5.3. **å‘Šè­¦ä¸é€šçŸ¥ï¼š**

- å½“ç³»ç»Ÿæ€§èƒ½æˆ–ä¸šåŠ¡æŒ‡æ ‡è¾¾åˆ°é¢„è®¾çš„é˜ˆå€¼æ—¶ï¼Œè‡ªåŠ¨è§¦å‘å‘Šè­¦é€šçŸ¥ã€‚
- æ”¯æŒå¤šç§å‘Šè­¦é€šçŸ¥æ–¹å¼ï¼ˆå¦‚é‚®ä»¶ã€çŸ­ä¿¡ã€å³æ—¶æ¶ˆæ¯ç­‰ï¼‰ã€‚

### 5.4. **å¤‡ä»½ä¸æ¢å¤ï¼š**

- æä¾›æ•°æ®å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½ï¼Œç¡®ä¿åœ¨æ•°æ®ä¸¢å¤±æˆ–æŸåæ—¶èƒ½å¤Ÿè¿…é€Ÿæ¢å¤ã€‚
- æ”¯æŒå®šæœŸå¤‡ä»½å’Œæ‰‹åŠ¨å¤‡ä»½ä¸¤ç§æ–¹å¼ã€‚



## 6. æ³¨æ„äº‹é¡¹

### 6.1. **æƒé™ç®¡ç†ï¼š**

ä¸¥æ ¼éµå¾ªæœ€å°æƒé™åŸåˆ™ï¼Œå®šæœŸå®¡è®¡ç”¨æˆ·æƒé™ï¼Œç¡®ä¿æƒé™åˆ†é…ä¸ç”¨æˆ·çš„å®é™…å·¥ä½œèŒè´£ç›¸åŒ¹é…ã€‚

### 6.2. **æ•°æ®å®‰å…¨ï¼š**

å¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†å­˜å‚¨å’Œä¼ è¾“ï¼Œå®šæœŸå¤‡ä»½æ•°æ®ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§å’Œå¯ç”¨æ€§ã€‚

### 6.3. **ç³»ç»Ÿç›‘æ§ä¸å‘Šè­¦ï¼š**

å®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ï¼Œè®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼ï¼Œç¡®ä¿ç®¡ç†å‘˜èƒ½å¤ŸåŠæ—¶æ”¶åˆ°å‘Šè­¦ä¿¡æ¯å¹¶é‡‡å–æªæ–½ã€‚





------







